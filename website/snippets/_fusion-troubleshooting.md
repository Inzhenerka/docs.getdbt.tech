Если у вас возникли какие‑либо проблемы, ознакомьтесь с разделом устранения неполадок ниже.

<Expandable alt_header="Как создать директорию .dbt в корне и переместить файл dbt_cloud.yml">

import DbtDirectoryFaq from '/snippets/_dbt-directory-faq.md';

<DbtDirectoryFaq />

</Expandable>

<Expandable alt_header="Я не вижу вкладку lineage в Cursor">

Если вы используете расширение dbt для VS Code в Cursor, вкладка lineage лучше всего работает в режиме **Editor** и не отображается в режиме **Agent**. Если вы находитесь в режиме Agent и вкладка lineage не рендерится, просто переключитесь в режим Editor, чтобы просмотреть lineage таблиц и колонок вашего проекта.
</Expandable>

<Expandable  alt_header="Настройки dbt platform">

Если вы используете облачную платформу dbt, у вас есть конфигурация `dbt-cloud:` в файле `dbt_project.yml`, и при этом вы также используете dbt Mesh, необходимо указать ID проекта:
```yaml
dbt-cloud:
  project-id: 12345 # Required
```
Если эта настройка указана некорректно, кросс‑платформенные ссылки не будут разрешаться, и при выполнении команд dbt будут возникать ошибки.

</Expandable>

<Expandable alt_header="Расширение dbt не активируется">

Если расширение dbt успешно активировалось, вы увидите метку **dbt Extension** в строке состояния в левом нижнем углу редактора. Диагностическую информацию о расширении dbt можно посмотреть, нажав на кнопку **dbt Extension**.

Если метка **dbt Extension** отсутствует, скорее всего, расширение dbt не было установлено корректно. В этом случае попробуйте удалить расширение, перезапустить редактор и затем установить расширение заново.

**Примечание:** В VS Code можно «скрывать» элементы строки состояния. Проверьте, не скрыта ли метка dbt Extension: щёлкните правой кнопкой мыши по строке состояния в редакторе. Если в контекстном меню присутствует dbt Extension, значит расширение было установлено успешно.
</Expandable>

<Expandable alt_header="Ошибка Missing dbt LSP features">

Если вы получаете сообщение об ошибке `no active LSP for this workspace` или не видите возможности dbt Language Server (LSP) в редакторе (например, автодополнение, переход к определению или всплывающие подсказки), сначала выполните общие шаги по устранению неполадок, описанные ранее.

Если вы убедились, что расширение dbt установлено корректно, но функции LSP по‑прежнему отсутствуют, попробуйте следующее:

1. Проверьте версию расширения — убедитесь, что вы используете последнюю доступную версию расширения dbt:
   - откройте страницу **Extensions** в редакторе, или
   - перейдите на вкладку **Output** и посмотрите номер версии, или
   - выполните команду `dbtf --version` в терминале.
2. Переустановите LSP — если версия корректна, переустановите LSP:
   1. Откройте Command Palette: Command + Shift + P (macOS) или Ctrl + Shift + P (Windows/Linux).
   2. Введите `dbt: Reinstall dbt LSP` и нажмите Enter.

Эта команда загрузит LSP и повторно активирует расширение, что должно устранить ошибку.

</Expandable>

<Expandable alt_header="Неподдерживаемая версия dbt">

Если вы видите сообщение об ошибке о том, что используемая версия dbt не поддерживается, скорее всего, проблема связана с вашим окружением.

Проверьте настройку dbt Path в настройках VS Code. Если этот путь задан, убедитесь, что он указывает на корректный исполняемый файл dbt Fusion Engine.  
При необходимости вы также можете установить dbt Fusion Engine напрямую, следуя этим инструкциям: [Install the Fusion CLI](/docs/fusion/install-fusion-cli)
</Expandable>

<Expandable alt_header="Устранение ошибки 'dbt language server is not running in this workspace'">

Чтобы устранить ошибку `dbt language server is not running in this workspace`, необходимо добавить папку с проектом dbt в workspace:

1. В VS Code нажмите **File** в панели инструментов и выберите **Add Folder to Workspace**.
2. Выберите папку проекта dbt, которую хотите добавить в workspace.
3. Чтобы сохранить workspace, нажмите **File**, затем выберите **Save Workspace As**.  
4. Укажите расположение, в котором вы хотите сохранить workspace.

После этого ошибка должна исчезнуть, а ваш проект dbt будет открыт через соответствующий workspace. Дополнительную информацию о workspace см. в разделе [Что такое Workspace в VS Code?](https://code.visualstudio.com/docs/editing/workspaces/workspaces).
</Expandable>
