## Примеры использования

Следующая настройка будет работать для каждого проекта dbt:

- Добавьте [любые зависимости пакетов](/docs/collaborate/govern/project-dependencies#when-to-use-project-dependencies) в `packages.yml`
- Добавьте [любые зависимости проекта](/docs/collaborate/govern/project-dependencies#when-to-use-package-dependencies) в `dependencies.yml`

Однако, вы можете объединить оба файла в один `dependencies.yml`. Прочтите следующий раздел, чтобы узнать больше.

#### О файлах packages.yml и dependencies.yml
Файл `dependencies.yml` может содержать оба типа зависимостей: "зависимости пакетов" и "зависимости проектов".
- [Зависимости пакетов](/docs/build/packages#how-do-i-add-a-package-to-my-project) позволяют добавлять исходный код из чужого проекта dbt в ваш собственный, как библиотеку.
- Зависимости проектов предоставляют другой способ использовать наработки других в dbt.

Если вашему проекту dbt не требуется использование Jinja в спецификациях пакетов, вы можете просто переименовать ваш существующий `packages.yml` в `dependencies.yml`. Однако, стоит отметить, что если спецификации пакетов вашего проекта используют Jinja, особенно в сценариях, таких как добавление переменной окружения или [метод Git-токена](/docs/build/packages#git-token-method) в спецификации частного Git-пакета, вам следует продолжать использовать имя файла `packages.yml`.

Используйте следующие переключатели, чтобы понять различия и определить, когда использовать `dependencies.yml` или `packages.yml` (или оба). Обратитесь к [Часто задаваемым вопросам](#faqs) для получения дополнительной информации.

<Expandable alt_header="Когда использовать зависимости проекта" >

Зависимости проекта предназначены для [dbt Mesh](/best-practices/how-we-mesh/mesh-1-intro) и рабочего процесса [межпроектных ссылок](/docs/collaborate/govern/project-dependencies#how-to-write-cross-project-ref):

- Используйте `dependencies.yml`, когда вам нужно настроить межпроектные ссылки между различными проектами dbt, особенно в настройке dbt Mesh.
- Используйте `dependencies.yml`, когда вы хотите включить как проекты, так и нечастные пакеты dbt в зависимости вашего проекта.
  - Частные пакеты не поддерживаются в `dependencies.yml`, потому что они намеренно не поддерживают рендеринг Jinja или условную конфигурацию. Это сделано для поддержания статической и предсказуемой конфигурации и обеспечения совместимости с другими сервисами, такими как dbt Cloud.
- Используйте `dependencies.yml` для организации и поддерживаемости, если вы используете как [межпроектные ссылки](/docs/collaborate/govern/project-dependencies#how-to-write-cross-project-ref), так и [пакеты dbt Hub](https://hub.getdbt.com/). Это уменьшает необходимость в нескольких YAML-файлах для управления зависимостями.

</Expandable>

<Expandable alt_header="Когда использовать зависимости пакетов" >

Зависимости пакетов позволяют добавлять исходный код из чужого проекта dbt в ваш собственный, как библиотеку:

- Если вы используете только пакеты, такие как из [dbt Hub](https://hub.getdbt.com/), оставайтесь с `packages.yml`.
- Используйте `packages.yml`, когда вы хотите загрузить пакеты dbt, такие как проекты dbt, в ваш корневой или родительский проект dbt. Стоит отметить, что это не способствует рабочему процессу dbt Mesh.
- Используйте `packages.yml`, чтобы включить пакеты, включая частные пакеты, в зависимости вашего проекта. Если у вас есть частные пакеты, к которым вам нужно обратиться, `packages.yml` — это то, что вам нужно.
- `packages.yml` поддерживает рендеринг Jinja по историческим причинам, позволяя динамическую конфигурацию. Это может быть полезно, если вам нужно вставить значения, такие как [метод Git-токена](/docs/build/packages#git-token-method) из переменной окружения, в спецификации вашего пакета.

В настоящее время, чтобы использовать частные git-репозитории в dbt, вам нужно использовать обходной путь, который включает встраивание git-токена с помощью Jinja. Это не идеально, так как требует дополнительных шагов, таких как создание пользователя и совместное использование git-токена. Мы планируем ввести более простой метод в ближайшее время, который не будет требовать секретных переменных окружения, встроенных в Jinja. По этой причине `dependencies.yml` не поддерживает Jinja.

</Expandable>