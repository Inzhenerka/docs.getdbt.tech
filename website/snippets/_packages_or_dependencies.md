## Примеры использования

Следующая настройка будет работать для каждого проекта dbt:

- Добавьте [любые зависимости пакетов](/docs/collaborate/govern/project-dependencies#when-to-use-project-dependencies) в `packages.yml`
- Добавьте [любые зависимости проекта](/docs/collaborate/govern/project-dependencies#when-to-use-package-dependencies) в `dependencies.yml`

- Добавьте [все зависимости пакетов](/docs/mesh/govern/project-dependencies#when-to-use-project-dependencies) в `packages.yml`
- Добавьте [все зависимости проектов](/docs/mesh/govern/project-dependencies#when-to-use-package-dependencies) в `dependencies.yml`

#### О файлах packages.yml и dependencies.yml
Файл `dependencies.yml` может содержать оба типа зависимостей: "зависимости пакетов" и "зависимости проектов".
- [Зависимости пакетов](/docs/build/packages#how-do-i-add-a-package-to-my-project) позволяют добавлять исходный код из чужого проекта dbt в ваш собственный, как библиотеку.
- Зависимости проектов предоставляют другой способ использовать наработки других в dbt.

Если вашему проекту dbt не требуется использование Jinja в спецификациях пакетов, вы можете просто переименовать ваш существующий `packages.yml` в `dependencies.yml`. Однако, стоит отметить, что если спецификации пакетов вашего проекта используют Jinja, особенно в сценариях, таких как добавление переменной окружения или [метод Git-токена](/docs/build/packages#git-token-method) в спецификации частного Git-пакета, вам следует продолжать использовать имя файла `packages.yml`.

Используйте следующие переключатели, чтобы понять различия и определить, когда использовать `dependencies.yml` или `packages.yml` (или оба). Обратитесь к [Часто задаваемым вопросам](#faqs) для получения дополнительной информации.

<Expandable alt_header="Когда использовать зависимости проекта" >

Зависимости проекта предназначены для [dbt Mesh](/best-practices/how-we-mesh/mesh-1-intro) и рабочего процесса [межпроектных ссылок](/docs/collaborate/govern/project-dependencies#how-to-write-cross-project-ref):

Зависимости проекта предназначены для рабочих процессов [dbt Mesh](/best-practices/how-we-mesh/mesh-1-intro) и [межпроектных ссылок](/docs/mesh/govern/project-dependencies#how-to-write-cross-project-ref):

- Используйте `dependencies.yml`, когда вам нужно настроить межпроектные ссылки между разными dbt‑проектами, особенно в рамках dbt Mesh.
- Используйте `dependencies.yml`, когда вы хотите включить в зависимости проекта как другие проекты, так и непубличные пакеты dbt.
  - Приватные пакеты не поддерживаются в `dependencies.yml`, поскольку этот файл намеренно не поддерживает рендеринг Jinja или условную конфигурацию. Это сделано для сохранения статической и предсказуемой конфигурации и обеспечения совместимости с другими сервисами, такими как <Constant name="cloud" />.
- Используйте `dependencies.yml` для улучшения организации и поддерживаемости, если вы одновременно используете [межпроектные ссылки](/docs/mesh/govern/project-dependencies#how-to-write-cross-project-ref) и [пакеты dbt Hub](https://hub.getdbt.com/). Это снижает необходимость в использовании нескольких YAML‑файлов для управления зависимостями.

</Expandable>

<Expandable alt_header="Когда использовать зависимости пакетов" >

Зависимости пакетов позволяют добавлять исходный код из чужого проекта dbt в ваш собственный, как библиотеку:

- Если вы используете только пакеты, такие как пакеты из [dbt Hub](https://hub.getdbt.com/), продолжайте использовать `packages.yml`.
- Используйте `packages.yml`, когда вам нужно загружать dbt‑пакеты, например dbt‑проекты, в ваш корневой или родительский dbt‑проект. Важно отметить, что это не является частью рабочего процесса dbt Mesh.
- Используйте `packages.yml` для подключения пакетов в качестве зависимостей вашего проекта. Это включает как публичные пакеты, например из [dbt Hub](https://hub.getdbt.com/), так и приватные пакеты. Теперь dbt поддерживает [нативные приватные пакеты](/docs/build/packages#native-private-packages).
- `packages.yml` поддерживает рендеринг Jinja по историческим причинам, что позволяет использовать динамические конфигурации. Это может быть полезно, если вам нужно подставлять значения, например метод с [Git‑токеном](/docs/build/packages#git-token-method) из переменной окружения, в описание пакетов.

Ранее для использования приватных Git‑репозиториев в dbt требовалось применять обходное решение, связанное с встраиванием Git‑токена с помощью Jinja. Это не является оптимальным подходом, так как требует дополнительных шагов, например создания пользователя и распространения Git‑токена. Чтобы решить эту проблему, мы добавили поддержку [нативных приватных пакетов](/docs/build/packages#native-private-packages-).

</Expandable>