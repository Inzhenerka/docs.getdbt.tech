---
title: "Журнал изменений 2019 и 2020"
id: "dbt-cloud-changelog-2019-2020"
sidebar_label: Changelog (2019 and 2020)
description: "Журнал изменений приложения dbt Cloud за 2019 и 2020 годы"

tags: [v1.1.16, v1.1.15, v1.1.14, v1.1.13, v1.1.12, v1.1.11, v1.1.10, v1.1.09, v1.1.08, v1.1.07, v1.1.06, v1.1.05, v1.1.04, v1.1.03, v1.1.02, v1.1.01, v0.5.0, Jan-1-2020]
---

:::note

Этот журнал изменений ссылается на версии dbt, которые больше не поддерживаются и были удалены из документации. Подробнее о том, как обновиться до поддерживаемой версии dbt в среде dbt Cloud, читайте в разделе [Upgrade dbt version in Cloud](/docs/dbt-versions/upgrade-dbt-version-in-cloud).

:::

Добро пожаловать в журнал изменений за 2019 и 2020 годы для приложения <Constant name="cloud" />! С помощью этого журнала вы можете узнать об основных нововведениях, исправлениях и улучшениях, которые были внесены за этот период.

## dbt Cloud v1.1.16 (23 декабря 2020) {#dbt-cloud-v1116-december-23-2020}

Этот релиз добавляет предварительную поддержку Databricks Spark в <Constant name="cloud" />
и добавляет два новых набора разрешений для Enterprise-аккаунтов.

#### Улучшения {#enhancements}

- Добавлена предварительная поддержка Databricks Spark
- Добавлены два новых набора разрешений Enterprise: Account Viewer и Project Creator

#### Исправления {#fixed}

- Улучшена инфраструктура логирования для логов dbt run
- Исправлены ошибки логирования SSH-туннелей


## dbt Cloud v1.1.15 (10 декабря 2020) {#dbt-cloud-v1115-december-10-2020}

В этом релизе есть много интересного для обсуждения: на этой неделе многое сошлось воедино! Большой интерес вызвало добавление Spark в семейство подключений, а также исправление ряда давних ошибок.

#### Улучшения {#enhancements-1}

- Добавлен Spark как вариант при настройке базы данных

#### Исправления {#fixed-1}

- Исправлена сложная ошибка, при которой один email мог быть привязан к нескольким пользовательским аккаунтам
- Исправлена маршрутизация react-страниц при настройке подключения
- Вынесена логика выбора групп из типов лицензий и названий групп
- Обработка JSON-ошибок при парсинге тела запросов v1/v2
- Корректная обработка AuthForbidden и AuthCancelled — без возврата 500-х ошибок
- Исправлена регрессия со спиннером загрузки <Constant name="cloud_ide" />


## dbt Cloud v1.1.14 (25 ноября 2020) {#dbt-cloud-v1114-november-25-2020}

Этот релиз добавляет несколько новых связующих компонентов, в частности OAuth для BigQuery и работу над SparkAdapter. Также включены улучшения «качества жизни» и заделы на будущее, сфокусированные на пользователях <Constant name="cloud_ide" />, а также улучшена передача данных для наблюдаемости в системы логирования и использования API.

#### Улучшения {#enhancements-2}

- Обновлён allowlist IP-адресов
- Пользователь может использовать OAuth для BigQuery в учётных данных профиля
- Добавлены backend-модели, мапперы и сервисы SparkAdapter
- Добавлена интеграция BigQuery OAuth
- Добавлен индекс базы данных для owner_thread_id

#### Исправления {#fixed-2}

- Исправлен уровень ошибок для POST /run
- Исправлена ошибка, при которой в dbt run передавался неверный аргумент
- Логирование необработанных ошибок в менеджере контекста переменных окружения
- Удалены разрешения на настройки аккаунта для пользовательских интеграций


## dbt Cloud v1.1.13 (12 ноября 2020) {#dbt-cloud-v1113-november-12-2020}

Этот релиз добавляет поддержку запуска заданий с переопределёнными атрибутами через
API-эндпоинт [triggerRun](/dbt-cloud/api-v2#). Кроме того,
было устранено множество ошибок и выполнены улучшения производительности.

#### Улучшения {#enhancements-3}

- Улучшена обработка ошибок для долгих запросов в <Constant name="cloud_ide" />
- Использование кэширования S3-клиента для ускорения загрузки логов запланированных запусков
- Поддержка запуска заданий [с переопределёнными атрибутами через API](/dbt-cloud/api-v2#)
- Уточнён текст «upgrade» на странице биллинга

#### Исправления {#fixed-3}

- Эндпоинт GitLab groups теперь возвращает все группы и подгруппы
- Поддержка retry-конфигураций BigQuery со значением 0
- Предотвращён краш Web IDE после запуска некорректной команды dbt
- Дополнительная очистка логов для фильтрации краткоживущих git-учётных данных
- Исправлена старая миграция, чтобы поле auth_url могло быть NULL
- Поддержка путей в URL GitLab-инстанса
- Исправлен URL запроса auth token в OAuth-флоу GitLab


## dbt Cloud v1.1.12 (30 октября 2020) {#dbt-cloud-v1112-october-30-2020}

Этот релиз добавляет dbt v0.18.1 и 0.19.0b1 в dbt Cloud. Также было исправлено несколько ошибок.

#### Улучшения {#enhancements-4}

- Обновлён текст на странице биллинга при выборе плана по окончании триала
- Улучшена авторизация для Metadata API
- Добавлен dbt 0.19.0b1
- Добавлен dbt 0.18.1

#### Исправления {#fixed-4}

- Исправлена ошибка, при которой группы из других залогиненных аккаунтов отображались в RBAC UI
- Исправлены запрашиваемые GitLab scope и ошибка при шифровании deploy-токенов для GitLab-аутентификации
- Исправлена ошибка, при которой нулевые символы в логах вызывали сбои в запланированных запусках


## dbt Cloud v1.1.11 (15 октября 2020) {#dbt-cloud-v1111-october-15-2020}

Релиз v1.1.11 включает ряд улучшений «качества жизни», правки текста и исправления ошибок. Также это последний раз, когда у нас подряд повторяется одна и та же цифра четыре раза в номере версии — до v2.2.22.

#### Улучшения {#enhancements-5}

- Добавлена обработка исключения InterfaceError для команд
- Переименовано My Account → Profile
- Добавлены проект и подключение в административный backend

#### Исправления {#fixed-5}

- Устранены ошибки, связанные с наличием нулевых символов в логах
- Backend для верификации email
- Откат run.serialize
- Исправлена ошибка при сериализации запуска
- Исправлена логическая ошибка при настройке подключения
- Исправлена ошибка в GitLab auth flow для неаутентифицированных пользователей
- Исправлена ошибка, при которой Native Okta SSO использовал неправильный порт


## dbt Cloud v1.1.10 (8 октября 2020) {#dbt-cloud-v1110-october-8-2020}

Этот релиз добавляет поддержку репозиториев, импортированных через GitLab (Enterprise),
и содержит ряд исправлений и улучшений в <Constant name="cloud_ide" />.

#### Улучшения {#enhancements-6}

- Добавлена интеграция с GitLab (Enterprise)
- Добавлена настройка репозитория GitLab в поток настройки проекта (Enterprise)
- Добавлена автоматическая установка Deploy Token для GitLab (Enterprise)
- Добавлен dbt 0.18.1rc1

#### Исправления {#fixed-6}

- Исправлена ошибка, при которой <Constant name="cloud_ide" /> зависал после смены репозитория проекта
- Исправлено состояние гонки, из-за которого подключения могли добавляться не в тот проект
- Исправлено отзыв email-приглашений
- Исправлена ошибка в slim CI deferring run search, когда отсутствие предыдущего запуска приводило к ошибке планировщика
- Исправлен один из источников нестабильности <Constant name="cloud_ide" />
- Корректное завершение работы backend <Constant name="cloud_ide" /> при остановке
- Всегда отображать SSO-маппинги на странице Group Details


## dbt Cloud v1.1.9 (1 октября 2020) {#dbt-cloud-v119-october-1-2020}

Этот релиз добавляет возможность для администраторов на Enterprise-плане настраивать
права Role Based Access Control, применяемые к проектам в аккаунте.
Кроме того, откладывание выполнения заданий теперь доступно за feature flag,
а также выпущен ряд исправлений и улучшений.

#### Улучшения {#enhancements-7}

- Добавлена версия <Constant name="cloud" /> в боковую панель навигации
- Добавлены UI для просмотра, создания и изменения RBAC Group Permission
- Добавлена персональная git-аутентификация для модальных окон обработки ошибок <Constant name="cloud_ide" />
- Добавлены Develop Requests в backend-представления
- Реализовано откладывание выполнения заданий
- Добавлена поддержка dbt v0.18.1b2

#### Исправления {#fixed-7}

- Исправлен сценарий, при котором взаимодействие с кнопкой Refresh <Constant name="cloud_ide" /> приводило к тому, что файл index.lock оставался в файловой системе <Constant name="cloud_ide" />
- Проверка PR URL на попытки XSS
- Устранены несоответствия RBAC
- Исправлена ошибка, из-за которой пользователи не могли обновить пароль <Constant name="cloud" /> в приложении
- Исправлено применение пользовательских разрешений в нескольких аккаунтах после SSO-аутентификации
- Google API: по умолчанию используется общий API-эндпоинт, но разрешено переопределение
- Исправлено отсутствие переменной email в debug-логировании GSuite
- Уничтожение сессии <Constant name="cloud_ide" /> при переключении проектов


## dbt Cloud v1.1.8 (17 сентября 2020) {#dbt-cloud-v118-september-17-2020}

Этот релиз добавляет нативную поддержку Okta SSO и dbt v0.18.0. Также добавлена
начальная поддержка интеграции с GitLab и самостоятельная настройка RBAC.

#### Улучшения {#enhancements-8}
- Добавлен dbt 0.18.0
- Добавлена нативная поддержка Okta SSO
- Добавлено дополнительное логирование для Gsuite и Azure SSO
- Добавлена поддержка git clone через GitLab deploy tokens для запланированных запусков (скоро)
- Добавлены UI страницы деталей RBAC Groups и списка групп

#### Исправления {#fixed-8}

- Разрешены `*_proxy` переменные окружения в запланированных запусках


## dbt Cloud v1.1.7 [3 сентября 2020] {#dbt-cloud-v117-september-3-2020}

Этот релиз добавляет Release Candidate для [dbt
v0.18.0](/docs/dbt-versions/core-upgrade) и
включает исправления и улучшения Cloud IDE
и планировщика заданий.

#### Улучшения {#enhancements-9}
- Улучшено поведение backoff у планировщика
- Добавлен dbt 0.18.0rc1
- Добавлена поддержка нестандартных SSH-портов в туннелях подключений
- Добавлена возможность закрывать контекстное меню файловой системы <Constant name="cloud_ide" /> кликом вне меню

#### Исправления {#fixed-9}
- Исправлено объединение потоков в триггерах запусков
- Исправлено кэширование потоков для S3-загрузок


## dbt Cloud v1.1.6 (20 августа 2020) {#dbt-cloud-v116-august-20-2020}

Этот релиз включает улучшения безопасности и доработки по всему приложению
<Constant name="cloud" />.

#### Улучшения {#enhancements-10}
- Поддержка просмотра документации по разработке прямо в <Constant name="cloud_ide" /> ([docs](/docs/cloud/studio-ide/develop-in-studio)
- Изменены временные схемы CI: теперь они имеют префикс `dbt_cloud` вместо `sinter`
- Изменены цвета и иконки для улучшения доступности и UX по всему приложению
- [Enterprise] Поддержка указания нескольких авторизованных доменов в конфигурации SSO
- [On-premises] Обновление boto3 для поддержки аутентификации KIAM

#### Исправления {#fixed-10}
- [Enterprise] Исправлено отсутствие маппингов членства в IdP-группах, когда пользователи состоят более чем в 100 группах Azure AD
- Запрещено создание симлинков в <Constant name="cloud_ide" />
- Улучшена надёжность фоновых процессов очистки
- Улучшена производительность и надёжность управления артефактами и обработки PR webhook


## dbt Cloud v1.1.5 (4 августа 2020) {#dbt-cloud-v115-august-4-2020}

Этот релиз добавляет крупную новую функцию в <Constant name="cloud_ide" />: разрешение merge-конфликтов!

Также он включает изменения в планировщике заданий, которые значительно сократили
время работы и потребление ресурсов.

#### Улучшения {#enhancements-11}

- Добавлен dbt 0.17.2
- Добавлен dbt 0.18.0 beta 2
- Добавлены разрешение merge-конфликтов, workflow merge commit и workflow отмены merge в IDE
- Устаревшими объявлены версии dbt ниже 0.13.0
- Рефакторинг для сокращения времени цикла планировщика заданий
- Сокращено количество лишних запросов к аккаунтным <Term id="table" /> в цикле планировщика
- [On-premises] Разрешено отключать аутентификацию для SMTP
- [On-premises] Разрешено отключать TLS для SMTP
- [On-premises] Перевод режима доступа k8s для pod’ов <Constant name="cloud_ide" /> в переменную окружения
- [Security] Принудительная установка secure-флага для session cookie
- Приведение модулей api и admin в соответствие требованиям flake8

#### Исправления {#fixed-11}

- Исправлено некорректное использование `region_name` в KMS-клиенте
- Исправлен вызов устаревшего Github API
- Удалены лишние вызовы billing API в цикле планировщика
- Исправлена ошибка, при которой обновление IDE оставляло запущенные dbt-процессы в некорректном состоянии


## dbt Cloud v1.1.4 (21 июля 2020) {#dbt-cloud-v114-july-21-2020}

Этот релиз значительно ускоряет планировщик заданий. Он добавляет новую
стабильную версию dbt (0.17.1) и новый prerelease (0.17.2b1), а также
включает ряд исправлений.

#### Улучшения {#enhancements-12}

- Добавлен dbt 0.17.2b1
- Добавлен dbt 0.17.1 и установлен как версия по умолчанию
- Ускорение планировщика заданий на 50%
- Добавлена генерация docs в rpc-сервис и новый маршрут просмотра docs
- Ограничение очередей запланированных заданий по аккаунтам

#### Исправления {#fixed-12}

- Исправлена конфигурация Enterprise SSO при использовании старого Auth0 Azure AD
- Не планировать задания для удалённых job definitions или environments
- Исправлены проблемы с разрешениями
- Исправлена ошибка с metadata, заданной в azure storage provider
- Исправлена ошибка при переходе с trial на developer-план
- Исправлена ошибка аутентификации, при которой все аккаунты настраивались с одним и тем же доменом
- \[Security\] Добавлена проверка безопасности для предотвращения потенциально вредоносных html-файлов в dbt docs


## dbt Cloud v1.1.3 (7 июля 2020) {#dbt-cloud-v113-july-7-2020}

Этот релиз содержит ряд функций IDE и исправлений ошибок, новый release candidate dbt,
а также совершенно новый метод Enterprise Single-Sign On: Azure Active Directory!

#### Улучшения {#enhancements-13}

- Добавлен dbt 0.17.1rc3
- Snowflake: добавлена поддержка конфига `client_session_keep_alive`
- Enterprise: нативный Azure Oauth2 для Enterprise-аккаунтов
- <Constant name="cloud_ide" />: добавлена настраиваемая command palette для поиска файлов

#### Исправления {#fixed-13}

- Не запускать CI-сборки для draft PR в GitHub
- Устранено состояние гонки при синхронизации аккаунта с событиями биллинга Stripe
- Enterprise: исправлена ошибка JIT provisioning, затрагивавшая аккаунты с общими доменами IdP
- <Constant name="cloud_ide" />: исправлена регрессия с методом git clone через Github
- <Constant name="cloud_ide" />: исправлено состояние гонки, при котором git clone не завершался до входа пользователя в <Constant name="cloud_ide" />
- <Constant name="cloud_ide" />: исправлена ошибка при checkout пользовательской ветки окружения при обновлении <Constant name="cloud_ide" />
- Bigquery: исправлено удаление PR-схем


## dbt Cloud v1.1.2 (23 июня 2020) {#dbt-cloud-v112-june-23-2020}

Эта ветка включает важное исправление безопасности, две новые версии dbt и некоторые дополнительные исправления.

#### Улучшения {#enhancements-14}

- Добавлены названия проектов в раздел уведомлений настроек аккаунта
- Добавлен release candidate dbt 0.17.1
- Обновлена версия dbt для разработки на Marian Anderson
- Добавлена опция remember me на странице входа и завершение пользовательских сессий при закрытии браузера
- Добавлен Auth Provider и включён Gsuite SSO для Enterprise-клиентов

#### Исправлено {#fixed-14}

- \[Security\] Исправлена утечка API-ключей внутри одного аккаунта
- Добавлена поддержка запросов, содержащих unicode-символы, в <Constant name="cloud_ide" />


## dbt Cloud v1.1.1 (9 июня 2020) {#dbt-cloud-v111-june-9-2020}

Этот релиз включает dbt 0.17.0 и ряд улучшений удобства работы в IDE.

#### Улучшения {#enhancements-15}

- Добавлен dbt 0.17.0
- Добавлена возможность создавать новую папку в IDE
- Добавлено отображение статуса gitignore в файловой системе и отображение артефактов dbt, включая директории dbt_modules, logs и target
- (Только Cloud) Добавлен rollbar и выполнена очистка и улучшение обработки различных ошибок
- (Только On-premises) Admin site: разрешено оставлять поле Pull Request Template репозитория пустым
- (Только On-premises) Добавлена поддержка AWS KMS

#### Исправлено {#fixed-15}

- Истечение срока действия старых ожидающих кодов сброса пароля при запросе нового сброса пароля


## dbt Cloud v1.1.0 (2 июня 2020) {#dbt-cloud-v110-june-2-2020}

Этот релиз добавляет новую функциональность административного бэкенда, а также автоматическую отчетность по использованию мест (seats).

### Только On-Premises {#on-premises-only}

#### Добавлено {#added}

- Добавлена автоматическая отчетность по использованию мест.

#### Изменено {#changed}

- Администраторы теперь могут редактировать remote URL репозитория в административном бэкенде.
- Администраторы теперь могут редактировать учетные данные в административном бэкенде.

---

## dbt Cloud v1.0.12 (27 мая 2020) {#dbt-cloud-v1012-may-27-2020}

Этот релиз содержит несколько исправлений ошибок для <Constant name="cloud_ide" /> и email-уведомлений, а также последний релиз-кандидат версии 0.17.0.

### Все версии {#all-versions}

#### Добавлено {#added-1}

- Использование корректного тега starter project в зависимости от версии dbt при инициализации нового проекта в IDE
- Добавлена фильтрация веток в UI git checkout IDE.
- Добавлен dbt 0.17.0-rc3.

#### Исправлено {#fixed-16}

- Исправлен отчет source freshness для версии dbt v0.17.0
- Исправлена проблема при checkout git-веток
- Исправлена проблема, из-за которой логи не отображались для долгих запросов в <Constant name="cloud_ide" />
- Исправлена ошибка, при которой slack-уведомления не отправлялись, если отправка email-уведомлений завершалась неудачей

### Только On-Premises {#on-premises-only-1}

#### Добавлено {#added-2}

- Добавлена Admin-страница для удаления учетных данных.

---

## dbt Cloud v1.0.11 (19 мая 2020) {#dbt-cloud-v1011-may-19-2020}

Эта версия добавляет новые наборы разрешений, а также новый релиз-кандидат dbt.

### Все версии {#all-versions-1}

#### Добавлено {#added-3}

- Добавлены наборы разрешений для Job Viewer, Job Admin и Analyst.
- Добавлен dbt 0.17.0-rc1

---

## dbt Cloud v1.0.10 (11 мая 2020) {#dbt-cloud-v1010-may-11-2020}

### Все версии {#all-versions-2}

#### Добавлено {#added-4}

- Добавлен dbt 0.17.0-b1.
- PR Url теперь настраивается пользователем самостоятельно.
- Добавлены более детализированные разрешения для создания и удаления проектов. (Account Admin по умолчанию может создавать новые проекты, а Account Admin и Project Admin — удалять проекты, на которые у них есть права)
- Добавлено сообщение об ошибке для отображения пользователям, у которых не настроены разрешения ни для одного проекта в аккаунте.

#### Исправлено {#fixed-17}

- Удалено расширение .sql из имени CSV-файла при скачивании
- Исправлена ломающая обратную совместимость ошибка в JobDefinition API с новым параметром custom_branch_only
- Исправлено отображение регистра заголовков колонок таблицы запросов в <Constant name="cloud_ide" />

---

## dbt Cloud v1.0.9 (5 мая 2020) {#dbt-cloud-v109-may-5-2020}

Этот релиз включает исправления ошибок, связанных с применением разрешений к запускам и шагам запусков, исправление ошибки, при которой планировщик зависал, а также улучшения производительности <Constant name="cloud_ide" />.

### Все версии {#all-versions-3}

#### Исправлено {#fixed-18}

- Исправлены проверки разрешений для Runs и Run Steps; это затрагивает только Enterprise-аккаунты с разрешениями на уровне проектов.
- Исправлено принятие произвольного remote_url при создании git-репозитория.
- Исправлена ошибка обработки нересурсных ошибок от RPC-сервера в <Constant name="cloud_ide" />.
- Исправлена ошибка, из-за которой планировщик останавливался при недоступности базы данных.
- Исправлено отсутствие горизонтальной прокрутки в результатах запросов IDE для <Term id="table" />.

#### Изменено {#changed-1}

- Улучшена производительность отображения результатов запросов в <Constant name="cloud_ide" />.
- Добавлена возможность настраивать задания так, чтобы сборки выполнялись только при совпадении целевой ветки окружения с кастомной веткой окружения.
- Разрешена настройка GitHub installation IDs в административном бэкенде.

### Только On-Premises {#on-premises-only-2}

#### Исправлено {#fixed-19}

- Исправлена логическая ошибка для установок с включенной аутентификацией по логину и паролю в on-premises окружении

---

## dbt Cloud v1.0.8 (28 апреля 2020) {#dbt-cloud-v108-april-28-2020}

Этот релиз добавляет новую версию dbt (0.16.1), исправляет ряд ошибок IDE и устраняет некоторые ошибки dbt Cloud on-premises.

### Все версии {#all-versions-4}

#### Добавлено {#added-5}

- Добавлен dbt 0.16.1

#### Исправлено {#fixed-20}

- Исправлена загрузка файловой системы <Constant name="cloud_ide" />: добавлена проверка директорий, чтобы операции чтения и записи выполнялись только для файлов.
- Исправлена ошибка при генерации приватных ключей для SSH-туннелей подключений.
- Исправлена проблема, из-за которой временные PR-схемы не удалялись при закрытии PR.
- Исправлены проблемы с обновлением вкладок <Constant name="cloud_ide" /> при компиляции и выполнении запросов.
- Исправлены проблемы с таймером времени выполнения запросов в <Constant name="cloud_ide" /> для функций компиляции и выполнения запросов.
- Исправлено отображение настроек на странице настроек аккаунта в соответствии с разрешениями пользователя.
- Исправлена ошибка проверки разрешений пользователя во фронтенде, когда пользователь состоял более чем в одном проекте.
- Исправлена ошибка контроля доступа к окружениям и взаимодействиям файловой системы/git при использовании <Constant name="cloud_ide" />.
- Исправлена ошибка, при которой Environments слишком широко сопоставлялись с репозиторием.

#### Изменено {#changed-2}

- Сделана ветка base branch, настроенная в <Constant name="cloud_ide" />, доступной только для чтения.
- Добавлена поддержка настройки групп с использованием account ID в административном бэкенде.
- Использован веб-сервер gunicorn в <Constant name="cloud_ide" />.
- Разрешено использовать build-on-PR для любого репозитория с Github installation ID.
- Группы Member и Owner теперь можно редактировать из admin UI.

### Только On-Premises {#on-premises-only-3}

#### Исправлено {#fixed-21}

- Исправлена ошибка, из-за которой количество лицензий аккаунта некорректно устанавливалось из onprem license file.
- Исправлена ошибка, при которой документация иногда не загружалась из-за серверной ошибки.

---

## dbt Cloud v1.0.7 (13 апреля 2020) {#dbt-cloud-v107-april-13-2020}

Этот релиз внедряет крупное изменение в том, как разрешения применяются в API <Constant name="cloud" />. Также он включает несколько мелких исправлений ошибок и инструменты для улучшения будущего QA.

### Все версии {#all-versions-5}

#### Добавлено {#added-6}

- Добавлена поддержка разрешений на connections на уровне проектов.
- Добавлена поддержка разрешений на credentials на уровне проектов.
- Добавлена поддержка разрешений на repositories на уровне проектов.
- Smoke-тесты для регистрации аккаунта, входа пользователя и базовой настройки проекта
- Добавлен dbt 0.16.1rc1
- Пользователи без Enterprise теперь могут добавлять новые аккаунты из выпадающего списка Accounts.

#### Исправлено {#fixed-22}

- Исправлено отсутствие миграции для credentials.
- Исправлена проблема при тестировании соединений с указанием нестандартного имени target в credentials.
- Исправлена ошибка, при которой соединения Bigquery могли быть созданы с недопустимыми значениями параметра `location`.

---

## dbt Cloud v1.0.6 (30 марта 2020) {#dbt-cloud-v106-march-30-2020}

Этот релиз добавляет UI для выбора групповых разрешений в настройках проекта. Также он содержит исправления ошибок для <Constant name="cloud_ide" />, удаления схем PR build, и добавляет поддержку отвязки интеграций Github и Slack через административный бэкенд.

### Все версии {#all-versions-6}

#### Добавлено {#added-7}

- (Только Enterprise) Добавлена возможность создавать групповые разрешения для конкретных проектов в UI настроек проекта.

#### Исправлено {#fixed-23}

- Исправлено пустое состояние при выборе github-репозиториев
- Исправлена ошибка, при которой IDE не сообщала о некорректной поддиректории проекта dbt
- Исправлен пустой экран загрузки, отображаемый при переключении аккаунтов на странице настроек аккаунта/профиля
- Исправлена ошибка, из-за которой схемы не удалялись во время PR build
- Исправлена ошибка, при которой пробелы в имени пользователя ломали имя схемы по умолчанию
- Добавлена обработка webhook при отвязке пользователем доступа github от своего аккаунта.
- Добавлена возможность отвязки slack на странице пользовательских интеграций и в административной панели бэкенда (для уведомлений).

#### Изменено {#changed-3}

- Хранилище приложения объявлено с использованием configureStore из redux-toolkit

---

## dbt Cloud v1.0.5 (23 марта 2020) {#dbt-cloud-v105-march-23-2020}

### Все версии {#all-versions-7}

#### Добавлено {#added-8}

- Добавлена поддержка аутентификации Development и Deployment Snowflake credentials с использованием keypair auth
- Добавлена поддержка checkout тегов и отображения git-вывода на шаге run "clone"
- Добавлен dbt 0.15.3
- Добавлен dbt 0.16.0

#### Исправлено {#fixed-24}

- URL провайдеров <Constant name="git" /> теперь формируются с корректными директориями github-аккаунта и репозитория.
- Некорректная дата/время начала в KPI панели результатов <Constant name="cloud_ide" />.
- Исправлена гонка, из-за которой UI приглашения пользователей работал некорректно.
- Некорректное время сборки моделей в <Constant name="cloud_ide" />.

#### Изменено {#changed-4}

- Git: игнорирование директорий `logs/` и `target/` в IDE.

---

## 1.0.4 (16 марта 2020) {#104-march-16-2020}

Этот релиз добавляет две новые версии dbt, добавляет поддержку Snowflake SSO для Enterprise-аккаунтов и исправляет ряд ошибок.

### Все версии {#all-versions-8}

#### Добавлено {#added-9}

- Добавлен dbt 0.15.3rc1
- Добавлен dbt 0.16.0rc2
- Добавлена поддержка клонирования приватных зависимостей в IDE при использовании deploy key auth.
- Логирование пользователя, запустившего ручные запуски.
- Enterprise-поддержка аутентификации пользовательских Snowflake-соединений с использованием Snowflake single sign-on

#### Исправлено {#fixed-25}

- Исправлена ошибка загрузки аккаунтов для пользователя, если у него не было разрешений ни для одного из аккаунтов, на которые у него есть лицензия пользователя.
- Исправлена ошибка отображения пустой страницы для пользователя, не связанного ни с одним аккаунтом.
- Исправлена ошибка, при которой запуски продолжали стартовать для удаленного проекта.
- Исправлена ошибка, при которой аккаунты, подключенные к GitHub-интеграциям с SAML-защитой, не могли импортировать репозитории
- Улучшены сообщения об ошибках, отображаемые пользователю, если репозитории не авторизованы в GitHub-интеграции при импорте репозитория
- Исправлены цвета кнопок в сгенерированных email-письмах

### On-Premises {#on-premises}

#### Добавлено {#added-10}

- Добавлены UI административного бэкенда для управления пользовательскими разрешениями.

---

## 1.0.3 (1 марта 2020) {#103-march-1-2020}

Этот релиз содержит базовые компоненты для RBAC, а также ряд исправлений ошибок и обновлений.

### Все версии {#all-versions-9}

#### Добавлено {#added-11}

- Добавлена поддержка read replica для чтения runs через API.
- Добавлены группы, групповые разрешения и пользовательские группы.
- Добавлено поле email address на экран подтверждения email.
- Добавлены Enterprise Permissions.
- Разрешен доступ на уровне аккаунта к ресурсам для групп с permission statement «all resources» для обратной совместимости API.
- Добавлен dbt 0.16.0b3

#### Исправлено {#fixed-26}

- Исправлена ошибка загрузки проектов после переключения аккаунтов.
- Исправлены некорректные ссылки на connections из настроек deployment environment.
- Исправлена ошибка при приглашении пользователей с правами readonly.
- Исправлена ошибка, при которой разрешения Enterprise-пользователей удалялись при входе в систему.

#### Изменено {#changed-5}

- Обновлена версия Django: 2.2.10
- Обновлена версия административной панели Django
- Обновлена версия Social Auth и связанного компонента Django
- Обновлены задания: переход с разрешений на уровне аккаунта к разрешениям на уровне проектов
- Обновлено модальное окно, отображаемое при окончании trial-периода; исправлен текст для аккаунтов с просроченной оплатой
- Заменено логирование форматированных строк на структурированное логирование
- Перенесены настройки connections и repositories из настроек аккаунта в настройки проекта
- Обновлен flow настройки проекта, используемый при создании проектов
- Обновлены develop requests: добавлен внешний ключ на проекты

### On-Premises {#on-premises-1}

#### Добавлено {#added-12}

- Аккаунты, созданные из административного бэкенда, теперь получают набор групп по умолчанию

#### Изменено {#changed-6}

- Переименование "Fishtown Analytics User" в "Superuser"

---

## dbt Cloud v1.0.2 (20 февраля 2020) {#dbt-cloud-v102-february-20-2020}

Этот релиз содержит ряд обновлений пакетов и несколько исправлений ошибок.

### Все версии {#all-versions-10}

#### Добавлено {#added-13}

- Добавлены данные контекста запроса в логи
- Реализовано подробное логирование для git‑подпроцессов

#### Исправлено {#fixed-27}

- Исправлена проблема, из‑за которой кнопка «Cancel Run» не работала
- Исправлены предупреждения, связанные с изменяемыми значениями по умолчанию в моделях ресурсов для заданий и уведомлений заданий
- Исправлена ошибка, при которой пользователи могли создавать несколько учетных данных пользователя подключения через workflow настройки проекта
- Обновлена аутентификация для запросов к API Github: вместо query‑параметров теперь используется заголовок Authorization
- Удалён неиспользуемый параметр threads из окружений деплоя
- Исправлена проблема, из‑за которой пользователь не мог просматривать документацию и источники данных
- Исправлена проблема рендеринга панели редактора кода в IDE при использовании Safari
- Исправлена проблема с уровнями логирования, из‑за которой логи dbt были слишком «шумными»

#### Изменено {#changed-7}

- Обновлена версия Django: 2.2.10
- Обновлена версия административной панели Django
- Обновлена версия Social Auth и связанного компонента Django
- Задания переведены с прав доступа к ресурсам на уровне аккаунта на права доступа на уровне проекта
- Обновлено модальное окно, отображаемое при истечении пробного периода; исправлен текст для аккаунтов с просроченной оплатой
- Форматированное строковое логирование заменено на структурированное логирование
- Настройки подключений и репозиториев перемещены из настроек аккаунта в настройки проекта
- Обновлён процесс настройки проекта для использования при создании проектов

#### Удалено {#removed}

Нет.

---

## dbt Cloud v1.0.1 (4 февраля 2020) {#dbt-cloud-v101-february-4-2020}

Этот релиз делает IDE общедоступной и добавляет две новые версии dbt (0.15.1, 0.15.2).

Для on‑premises клиентов добавлен новый набор конфигураций в консоли конфигурации:

SMTP: теперь вы можете настроить <Constant name="cloud" /> для отправки email‑уведомлений через собственный SMTP‑сервер.

RSA Encryption: теперь вы можете предоставить собственную пару RSA‑ключей, которую <Constant name="cloud" /> будет использовать для шифрования.

Эти поля необходимо указать, чтобы ваш экземпляр <Constant name="cloud" /> корректно функционировал.

### Все версии {#all-versions-11}

#### Добавлено {#added-14}

- Новая страница списка команд
- Новая страница с деталями пользователя команды
- Новая страница приглашения пользователя
- Новый дашборд для пользователей с правами Read Only
- Новая версия dbt: 0.15.1
- Новая версия dbt: 0.15.2
- Возможность переименовывать файлы в <Constant name="cloud_ide" />
- Новый backend‑сервис для прав доступа к ресурсам на уровне проекта

#### Исправлено {#fixed-28}

- Исправлена проблема, при которой пользователю приходилось повторять шаги в процессе онбординга
- Исправлена проблема, при которой пользователь мог «застрять» в процессе онбординга
- Исправлена ошибка, из‑за которой email‑уведомления могли отправляться удалённым пользователям
- Исправлена UI‑ошибка, не позволявшая установить флаг «Build on pull request?» при создании задания
- Исправлена UI‑ошибка в заголовке страницы Edit User
- Исправлена проблема, при которой при повторной отправке приглашения пользователю не учитывались ожидающие приглашения и лицензированные места
- Исправлена проблема при обработке Github webhook’ов с ненастроенными окружениями
- Исправлено предупреждение в консоли, возникавшее при обновлении состояния React из размонтированного компонента
- Исправлена проблема, при которой закрытые вкладки продолжали отображаться, несмотря на корректное удаление контента
- Исправлена проблема, из‑за которой нельзя было открыть соседнюю вкладку после закрытия текущей
- Исправлена проблема при создании подключений BigQuery, из‑за которой список подключений аккаунта загружался некорректно
- Исправление для заблокированных аккаунтов, понизившихся до плана developer по окончании пробного периода
- Исправление некорректного отображения сообщений об ошибках сервера на странице приглашения пользователя

#### Изменено {#changed-8}

- Развернут ряд визуальных улучшений <Constant name="cloud_ide" />
- Логи теперь пакетируются каждые 5 секунд вместо каждой секунды для повышения производительности базы данных
- Параметр конфигурации профиля `retries` для подключений BigQuery сделан необязательным
- Добавлена поддержка параметра конфигурации профиля `retries` для подключений BigQuery (новое в dbt v0.15.1)
- Изображения Gravatar заменены на стандартные иконки пользователя в верхней навигационной панели
- Удалены устаревшие модели подписок аккаунта
- Удалены внешние JS‑зависимости

#### Удалено {#removed-1}

- Удалена роль «read only» (теперь это тип лицензии «read only»)
- Удалён тип лицензии «standard»
- Удалён тег «beta» из <Constant name="cloud_ide" />
- Удалён неиспользуемый frontend‑код (страница команд / страница создания репозитория и связанные сервисы)

### Self-Service {#self-service}

#### Исправлено {#fixed-29}

- Исправление для заблокированных аккаунтов, понизившихся до плана developer по окончании пробного периода

#### Добавлено {#added-15}

- Новая страница планов
- Добавлен 14‑дневный бесплатный пробный период
- Добавлена возможность провижининга нового репозитория через <Constant name="cloud" />
- Новый шаг Invite Team в процессе настройки проекта для trial‑аккаунтов

#### Изменено {#changed-9}

- Планы «Basic» и «Pro» больше недоступны. Доступны новые планы «Developer» и «Team»
- Пропорциональные списания теперь взимаются сразу, а не применяются в следующем биллинговом цикле
- Больше невозможно понизить тариф до плана, который не поддерживает текущее количество выделенных мест
- План «Team», который был отменён, будет заблокирован (закрыт) в конце периода подписки

### On-Premises {#on-premises-2}

#### Добавлено {#added-16}

- Поддержка пользовательских SMTP‑настроек
- Поддержка Azure Blob Storage для логов запусков и артефактов
- Возможность опционально отключить анонимный сбор статистики использования

---

## dbt Cloud v0.5.0 (19 декабря 2019) {#dbt-cloud-v050-december-19-2019}

Этот релиз подготавливает <Constant name="cloud" /> к общему релизу <Constant name="cloud_ide" /> в январе. Бета‑функциональность <Constant name="cloud_ide" /> можно включить, установив флаг «Develop file system» на странице Accounts в backend‑части <Constant name="cloud" />.

### Все версии {#all-versions-12}

#### Добавлено {#added-17}

- Новая версия dbt: 0.14.2
- Новая версия dbt: 0.14.3
- Новая версия dbt: 0.14.4
- Новая версия dbt: 0.15.0
- Новый API endpoint: v3/projects
- Новый API endpoint: v3/credentials
- Новый API endpoint: v3/environments
- Новый API endpoint: v3/events
- <Constant name="cloud_ide" />: добавлен UI git‑workflow
- <Constant name="cloud_ide" />: добавлено управление файловой системой
- <Constant name="cloud_ide" />: перезапуск сервера при изменении файлов
- <Constant name="cloud_ide" />: отображение статуса сервера и истории задач
- Добавлены окружения и учетные данные для разработки и деплоя
- Добавлена поддержка флага `--warn-error` в запусках dbt

#### Исправлено {#fixed-30}

- Исправлена проблема, при которой планировщик запусков зависал при удалении PR‑схем
- Исправлена проблема, при которой обработчик webhook’ов помечал webhook как обработанный без постановки запуска в очередь
- Исправлена ошибка, при которой SSH‑туннели не создавались для Develop <Constant name="cloud_ide" />
- Исправлено прокручивание Develop <Constant name="cloud_ide" /> в Firefox
- Исправлена ошибка, при которой таймауты запросов были слишком агрессивными
- Требование указывать название компании при регистрации
- Исправлена проблема безопасности, при которой IP‑чёрный список можно было обойти с использованием сокращённой записи
- Улучшена обработка ошибок git
- Добавлена возможность удалять проекты

#### Изменено {#changed-10}

- Переключатель аккаунтов перемещён в боковую панель
- Увеличен таймаут require.js с 7 до 30 секунд
- Окружения мигрированы в проекты
- Часть UI перемещена в Account Settings
- Планирование по cron стало доступно на бесплатном тарифе
- Применены новые стили к <Constant name="cloud_ide" />
- Ускорена работа режима develop
