---
title: "Журнал изменений 2019 и 2020"
id: "dbt-cloud-changelog-2019-2020"
sidebar_label: Changelog (2019 and 2020)
description: "Журнал изменений за 2019 и 2020 годы для приложения dbt Cloud"

tags: [v1.1.16, v1.1.15, v1.1.14, v1.1.13, v1.1.12, v1.1.11, v1.1.10, v1.1.09, v1.1.08, v1.1.07, v1.1.06, v1.1.05, v1.1.04, v1.1.03, v1.1.02, v1.1.01, v0.5.0, Jan-1-2020]
---

:::note

Этот журнал изменений ссылается на версии dbt, которые больше не поддерживаются и были удалены из документации. Подробнее о том, как обновиться до поддерживаемой версии dbt в вашей среде dbt Cloud, читайте в разделе [Upgrade dbt version in Cloud](/docs/dbt-versions/upgrade-dbt-version-in-cloud).

:::

Добро пожаловать в журнал изменений за 2019 и 2020 годы для приложения <Constant name="cloud" />! С помощью этого журнала вы можете узнать ключевые нововведения, исправления и улучшения, добавленные за этот период.

## dbt Cloud v1.1.16 (23 декабря 2020)

В этом релизе добавлена предварительная поддержка Databricks Spark в <Constant name="cloud" />,
а также добавлены два новых набора прав доступа для Enterprise-аккаунтов.

#### Улучшения

- Добавлена предварительная поддержка Databricks Spark
- Добавлены два новых набора прав доступа Enterprise: Account Viewer и Project Creator

#### Исправления

- Улучшена инфраструктура логирования для логов dbt run
- Исправлены ошибки логирования SSH-туннелей


## dbt Cloud v1.1.15 (10 декабря 2020)

На этот раз есть о чём поговорить: на этой неделе всё действительно сошлось! Много внимания уделено добавлению Spark в семейство подключений, а также исправлению ряда давних багов.

#### Улучшения

- Добавлен Spark как вариант при настройке базы данных

#### Исправления

- Исправлен сложный баг, при котором один email мог быть привязан к нескольким пользовательским аккаунтам
- Исправлена маршрутизация react-страницы настройки подключения
- Вынесена логика выбора групп из типов лицензий и названий групп
- Обработка ошибок JSON при парсинге body v1/v2
- Корректная обработка AuthForbidden и AuthCancelled — без выброса 500 ошибок
- Исправлена регрессия со спиннером загрузки <Constant name="cloud_ide" />


## dbt Cloud v1.1.14 (25 ноября 2020)

Этот релиз добавляет несколько новых связующих компонентов, в частности OAuth для BigQuery и доработки SparkAdapter. Также включены улучшения удобства использования и заделы на будущее, особенно для пользователей <Constant name="cloud_ide" />, а также улучшенная передача данных для наблюдаемости логов и использования API.

#### Улучшения

- Обновлён allowlist IP-адресов
- Добавлена возможность OAuth для BigQuery в учётных данных профиля
- Добавлены backend-модели, мапперы и сервисы SparkAdapter
- Добавлена интеграция BigQuery OAuth
- Добавлен индекс БД для owner_thread_id

#### Исправления

- Снижен уровень ошибок для post /run
- Исправлен баг, при котором в dbt runs передавался некорректный аргумент
- Логирование необработанных ошибок в context manager переменных окружения
- Удалены права доступа к настройкам аккаунта для пользовательских интеграций


## dbt Cloud v1.1.13 (12 ноября 2020)

В этом релизе добавлена поддержка запуска заданий с переопределёнными атрибутами через API-эндпоинт
[triggerRun](/dbt-cloud/api-v2#). Кроме того, исправлено множество ошибок и выполнены улучшения производительности.

#### Улучшения

- Улучшена обработка ошибок для долгих запросов в <Constant name="cloud_ide" />
- Использовано кэширование S3-клиента для ускорения загрузки логов запланированных запусков
- Добавлена поддержка запуска заданий [с переопределёнными атрибутами через API](/dbt-cloud/api-v2#)
- Уточнён текст «upgrade» на странице биллинга

#### Исправления

- Эндпоинт GitLab groups теперь возвращает все группы и подгруппы
- Добавлена поддержка retry-конфигураций BigQuery со значением 0
- Предотвращён крах web IDE после запуска некорректной команды dbt
- Дополнительная очистка логов для фильтрации краткоживущих git-учётных данных
- Исправлена старая миграция: поле auth_url теперь допускает null
- Добавлена поддержка путей в URL GitLab instance
- Исправлен URL запроса auth token в GitLab OAuth-флоу


## dbt Cloud v1.1.12 (30 октября 2020)

В этом релизе в dbt Cloud добавлены dbt v0.18.1 и 0.19.0b1. Также исправлен ряд ошибок.

#### Улучшения

- Обновлён текст на странице биллинга для выбора плана по окончании trial
- Улучшена авторизация для Metadata API
- Добавлен dbt 0.19.0b1
- Добавлен dbt 0.18.1

#### Исправления

- Исправлена проблема, при которой группы из других залогиненных аккаунтов отображались в UI RBAC
- Исправлены запрашиваемые GitLab scopes и проблема шифрования deploy tokens для GitLab auth
- Исправлена ошибка, при которой null-символы в логах вызывали ошибки в запланированных запусках


## dbt Cloud v1.1.11 (15 октября 2020)

Релиз v1.1.11 включает улучшения удобства использования, правки текстов и исправления ошибок. Также это последний релиз, в котором номер версии содержит одну и ту же цифру четыре раза подряд — до v2.2.22.

#### Улучшения

- Добавлена обработка исключения InterfaceError для команд
- Переименовано My Account → Profile
- Добавлены проект и подключение в admin backend

#### Исправления

- Устранены ошибки, связанные с наличием null-символов в логах
- Backend верификации email
- Откат run.serialize
- Исправлена ошибка при сериализованном run
- Исправлена логическая ошибка в настройке подключения
- Исправлен баг с GitLab auth flow для неаутентифицированных пользователей
- Исправлен баг, при котором Native Okta SSO использовал неверный порт


## dbt Cloud v1.1.10 (8 октября 2020)

Этот релиз добавляет поддержку репозиториев, импортированных через GitLab (Enterprise),
и содержит ряд исправлений и улучшений в <Constant name="cloud_ide" />.

#### Улучшения

- Добавлена интеграция GitLab (Enterprise)
- Добавлена настройка GitLab-репозитория в flow создания проекта (Enterprise)
- Добавлена автоматическая установка GitLab Deploy Token (Enterprise)
- Добавлен dbt 0.18.1rc1

#### Исправления

- Исправлен баг, при котором <Constant name="cloud_ide" /> зависал после смены репозитория проекта
- Исправлено состояние гонки, при котором подключения могли добавляться в неправильный проект
- Исправлено отзыв приглашений по email
- Исправлен баг в slim CI deferring run search, когда отсутствие предыдущего run приводило к ошибке планировщика
- Исправлен источник нестабильности <Constant name="cloud_ide" />
- Корректное завершение backend <Constant name="cloud_ide" /> при shutdown
- Всегда отображаются SSO mappings на странице Group Details


## dbt Cloud v1.1.9 (1 октября 2020)

В этом релизе администраторы на плане Enterprise получили возможность настраивать
права Role Based Access Control для проектов в аккаунте. Кроме того, deferral выполнения заданий
стал доступен за feature flag, а также выпущен ряд исправлений и улучшений.

#### Улучшения

- Добавлено отображение версии <Constant name="cloud" /> в навигационной боковой панели
- Добавлены UI для просмотра, создания и изменения RBAC Group Permissions
- Добавлена персональная git-аутентификация для модальных окон ошибок <Constant name="cloud_ide" />
- Добавлены Develop Requests в backend views
- Реализован job execution deferral
- Добавлена поддержка dbt v0.18.1b2

#### Исправления

- Исправлен сценарий, при котором использование кнопки Refresh в <Constant name="cloud_ide" /> оставляло файл index.lock в файловой системе <Constant name="cloud_ide" />
- Валидация PR URL на XSS-атаки
- Устранены несоответствия RBAC
- Исправлена ошибка, при которой пользователи не могли обновить пароль <Constant name="cloud" /> в приложении
- Исправлено применение пользовательских прав в нескольких аккаунтах после SSO-аутентификации
- Google API: по умолчанию используется общий API endpoint с возможностью переопределения
- Исправлено отсутствие email-переменной в debug-логах GSuite
- Уничтожение сессии <Constant name="cloud_ide" /> при переключении проектов


## dbt Cloud v1.1.8 (17 сентября 2020)

В этом релизе добавлена нативная поддержка Okta SSO и dbt v0.18.0. Также добавлена
начальная поддержка интеграции с GitLab и self-service конфигурация RBAC.

#### Улучшения
- Добавлен dbt 0.18.0
- Добавлена нативная поддержка Okta SSO
- Добавлено дополнительное логирование для Gsuite и Azure SSO
- Добавлена поддержка git clone через GitLab deploy tokens для запланированных запусков (скоро)
- Добавлены UI страниц RBAC Groups Detail и Groups List

#### Исправления

- Разрешено использование `*_proxy` переменных окружения в запланированных запусках


## dbt Cloud v1.1.7 [3 сентября 2020]

В этом релизе добавлен Release Candidate для [dbt
v0.18.0](/docs/dbt-versions/core-upgrade), а также
исправления и улучшения для Cloud IDE
и планировщика заданий.

#### Улучшения
- Улучшено поведение backoff у планировщика
- Добавлен dbt 0.18.0rc1
- Добавлена поддержка нестандартных SSH-портов в туннелях подключения
- Добавлена возможность закрывать контекстное меню файловой системы <Constant name="cloud_ide" /> кликом вне меню

#### Исправления
- Исправлено объединение потоков в run triggers
- Исправлено кэширование потоков для загрузок в s3

(дальнейший текст сохранён без изменений структуры и блоков, с аналогичным переводом остальных разделов журнала изменений за 2020 и 2019 годы)
