---
title: "Обновление до 0.11.0"
id: "upgrading-to-0-11-0"
displayed_sidebar: "docs"
---

## Синтаксис schema.yml версии 2
dbt v0.11.0 добавляет автоматически сгенерированный сайт документации к вашему проекту dbt. Чтобы эффективно использовать сайт документации, вам нужно использовать новый синтаксис "версии 2" для schema.yml. Для полного объяснения синтаксиса версии 2 ознакомьтесь с разделом [schema.yml Files](/reference/configs-and-properties) документации.

### Перевод файлов schema.yml на синтаксис версии 2

1. Вы можете найти скрипт, который переведет файл schema.yml версии 1 на синтаксис версии 2 [здесь](https://discourse.getdbt.com/t/migrating-to-schema-yml-v2/111).
2. Вы можете вручную обновить файлы schema.yml версии 1 до синтаксиса версии 2.

Если вы обновляете синтаксис версии 2 вручную, есть несколько нюансов, о которых следует знать:

### 1. Некоторые тесты схемы версии 1 не имеют очевидных представлений в спецификации версии 2

Пример:
```
events:
  constraints:
    unique:
      - id
      - "concat(first_name, last_name)"
```

Представление для этого schema.yml в версии 2 будет следующим:

```
models:
  - name: events
    tests:
      - unique: "concat(first_name, last_name)"

    columns:
      - name: id
        tests:
          - unique
```

Обратите внимание, что выражение, предоставленное в качестве теста на уникальность, _не_ относится к одному столбцу, поэтому его следует создать как тест на уровне модели.

### 2. Вывод аргументов для пользовательских тестов схемы

Если вы используете пользовательский тест схемы в файле schema.yml версии 1, может быть не очевидно, как перевести тест на синтаксис версии 2. В общем, вы всегда можете сделать тест на уровне модели, как показано ниже.

Пример:
```
events:
  constraints:
    dbt_utils.recency:
            - {field: created_at, datepart: day, interval: 1}
```

Представление для этого schema.yml в версии 2 может быть следующим:

```
models:
  - name: events
    tests:
      - dbt_utils.recency:
          field: created_at
          datepart: day
          interval: 1
```

## Стандартное экранирование в Snowflake

Стандартная конфигурация экранирования в Snowflake изменилась с _включено_ на _выключено_ по умолчанию. Если вы еще этого не сделали, вам следует добавить [конфигурацию экранирования](reference/project-configs/quoting.md) в ваш файл `dbt_project.yml`. Чтобы использовать точно такое же поведение экранирования, как в версии 0.10.2, добавьте эту конфигурацию в ваш файл `dbt_project.yml`:

<File name='dbt_project.yml'>

```yaml
quoting:
  schema: true
  identifier: true

```

</File>