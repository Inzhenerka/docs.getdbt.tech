---
title: "Релизные треки в dbt Cloud"
sidebar_label: "Релизные треки dbt Cloud"
description: "Узнайте, как получать автоматические обновления dbt в dbt Cloud. Получайте доступ к новым функциям и улучшениям, как только они станут доступны."
---

С мая 2024 года новые возможности в рамках dbt постоянно поставляются в dbt Cloud. Ваши проекты и окружения обновляются автоматически с частотой, которую вы выбираете, в зависимости от вашего плана dbt Cloud.

Ранее клиенты могли зафиксировать свою версию dbt Core на минорной версии и получать только патч-обновления в течение активного периода поддержки этой конкретной версии. Релизные треки обеспечивают актуальность вашего проекта с современными возможностями dbt Cloud и последними версиями dbt Core.

Это потребует от вас сделать одно последнее обновление ваших текущих заданий и окружений. После этого вам больше не придется беспокоиться о управлении, координации или обновлении версий dbt.

Перемещая свои окружения и задания на релизные треки, вы сможете получить все функции в dbt Cloud, как только они будут готовы. На треке "Latest" это включает доступ к функциям _до_ их появления в финальных релизах dbt Core OSS.

## Какие релизные треки доступны?

- **"Latest"** (доступен для всех планов, ранее назывался "Versionless"): Обеспечивает непрерывный выпуск последних функций в dbt Cloud. Включает ранний доступ к новым функциям фреймворка dbt до их появления в релизах с открытым исходным кодом dbt Core.
- <Lifecycle status="coming soon"/> **"Compatible"** (доступен для Team + Enterprise): Обеспечивает ежемесячный релиз, согласованный с последними версиями открытого исходного кода dbt Core и адаптеров, плюс функциональность, доступная исключительно в dbt Cloud.
- <Lifecycle status="coming soon"/> **"Extended"** (доступен для Enterprise): Обеспечивает отложенный релиз предыдущего месяца "Compatible".

Первый релиз "Compatible" состоится в декабре 2024 года, после финального релиза dbt Core v1.9.0. Только в декабре 2024 года релиз "Extended" будет таким же, как "Compatible". Начиная с января 2025 года, "Extended" будет отставать от "Compatible" на один месяц.

Чтобы настроить окружение в [dbt Cloud Admin API](/docs/dbt-cloud-apis/admin-cloud-api) или [Terraform](https://registry.terraform.io/providers/dbt-labs/dbtcloud/latest) для использования релизного трека, установите `dbt_version` на имя релизного трека:
- `latest` (ранее назывался `versionless`; старое название все еще поддерживается)
- `compatible` (доступен для Team + Enterprise)
- `extended` (доступен для Enterprise)

## Какой релизный трек мне выбрать?

Выберите релизный трек "Latest", чтобы постоянно получать новые функции, исправления, улучшения производительности — самые последние и лучшие возможности dbt. Это значение по умолчанию для всех клиентов dbt Cloud.

Выберите релизные треки "Compatible" и "Extended", если вам нужна менее частая частота релизов, возможность тестировать новые релизы dbt перед их запуском в производственной среде и/или постоянная совместимость с последними релизами открытого исходного кода dbt Core.

### Общие архитектуры

**По умолчанию** - большинство клиентов на всех планах
- Приоритизируйте немедленный доступ к исправлениям и функциям
- Оставьте все окружения на релизном треке "Latest" (конфигурация по умолчанию)

**Гибридная** - Team, Enterprise
- Приоритизируйте постоянную совместимость между dbt Cloud и dbt Core для разработки и развертывания, используя оба продукта в одних и тех же проектах dbt
- Настройте все окружения для использования релизного трека "Compatible"
- Понимайте, что новые функции не будут доступны, пока они не будут впервые выпущены в dbt Core OSS (несколько месяцев после релиза "Latest")

**Осторожная** - Enterprise, критически важные бизнес-процессы
- Приоритизируйте время на "встраивание" новых функций и исправлений
- Настройте окружения разработки и тестирования для использования релизного трека "Compatible"
- Настройте пред-производственные и производственные окружения для использования релизного трека "Extended"
- Понимайте, что новые функции не будут доступны, пока они не будут впервые выпущены в dbt Core OSS + трек "Compatible"

**Виртуальный частный dbt или одноарендный**
- Изменения во всех релизных треках внедряются в рамках обновлений экземпляра dbt Cloud раз в неделю

## Обновление с более старых версий

### Как обновить {#upgrade-tips}

Если вы регулярно разрабатываете свой проект dbt в dbt Cloud и все еще используете устаревшую версию dbt Core, dbt Labs рекомендует попробовать обновить ваш проект в окружении разработки. [Переопределите вашу версию dbt в разработке](/docs/dbt-versions/upgrade-dbt-version-in-cloud#override-dbt-version). Затем запустите IDE или Cloud CLI и выполняйте свою работу по разработке, как обычно. Все должно работать так, как вы ожидаете.

Если вы увидите что-то неожиданное или удивительное, вернитесь к предыдущей версии и запишите различия, которые вы наблюдали. [Свяжитесь с поддержкой dbt Cloud](/docs/dbt-support#dbt-cloud-support) с вашими находками для более детального расследования.

Далее мы рекомендуем попробовать обновить [окружение развертывания вашего проекта](/docs/dbt-versions/upgrade-dbt-version-in-cloud#environments). Если у вашего проекта есть [окружение развертывания для тестирования](/docs/deploy/deploy-environments#staging-environment), обновите его и попробуйте поработать с ним в течение нескольких дней, прежде чем продолжить обновление производственного окружения.

Если в вашей организации есть несколько проектов dbt, мы рекомендуем начать обновление с проектов, которые меньше, новее или более знакомы вашей команде. Таким образом, если вы столкнетесь с какими-либо проблемами, их будет легче и быстрее устранить, прежде чем переходить к обновлению более крупных или сложных проектов.

### Учетные соображения

Чтобы узнать больше о том, как dbt Labs безопасно развертывает стабильные обновления dbt в dbt Cloud, мы рекомендуем вам прочитать нашу статью в блоге: [Как мы гарантируем, что вы можете уверенно переключиться на релизный трек "Latest" в dbt Cloud](https://docs.getdbt.com/blog/latest-dbt-stability).

Если вы используете версию dbt 1.6 или старше, пожалуйста, знайте, что ваша версия dbt Core достигла [конца срока службы (EOL)](/docs/dbt-versions/core#eol-version-support) и больше не поддерживается. Мы настоятельно рекомендуем вам обновиться до более новой версии как можно скорее.

dbt Labs продлил период критической поддержки dbt Core v1.7 для клиентов dbt Cloud Enterprise до 31 января 2024 года. В этот момент мы попросим всех клиентов выбрать релизный трек для получения обновлений dbt в dbt Cloud.

<Expandable alt_header="Я использую более старую версию dbt в dbt Cloud. Что мне делать? Что произойдет, если я ничего не сделаю?" >

Если вы используете версию dbt v1.6 или старше, пожалуйста, знайте, что ваша версия dbt Core достигла [конца срока службы (EOL)](/docs/dbt-versions/core#eol-version-support) и больше не поддерживается. Мы настоятельно рекомендуем вам обновиться до более новой версии как можно скорее.

dbt Labs продлил период "Критической поддержки" dbt Core v1.7 для клиентов dbt Cloud Enterprise, пока мы работаем над миграцией с этими клиентами на релизные треки. В это время это означает, что v1.7 будет продолжать быть доступной в dbt Cloud для клиентов Enterprise, задания и окружения на v1.7 для этих клиентов не будут автоматически мигрированы на "Latest", и dbt Labs продолжит исправлять критические ошибки и проблемы безопасности.

Учетные записи dbt Cloud на планах Developer и Team будут мигрированы на релизный трек "Latest" после 1 ноября 2024 года. Если вы знаете, что ваш проект не будет совместим с обновлением по одной из причин, описанных здесь, или по другой причине в ваших собственных тестах, вам следует [связаться с поддержкой dbt Cloud](https://docs.getdbt.com/docs/dbt-support#dbt-cloud-support), чтобы запросить продление.

Если ваша учетная запись была мигрирована на релизный трек "Latest", и вы видите новые сбои в ваших запланированных заданиях dbt, вам также следует [связаться с поддержкой dbt Cloud](https://docs.getdbt.com/docs/dbt-support#dbt-cloud-support), чтобы запросить продление.

</Expandable>

<Expandable alt_header="Я использую устаревшие определения метрик из версии dbt Core ≤1.5. Что мне делать?" >

Устаревший семантический слой dbt был выведен из эксплуатации во второй половине 2023 года. Мы рекомендуем вам обратиться к [руководству по миграции устаревшего семантического слоя dbt](/guides/sl-migration?step=1) для получения дополнительной информации.

</Expandable>

<Expandable alt_header="Какие другие известные проблемы при обновлении с более старых версий dbt Core?" >

Если вы обновляетесь с очень старой неподдерживаемой версии dbt Core, вы можете столкнуться с одной из этих крайних ситуаций после обновления до более новой версии:
- [v1.1] Клиенты на BigQuery должны знать, что dbt Cloud устанавливает значение по умолчанию для [таймаута на уровне модели](/docs/core/connect-data-platform/bigquery-setup#job_execution_timeout_seconds) в 5 минут. Вы можете переопределить эту конфигурацию в деталях подключения. Более старые версии dbt (включая v1.0) не учитывали эту конфигурацию таймаута.
- [v1.3] Клиенты с не-dbt файлами `.py`, определенными в их каталогах проектов, таких как `models/`. Начиная с v1.3, dbt ожидает, что эти файлы будут действительными [Python моделями](/docs/build/python-models). Клиенту необходимо переместить эти файлы из каталога `models/` или игнорировать их с помощью `.dbtignore`.
- [v1.5] Клиенты, у которых в определениях заданий используется `--m`, вместо `-m` или `--models`. Эта автозаполнение (`--m[odels]` для `--models`) никогда не было официально задокументировано или поддержано. Это было неявным поведением библиотеки argparse (CLI-библиотека, используемая в dbt-core v1.0-1.4), которое не поддерживается библиотекой `click` (CLI-библиотека, используемая в dbt-core с v1.5+).
- [v1.5] Пустая недопустимая конфигурация `tests` начинает вызывать ошибку валидации](https://docs.getdbt.com/docs/dbt-versions/core-upgrade/upgrading-to-v1.5). Замените пустую конфигурацию `tests` на `tests: []` или удалите ее полностью.
- [v1.6] Оптимизация производительности для `load_result` означает, что вы не можете вызывать его на одном и том же результате запроса несколько раз. Вместо этого сохраните его в локальной переменной один раз и повторно используйте эту переменную (контекст: [dbt-core#7371](https://github.com/dbt-labs/dbt-core/pull/7371)).

Вам следует [связаться с поддержкой dbt Cloud](https://docs.getdbt.com/docs/dbt-support#dbt-cloud-support), чтобы запросить продление, в течение которого вам нужно будет внести эти обновления.

</Expandable>

<Expandable alt_header="Я вижу, что моя учетная запись была мигрирована на Latest. Что мне делать?" >

Для подавляющего большинства клиентов никаких дополнительных действий не требуется.

Если вы видите новые сбои в ваших запланированных заданиях теперь, когда они работают на более новой версии dbt, вам может потребоваться обновить код вашего проекта, чтобы учесть одну из крайних ситуаций, описанных на этой странице. Вам следует [связаться с поддержкой dbt Cloud](https://docs.getdbt.com/docs/dbt-support#dbt-cloud-support), чтобы запросить продление, в течение которого вам нужно будет внести эти обновления.

</Expandable>

<Expandable alt_header="Что насчет разрушающих изменений в пакетах (поддерживаемых dbt Labs или другими)?" >

Когда мы говорим о _последней версии_, мы имеем в виду базовый runtime для dbt, а не версии пакетов, которые вы устанавливаете. Наш непрерывный релиз для dbt включает тестирование с несколькими популярными пакетами dbt. Это гарантирует, что обновления, которые мы вносим в dbt-core, адаптеры или в любом другом месте, совместимы с кодом в этих пакетах.

Если новая версия пакета dbt включает разрушающее изменение (например, изменение в одной из макросов в `dbt_utils`), вам не нужно немедленно использовать новую версию. В вашей конфигурации `packages` (в `dependencies.yml` или `packages.yml`) вы все еще можете указать, какие версии или диапазоны версий пакетов вы хотите, чтобы dbt установил. Если вы еще этого не делаете, мы настоятельно рекомендуем [проверять `package-lock.yml` в системе контроля версий](/reference/commands/deps#predictable-package-installs) для предсказуемых установок пакетов в окружениях развертывания и четкой истории изменений каждый раз, когда вы устанавливаете обновления.

Если вы обновитесь до релизного трека "Latest" и сразу увидите что-то, что ломает, пожалуйста, [свяжитесь с поддержкой](/docs/dbt-support#dbt-cloud-support) и, в то же время, вернитесь к версии v1.7.

Если вы уже на релизном треке "Latest" и наблюдаете разрушающее изменение (например, что-то работало вчера, но сегодня не работает или работает неожиданным/другим образом), пожалуйста, [свяжитесь с поддержкой](/docs/dbt-support#dbt-cloud-support) немедленно. В зависимости от вашего контракта на поддержку команда dbt Labs ответит в течение нашего SLA, и мы постараемся откатить изменение и/или выпустить исправление (так же, как мы поступаем с любой другой частью dbt Cloud). Это одинаково, независимо от того, является ли коренная причина разрушающего изменения в коде проекта или в коде пакета.

Если пакет, который вы установили, зависит от _недокументированной_ функциональности dbt, он не имеет тех же гарантий, что и функциональность, которую мы задокументировали и протестировали. Тем не менее, мы все равно сделаем все возможное, чтобы избежать их поломки.

</Expandable>

<Expandable alt_header="Я вижу, что версия dbt Core 1.8 была выпущена в апреле 2024 года. Будет ли версия 1.8 доступна в dbt Cloud?" >

Нет. В дальнейшем клиенты будут получать доступ к новым функциональным возможностям и поддержке в dbt Cloud, получая автоматические обновления. Мы считаем, что это лучший способ предложить надежный, стабильный и безопасный runtime для dbt, а для вас, как пользователей dbt, — возможность постоянно использовать новые функции.

В 2023 году (и ранее) от клиентов ожидалось, что они будут управлять своими собственными обновлениями, выбирая версии dbt Core, вплоть до dbt Core v1.7, который был выпущен в октябре 2023 года. (Еще в 2021 году клиенты dbt Cloud выбирали конкретные _патч-релизы_ dbt Core, такие как обновление с `v0.21.0` на `v0.21.1`. Мы прошли долгий путь с тех пор!)

В 2024 году мы изменили способ, которым новые функциональные возможности dbt становятся доступными для клиентов dbt Cloud. Поведение или разрушающие изменения контролируются флагами, которые нужно включить. Пользователям не нужно тратить ценное время на управление своими собственными обновлениями. В настоящее время возможно получать непрерывные (ежедневные) обновления. Мы добавляем другие варианты частоты релизов для управляемых клиентов dbt Cloud к концу года.

Выбор частоты релиза с автоматическими обновлениями необходим для доступа к любым новым функциональным возможностям, которые мы выпустили в 2024 году и в дальнейшем.

Мы продолжаем выпускать новые минорные версии dbt Core (OSS), включая v1.9, которая будет доступна позже в этом году. Когда мы это сделаем, это будет подмножество функциональности, которая уже доступна клиентам dbt Cloud, и всегда после того, как функциональность станет доступной в dbt Cloud.

</Expandable>

Если у вас есть комментарии или вопросы, мы рады помочь. Если вы уже являетесь клиентом dbt Cloud, вы можете обратиться к вашей команде по работе с клиентами или [связаться с поддержкой](/docs/dbt-support#dbt-cloud-support).