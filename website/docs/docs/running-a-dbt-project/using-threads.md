---
title: "Использование потоков"
id: "using-threads"
sidebar_label: "Используйте потоки"
description: "Поймите, что такое потоки и как их использовать."
pagination_next: null
---

Когда dbt выполняется, он создает направленный ациклический граф (DAG) связей между моделями. Количество потоков представляет собой максимальное количество путей через граф, над которыми dbt может работать одновременно – увеличение числа потоков может минимизировать время выполнения вашего проекта.

Например, если вы укажете `threads: 1`, dbt начнет строить только одну модель и завершит ее, прежде чем перейти к следующей. Указание `threads: 8` означает, что dbt будет работать над _до_ 8 моделей одновременно, не нарушая зависимости – фактическое количество моделей, над которыми он может работать, вероятно, будет ограничено доступными путями через граф зависимостей.

Нет установленного предела для максимального количества потоков, которое вы можете задать – хотя увеличение числа потоков обычно уменьшает время выполнения, есть несколько факторов, которые следует учитывать:
* Увеличение числа потоков увеличивает нагрузку на ваш хранилище данных, что может повлиять на другие инструменты в вашем стекe данных. Например, если ваш BI-инструмент использует те же вычислительные ресурсы, что и dbt, их запросы могут быть поставлены в очередь во время выполнения dbt.
* Количество одновременных запросов, которые ваша база данных позволит вам выполнять, может быть ограничивающим фактором в том, сколько моделей может быть активно построено – некоторые модели могут ожидать, пока не освободится слот для запроса.

Как правило, оптимальное количество потоков зависит от вашего хранилища данных и его конфигурации. Лучше всего протестировать разные значения, чтобы найти наилучшее количество потоков для вашего проекта. Мы рекомендуем начать с установки этого значения на 4.

Вы можете использовать другое количество потоков, чем значение, определенное в вашей цели, используя опцию `--threads` при выполнении команды dbt.

Вы определите количество потоков в вашем файле `profiles.yml` (только для пользователей dbt Core), в определении задания dbt Cloud и в учетных данных разработки dbt Cloud под вашим профилем.


## Связанные документы
- [О profiles.yml](/docs/core/connect-data-platform/profiles.yml)
- [Планировщик заданий dbt Cloud](/docs/deploy/job-scheduler)