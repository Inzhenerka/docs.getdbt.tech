---
title: "Подключение к Amazon Athena"
id: connect-amazon-athena
description: "Настройка подключения к платформе данных Amazon Athena в dbt Cloud."
sidebar_label: "Подключение к Amazon Athena"
---

# Подключение к Amazon Athena

Ваши окружения должны находиться на поддерживаемом [релизном треке](/docs/dbt-versions/cloud-release-tracks), чтобы использовать подключение к Amazon Athena.

Подключите dbt Cloud к интерактивному сервису запросов Amazon Athena для создания вашего проекта dbt. Ниже приведены обязательные и необязательные поля для настройки подключения к Athena:

| Поле                         | Опция           | Описание                                                                         | Тип    | Обязательно? | Пример |
| ---------------------------- | ---------------- | -------------------------------------------------------------------------------- | ------ | ------------ | ------- |
| Название региона AWS         | region_name      | Регион AWS вашего экземпляра Athena                                              | Строка | Обязательно   | eu-west-1 |
| База данных (каталог)       | database         | Укажите базу данных (каталог данных) для создания моделей (только строчные буквы) | Строка | Обязательно   | awsdatacatalog |
| Директория временного хранилища AWS S3 | s3_staging_dir   | Местоположение S3 для хранения результатов запросов Athena и метаданных         | Строка | Обязательно   | s3://bucket/dbt/ |
| Рабочая группа Athena        | work_group       | Идентификатор рабочей группы Athena                                              | Строка | Необязательно | my-custom-workgroup |
| Рабочая группа Spark Athena   | spark_work_group | Идентификатор рабочей группы Spark Athena для выполнения моделей на Python      | Строка | Необязательно | my-spark-workgroup |
| Директория данных AWS S3     | s3_data_dir      | Префикс для хранения таблиц, если он отличается от s3_staging_dir подключения  | Строка | Необязательно | s3://bucket2/dbt/ |
| Конвенция именования данных AWS S3 | s3_data_naming   | Как генерировать пути таблиц в s3_data_dir                                      | Строка | Необязательно | schema_table_unique |
| Префикс временных таблиц AWS S3 | s3_tmp_table_dir | Префикс для хранения временных таблиц, если он отличается от s3_data_dir подключения | Строка | Необязательно | s3://bucket3/dbt/ |
| Интервал опроса             | poll_interval    | Интервал в секундах для опроса статуса результатов запросов в Athena           | Целое  | Необязательно | 5 |
| Повторные запросы           | num_retries      | Количество попыток повторного выполнения неудачного запроса                     | Целое  | Необязательно | 3 |
| Повторные запросы Boto3     | num_boto3_retries| Количество попыток повторного выполнения запросов boto3 (например, удаление файлов S3 для материализованных таблиц) | Целое  | Необязательно | 5 |
| Повторные запросы Iceberg   | num_iceberg_retries| Количество попыток повторного выполнения запросов коммита Iceberg для исправления ICEBERG_COMMIT_ERROR | Целое  | Необязательно | 0 |

### Учетные данные для разработки

Введите ваши _учетные данные для разработки_ (не для развертывания) с помощью следующих полей:

| Поле                     | Опция                | Описание                                                                | Тип    | Обязательно | Пример  |
| ------------------------ | --------------------- | ------------------------------------------------------------------------ | ------ | ------------ | -------- |
| Идентификатор доступа AWS | aws_access_key_id     | Идентификатор ключа доступа пользователя, выполняющего запросы          | Строка | Обязательно   | AKIAIOSFODNN7EXAMPLE |
| Секретный ключ доступа AWS | aws_secret_access_key | Секретный ключ доступа пользователя, выполняющего запросы              | Строка | Обязательно   | wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY |
| Схема                   | schema                | Укажите схему (базу данных Athena) для создания моделей (только строчные буквы) | Строка | Обязательно   | dbt |
| Потоки                  | threads               |                                                                          | Целое  | Необязательно | 3 |