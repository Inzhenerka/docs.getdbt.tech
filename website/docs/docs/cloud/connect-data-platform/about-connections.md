---
title: "О подключениях к платформам данных"
id: about-connections
description: "Информация о подключениях к платформам данных"
sidebar_label: "О подключениях к платформам данных"
pagination_next: "docs/cloud/connect-data-platform/connect-microsoft-fabric"
pagination_prev: null
---
dbt Cloud может подключаться к различным поставщикам платформ данных, включая: 
- [AlloyDB](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb) 
- [Amazon Athena](/docs/cloud/connect-data-platform/connect-amazon-athena)
- [Amazon Redshift](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb) 
- [Apache Spark](/docs/cloud/connect-data-platform/connect-apache-spark)
- [Azure Synapse Analytics](/docs/cloud/connect-data-platform/connect-azure-synapse-analytics)
- [Databricks](/docs/cloud/connect-data-platform/connect-databricks) 
- [Google BigQuery](/docs/cloud/connect-data-platform/connect-bigquery)
- [Microsoft Fabric](/docs/cloud/connect-data-platform/connect-microsoft-fabric)
- [PostgreSQL](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb)
- [Snowflake](/docs/cloud/connect-data-platform/connect-snowflake)
- [Starburst или Trino](/docs/cloud/connect-data-platform/connect-starburst-trino)
- [Teradata](/docs/cloud/connect-data-platform/connect-teradata) <Lifecycle status="Preview" />

Чтобы подключиться к вашей базе данных в dbt Cloud:

1. Нажмите на имя вашей учетной записи в нижней части левого меню и выберите **Настройки учетной записи**
2. Выберите **Проекты** в верхнем левом углу, а затем нажмите **Новый проект**

<Lightbox src="/img/docs/connect-data-platform/choose-a-connection.png" title="Выбор подключения"/>

Эти инструкции по подключению содержат основные поля, необходимые для настройки подключения к платформе данных в dbt Cloud. Для более подробных руководств, которые включают данные демонстрационного проекта, ознакомьтесь с нашими [Руководствами по быстрому старту](https://docs.getdbt.com/guides).

## Управление подключениями

:::info Управление подключениями теперь на уровне учетной записи

С июля 2024 года управление подключениями было перенесено с уровня проекта на уровень учетной записи для всех пользователей dbt Cloud. Ранее каждый проект dbt Cloud мог иметь только одно подключение, которое использовалось во всех его средах. Расширенные атрибуты использовались для переключения экземпляров хранилищ в зависимости от среды для данного проекта.

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-legacy-model.png" width="55%" title="Предыдущая модель подключения"/>

Подключения, созданные с помощью API до этого изменения, не могут быть доступны с помощью [последних API](https://docs.getdbt.com/dbt-cloud/api-v3#/operations/List%20Account%20Connections). dbt Labs рекомендует [воссоздать подключения](https://docs.getdbt.com/dbt-cloud/api-v3#/operations/Create%20Account%20Connection) с помощью последних API.

:::

Подключения к хранилищам являются ресурсом на уровне учетной записи. Таким образом, вы можете найти их в разделе **Настройки учетной записи** > **Подключения**:

<Lightbox src="/img/docs/connect-data-platform/connection-list.png" width="100%" title="Список подключений"/>

Подключения к хранилищам могут использоваться повторно в разных проектах. Если несколько проектов подключаются к одному и тому же хранилищу, вам следует повторно использовать одно и то же подключение для упрощения управления. Подключения назначаются проекту через [среду](/docs/dbt-cloud-environments). 

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-new-model.png" width="60%" title="Модель подключения"/>

Как показано на изображении, проект с 2 средами может использовать от 1 до 2 различных подключений. Если вы хотите отделить свою производственную среду от непроизводственной, назначьте несколько подключений одному проекту.

### Миграция с подключений на уровне проекта на уровень учетной записи

Внедрение подключений на уровне учетной записи не потребует прерывания обслуживания в вашем текущем использовании (IDE, CLI, задания и т. д.).

:::info Почему меня просят настроить среду разработки?
Если у вашего проекта ранее не было среды разработки, вы можете быть перенаправлены на страницу настройки проекта. Ваш проект по-прежнему целостен. Выберите подключение для вашей новой среды разработки, и вы сможете снова просмотреть все ваши среды.
:::

Тем не менее, чтобы в полной мере использовать преимущества подключений на уровне учетной записи, вам может потребоваться пересмотреть, как вы назначаете и используете подключения в разных проектах и средах.

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout.png" width="60%" title="Типичная настройка подключения после внедрения"/>

Пожалуйста, рассмотрите следующие действия, так как шаги, которые вы предпримете, будут зависеть от желаемого результата.

- Первоначальная очистка вашего списка подключений
  - Удалите неиспользуемые подключения с 0 сред. 
  - Переименуйте подключения с временной, описательной схемой именования, чтобы лучше понять, где каждое из них используется

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-2.png" width="60%" title="После первоначальной очистки"/>

- Уточнение ваших подключений
  - Определите намерение для каждого подключения, обычно это комбинация экземпляра хранилища/базы данных, предполагаемого использования (разработка, продакшн и т. д.) и административной поверхности (какие команды/проекты будут нуждаться в сотрудничестве по подключению)
  - Стремитесь минимизировать необходимость в локальных переопределениях (таких как расширенные атрибуты)
  - Достигните согласия по схеме именования. Мы рекомендуем называть подключения по имени хоста сервера и четкому намерению/домену/конфигурации. Таким образом будет легче повторно использовать подключения в разных проектах

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-3.png" width="60%" title="Определенная гранулярность"/>

- Устранение дубликатов (список подключений + детали среды — не трогая расширенные атрибуты на данный момент)
  - На основе гранулярности ваших деталей подключения определите, какие подключения должны остаться среди групп дубликатов, и обновите каждую соответствующую среду, чтобы использовать это подключение
  - Удаляйте неиспользуемые подключения с 0 сред по мере продвижения
  - Устранение дубликатов должно быть продуманным. Если вы хотите, чтобы подключения поддерживались двумя разными группами пользователей, вам может понадобиться сохранить два идентичных подключения к одному и тому же хранилищу, чтобы каждая группа могла развиваться по своему усмотрению, не влияя на другую группу
  - Не обновляйте расширенные атрибуты на этом этапе

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-4.png" width="60%" title="Подключения дублированы"/>

- Нормализация
  - Поймите, как должны создаваться новые подключения, чтобы избежать локальных переопределений. Если вы в настоящее время используете расширенные атрибуты для переопределения экземпляра хранилища в вашей производственной среде, вам следует создать новое подключение для этого экземпляра и подключить вашу производственную среду к нему, устранив необходимость в локальных переопределениях
  - Создайте новые подключения, обновите соответствующие среды, чтобы нацелиться на эти подключения, устраняя теперь ненужные локальные переопределения (которые могут быть не всеми!)
  - Протестируйте новое подключение, запустив задания или начав сеансы IDE

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-5.png" width="60%" title="Подключения нормализованы"/>

## Ограничения IP

dbt Cloud всегда будет подключаться к вашей платформе данных с IP-адресов, указанных на странице [Регионы и IP-адреса](/docs/cloud/about-cloud/access-regions-ip-addresses).

Убедитесь, что вы разрешили трафик с этих IP-адресов в вашем файрволе и включили их в любые разрешения базы данных.

Разрешение этих IP-адресов только позволяет подключение к вашему <Term id="data-warehouse" />. Однако вы можете захотеть отправлять API-запросы из вашей ограниченной сети к API dbt Cloud. Использование API dbt Cloud требует разрешения поддомена `cloud.getdbt.com`. Для получения дополнительной информации о архитектуре dbt Cloud смотрите [Архитектура развертывания](/docs/cloud/about-cloud/architecture).