---
title: "О подключениях к платформам данных"
id: about-connections
description: "Информация о подключениях к платформам данных"
sidebar_label: "О подключениях к платформам данных"
pagination_next: "docs/cloud/connect-data-platform/connect-microsoft-fabric"
pagination_prev: null
---
dbt Cloud может подключаться к различным поставщикам платформ данных, включая:
- [AlloyDB](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb)
- [Amazon Athena](/docs/cloud/connect-data-platform/connect-amazon-athena)
- [Amazon Redshift](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb)
- [Apache Spark](/docs/cloud/connect-data-platform/connect-apache-spark)
- [Azure Synapse Analytics](/docs/cloud/connect-data-platform/connect-azure-synapse-analytics)
- [Databricks](/docs/cloud/connect-data-platform/connect-databricks)
- [Google BigQuery](/docs/cloud/connect-data-platform/connect-bigquery)
- [Microsoft Fabric](/docs/cloud/connect-data-platform/connect-microsoft-fabric)
- [PostgreSQL](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb)
- [Snowflake](/docs/cloud/connect-data-platform/connect-snowflake)
- [Starburst или Trino](/docs/cloud/connect-data-platform/connect-starburst-trino)
- [Teradata](/docs/cloud/connect-data-platform/connect-teradata) <Lifecycle status="Preview" />

Чтобы подключиться к вашей базе данных в dbt Cloud:

1. Нажмите на имя вашей учетной записи внизу левого меню и выберите **Настройки учетной записи**
2. Выберите **Проекты** в верхнем левом углу, а затем нажмите **Новый проект**

<Lightbox src="/img/docs/connect-data-platform/choose-a-connection.png" title="Выберите подключение"/>

Эти инструкции по подключению предоставляют основные поля, необходимые для настройки подключения к платформе данных в dbt Cloud. Для более подробных руководств, включая данные демонстрационного проекта, ознакомьтесь с нашими [Руководствами по быстрому старту](https://docs.getdbt.com/guides).

## Управление подключениями

:::info Управление подключениями теперь на уровне учетной записи

Начиная с июля 2024 года, управление подключениями перемещено с уровня проекта на уровень учетной записи для всех пользователей dbt Cloud. Ранее каждый проект dbt Cloud мог иметь только одно подключение, которое использовалось во всех его средах. Расширенные атрибуты использовались для переключения экземпляров хранилищ в зависимости от среды для данного проекта.

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-legacy-model.png" width="55%" title="Предыдущая модель подключения"/>

Подключения, созданные с помощью API до этого изменения, не могут быть доступны с помощью [последних API](https://docs.getdbt.com/dbt-cloud/api-v3#/operations/List%20Account%20Connections). dbt Labs рекомендует [воссоздать подключения](https://docs.getdbt.com/dbt-cloud/api-v3#/operations/Create%20Account%20Connection) с использованием последних API.

:::

Подключения к хранилищам данных являются ресурсом на уровне учетной записи. Таким образом, вы можете найти их в **Настройки учетной записи** > **Подключения**:

<Lightbox src="/img/docs/connect-data-platform/connection-list.png" width="100%" title="Список подключений"/>

Подключения к хранилищам данных могут повторно использоваться в разных проектах. Если несколько проектов подключаются к одному и тому же хранилищу, вы должны повторно использовать одно и то же подключение, чтобы упростить управление. Подключения назначаются проекту через [среду](/docs/dbt-cloud-environments).

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-new-model.png" width="60%" title="Модель подключения"/>

Как показано на изображении, проект с 2 средами может использовать от 1 до 2 различных подключений. Если вы хотите отделить вашу производственную среду от непроизводственной, назначьте несколько подключений одному проекту.

### Переход от подключений на уровне проекта к подключениям на уровне учетной записи

Внедрение подключений на уровне учетной записи не потребует прерывания обслуживания в вашем текущем использовании (IDE, CLI, задания и т.д.).

:::info Почему меня просят настроить среду разработки?
Если в вашем проекте ранее не было среды разработки, вы можете быть перенаправлены на страницу настройки проекта. Ваш проект все еще в целости. Выберите подключение для вашей новой среды разработки, и вы сможете снова просмотреть все ваши среды.
:::

Однако, чтобы полностью использовать преимущества подключений на уровне учетной записи, вам, возможно, придется пересмотреть, как вы назначаете и используете подключения в проектах и средах.

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout.png" width="60%" title="Типичная настройка подключения после развертывания"/>

Пожалуйста, рассмотрите следующие действия, так как шаги, которые вы предпримете, будут зависеть от желаемого результата.

- Первоначальная очистка списка подключений
  - Удалите неиспользуемые подключения с 0 средами.
  - Переименуйте подключения с временной, описательной схемой именования, чтобы лучше понять, где каждое используется

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-2.png" width="60%" title="После первоначальной очистки"/>

- Детализация подключений
  - Определите намерение для каждого подключения, обычно это комбинация экземпляра хранилища/базы данных, предполагаемого использования (разработка, производство и т.д.) и административной поверхности (какие команды/проекты будут нуждаться в совместной работе над подключением)
  - Стремитесь минимизировать необходимость локальных переопределений (например, расширенных атрибутов)
  - Придите к консенсусу по поводу соглашения об именах. Мы рекомендуем называть подключения по имени хоста сервера и отличительным намерением/доменом/конфигурацией. Так будет легче повторно использовать подключения в разных проектах

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-3.png" width="60%" title="Определена детализация"/>

- Дедупликация (список подключений + детали среды &mdash; пока не касаясь расширенных атрибутов)
  - На основе детализации ваших подключений определите, какие подключения должны остаться среди групп дубликатов, и обновите каждую соответствующую среду, чтобы использовать это подключение
  - Удаляйте неиспользуемые подключения с 0 средами по мере продвижения
  - Дедуплицируйте вдумчиво. Если вы хотите, чтобы подключения поддерживались двумя разными группами пользователей, вы можете сохранить два идентичных подключения к одному и тому же хранилищу, чтобы каждое могло развиваться так, как считает нужным, без влияния на другую группу
  - Не обновляйте расширенные атрибуты на этом этапе

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-4.png" width="60%" title="Подключения дедуплицированы"/>

- Нормализация
  - Поймите, как должны создаваться новые подключения, чтобы избежать локальных переопределений. Если вы в настоящее время используете расширенные атрибуты для переопределения экземпляра хранилища в вашей производственной среде, вы должны вместо этого создать новое подключение для этого экземпляра и подключить вашу производственную среду к нему, устранив необходимость в локальных переопределениях
  - Создайте новые подключения, обновите соответствующие среды, чтобы они нацеливались на эти подключения, устранив теперь ненужные локальные переопределения (которые могут быть не все!)
  - Протестируйте новое подключение, запустив задания или начав сеансы IDE

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connections-post-rollout-5.png" width="60%" title="Подключения нормализованы"/>

## Ограничения по IP

dbt Cloud всегда будет подключаться к вашей платформе данных с IP-адресов, указанных на странице [Регионы и IP-адреса](/docs/cloud/about-cloud/access-regions-ip-addresses).

Убедитесь, что вы разрешили трафик с этих IP-адресов в вашем файрволе и включили их в любые предоставления базы данных.

Разрешение этих IP-адресов только позволяет подключение к вашему <Term id="data-warehouse" />. Однако, вы можете захотеть отправлять API-запросы из вашей ограниченной сети к API dbt Cloud. Использование API dbt Cloud требует разрешения поддомена `cloud.getdbt.com`. Для получения дополнительной информации о архитектуре dbt Cloud, см. [Архитектура развертывания](/docs/cloud/about-cloud/architecture).