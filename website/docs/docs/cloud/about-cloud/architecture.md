---
title: "Архитектура dbt Cloud"
id: "architecture"
description: "Информация об архитектуре, коммуникации и безопасности dbt Cloud"
---

Эта страница помогает практикам и тем, кто интересуется архитектурой и потоками данных dbt Cloud.

## Об архитектуре dbt Cloud

Приложение dbt Cloud состоит из двух типов компонентов: статических и динамических. Статические компоненты всегда работают, чтобы обеспечивать высокую доступность функций dbt Cloud, таких как веб-приложение dbt Cloud. С другой стороны, динамические компоненты создаются по мере необходимости для выполнения задач, таких как фоновые задания или запросы на использование IDE.

dbt Cloud доступен в большинстве регионов мира как в [одиночной аренде](/docs/cloud/about-cloud/tenancy#single-tenant) (AWS и Azure), так и в [мультиарендной](/docs/cloud/about-cloud/tenancy#multi-tenant) конфигурации.

dbt Cloud использует PostgreSQL в качестве бэкенда, совместимые с S3 системы объектного хранения для логов и артефактов, а также решение для хранения на базе Kubernetes для создания динамических, постоянных томов.

Все данные, находящиеся в покое на серверах dbt Cloud, защищены с использованием шифрования AES-256.

<img src="/img/docs/dbt-cloud/on-premises/data-flows.png" />

Для более детального разбора приложений dbt Cloud, [скачайте PDF с расширенным руководством по архитектуре](https://drive.google.com/uc?export=download&id=1lktNuMZybXfqFtr24J8zAssEfoL9r51S).

## Коммуникация

dbt Cloud может взаимодействовать с несколькими внешними сервисами, включая платформы данных, git-репозитории, службы аутентификации и каталоги. Все коммуникации происходят по протоколу HTTPS (попытки подключения через HTTP перенаправляются на HTTPS). dbt Cloud шифрует данные в процессе передачи с использованием криптографического протокола TLS 1.2.

TLS (Transport Layer Security) 1.2 является отраслевым стандартом для шифрования конфиденциальных данных во время их передачи по общедоступному интернету (который не предлагает нативного шифрования).

Типичный сценарий, который может часто встречаться, — это сотрудник, работающий в общественном месте, таком как аэропорт или кафе. Пользователь может быть подключен к небезопасной публичной сети, предоставляемой учреждением, к которой также подключены многие другие. Что если среди них есть злоумышленник, который запускает программу, способную "захватывать" сетевые пакеты и анализировать их по воздуху?

Когда этот пользователь получает доступ к dbt Cloud и запускает модели, которые взаимодействуют с платформой данных, информация, отправляемая и получаемая с их компьютера и сервисов, шифруется с помощью TLS 1.2.

Если этот пользователь выполняет команду, которая инициализирует связь между dbt Cloud и хранилищем данных (или git-репозиторием, или службой аутентификации) через интернет, эта связь также шифруется. Это означает, что хотя злоумышленник технически может видеть трафик, проходящий по этой небезопасной сети, он не может прочитать или иным образом расшифровать какую-либо информацию. Он увидит бессмысленный набор символов, который никто не может расшифровать.

Для получения более подробной информации о наших практиках безопасности, прочитайте нашу [страницу безопасности](https://getdbt.com/security).

### Взаимодействие с хранилищем данных

Основная роль dbt Cloud заключается в обработке данных, а не в их хранении. Приложение dbt Cloud позволяет пользователям отправлять SQL в хранилище для трансформации. Однако пользователи могут отправлять SQL, который возвращает данные клиентов, в приложение dbt Cloud. Эти данные никогда не сохраняются и будут существовать только в памяти экземпляра в течение сессии. Чтобы правильно ограничить доступ к данным клиентов, необходимо применить соответствующие <Term id="data-warehouse" /> разрешения, чтобы предотвратить неправильный доступ или хранение конфиденциальных данных.

Некоторые поставщики хранилищ данных предлагают расширенные функции безопасности, которые можно использовать в dbt Cloud. [PrivateLink](/docs/cloud/secure/about-privatelink) позволяет поддерживаемым платформам данных на AWS взаимодействовать с dbt Cloud без прохождения трафика через общедоступный интернет. [Snowflake](/docs/cloud/manage-access/set-up-snowflake-oauth) и [BigQuery](/docs/cloud/manage-access/set-up-bigquery-oauth) предлагают интеграцию Oauth, что добавляет уровень безопасности для платформ данных (только для корпоративного плана).

### Синхронизация с Git

dbt Cloud может синхронизироваться с различными поставщиками git, включая [Github](/docs/cloud/git/connect-github), [Gitlab](/docs/cloud/git/connect-gitlab) и [Azure DevOps](/docs/cloud/git/connect-azure-devops) в рамках своей интегрированной среды разработки ([IDE](/docs/cloud/dbt-cloud-ide/develop-in-the-cloud)). Коммуникация происходит по протоколу HTTPS, а не SSH, и защищена с использованием протокола TLS 1.2 для передачи данных.

Информация о git-репозитории хранится на серверах dbt Cloud, чтобы сделать ее доступной во время сессий IDE. Когда синхронизация с git отключена, вам необходимо [связаться с поддержкой](mailto:support@getdbt.com), чтобы запросить удаление синхронизированных данных.

### Службы аутентификации

Настройки по умолчанию dbt Cloud позволяют локальным пользователям с учетными данными, хранящимися в dbt Cloud. Тем не менее, предлагаются интеграции с различными службами аутентификации в качестве альтернативы, включая [службы единого входа](/docs/cloud/manage-access/sso-overview). Доступ к функциям может быть предоставлен/ограничен по ролям с использованием [RBAC](/docs/cloud/manage-access/about-user-access#role-based-access-control-).

Функции SSO важны, поскольку они уменьшают количество учетных данных, которые пользователь должен поддерживать. Пользователи входят в систему один раз, и токен аутентификации делится между интегрированными сервисами (такими как dbt Cloud). Токен истекает и должен быть обновлен через заранее определенные интервалы, что требует от пользователя повторного прохождения процесса аутентификации. Если пользователь отключен в службе поставщика SSO, его доступ к dbt Cloud отключается, и он не может переопределить это с помощью локальных учетных данных аутентификации.

[Snowflake](/docs/cloud/manage-access/set-up-snowflake-oauth) и [BigQuery](/docs/cloud/manage-access/set-up-bigquery-oauth) предлагают услуги OAuth (JSON для передачи информации и API-вызовов для аутентификации) в качестве альтернативы SAML (XML для передачи информации и сеансовых куки для аутентификации). Пользователи могут аутентифицироваться на платформе данных для безопасного доступа к dbt Cloud и предотвращать доступ, когда учетные данные отзываются.

## Безопасность

dbt Labs стремится поддерживать отраслевые стандарты безопасности облака и соблюдения GDPR. Наши сертификаты соответствия включают следующее:

- SOC2 Type II — оценивает среду контроля безопасности поставщика услуг в соответствии с принципами и критериями доверительных услуг, установленными Американским институтом сертифицированных бухгалтеров (AICPA).
- ISO27001:2013 — международный стандарт для создания и сертификации системы управления информационной безопасностью (ISMS).
- GDPR - dbt Labs стремится поддерживать стандарты соблюдения GDPR. Узнайте больше о нашем [Дополнении к обработке данных](https://www.getdbt.com/cloud/dpa).

Для получения более подробной информации о наших практиках безопасности, прочитайте нашу [страницу безопасности](https://www.getdbt.com/security/).