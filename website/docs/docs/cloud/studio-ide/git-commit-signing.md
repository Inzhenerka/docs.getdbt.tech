---
title: "Подписание Git-коммитов"
description: "Узнайте, как подписывать Git-коммиты при использовании IDE для разработки."
sidebar_label: Git commit signing
---

# Подписание Git-коммитов <Lifecycle status="managed,managed_plus" />

Чтобы предотвратить подмену личности и повысить уровень безопасности, вы можете подписывать свои коммиты в <Constant name="git" /> перед отправкой их в репозиторий. Используя подпись, <Constant name="git" />‑провайдер может криптографически проверить коммит и пометить его как «verified», что повышает доверие к его источнику.

Вы можете настроить <Constant name="cloud" /> так, чтобы он подписывал ваши <Constant name="git" />‑коммиты при использовании <Constant name="cloud_ide" /> для разработки. Для этого включите функцию в <Constant name="cloud" />, пройдите процесс генерации пары ключей и загрузите публичный ключ в ваш <Constant name="git" />‑провайдер, чтобы использовать его для проверки подписи.  

## Требования

- В качестве <Constant name="git" />‑провайдера используется GitHub или GitLab. В настоящее время Azure DevOps не поддерживается.
- У вас есть аккаунт <Constant name="cloud" /> на тарифе [Enterprise или Enterprise+](https://www.getdbt.com/pricing/).

## Генерация пары GPG-ключей в dbt

Чтобы сгенерировать пару GPG-ключей в <Constant name="cloud" />, выполните следующие шаги:
1. Перейдите на страницу **Personal profile** в <Constant name="cloud" />.
2. Откройте раздел **Signed Commits**.
3. Включите переключатель **Sign commits originating from this user**.
4. В результате будет сгенерирована пара GPG-ключей. Приватный ключ будет использоваться для подписания всех будущих <Constant name="git" />‑коммитов. Публичный ключ будет отображён и его можно будет загрузить в ваш <Constant name="git" />‑провайдер.

<Lightbox src="/img/docs/dbt-cloud/example-git-signed-commits-setting.png" width="95%" title="Пример настройки профиля Signed commits" />

## Загрузка публичного ключа в Git-провайдер

Чтобы загрузить публичный ключ в ваш <Constant name="git" />‑провайдер, следуйте подробной документации соответствующего поддерживаемого <Constant name="git" />‑провайдера:

- [Инструкции GitHub](https://docs.github.com/en/authentication/managing-commit-signature-verification/adding-a-gpg-key-to-your-github-account) 
- [Инструкции GitLab](https://docs.gitlab.com/ee/user/project/repository/signed_commits/gpg.html) 

После того как вы загрузите публичный ключ в ваш <Constant name="git" />‑провайдер, ваши <Constant name="git" />‑коммиты будут помечаться как «Verified» после отправки изменений в репозиторий.

<Lightbox src="/img/docs/dbt-cloud/git-sign-verified.png" width="95%" title="Пример подтверждённого Git-коммита в Git-провайдере." />

## Важные моменты

- Пара GPG-ключей привязана к пользователю, а не к конкретному аккаунту. Между пользователем и парой ключей существует соотношение 1:1. Один и тот же ключ используется для подписания коммитов во всех аккаунтах, участником которых является пользователь.
- Пара GPG-ключей, сгенерированная в <Constant name="cloud" />, привязана к адресу электронной почты, связанному с вашим аккаунтом на момент создания ключей. Этот email используется для идентификации автора подписанных коммитов.
- Чтобы ваши <Constant name="git" />‑коммиты помечались как «verified», ваш email в <Constant name="cloud" /> должен быть подтверждённым адресом у вашего <Constant name="git" />‑провайдера. <Constant name="git" />‑провайдер (например, GitHub или GitLab) проверяет, что email, указанный в подписанном коммите, совпадает с подтверждённым email в аккаунте провайдера. Если они не совпадают, коммит не будет помечен как «verified».
- Поддерживайте синхронизацию email в <Constant name="cloud" /> и подтверждённого email у <Constant name="git" />‑провайдера, чтобы избежать проблем с верификацией. Если вы измените email в <Constant name="cloud" />:
  - Сгенерируйте новую пару GPG-ключей с обновлённым email, следуя [описанным ранее шагам](/docs/cloud/studio-ide/git-commit-signing#generate-gpg-keypair-in-dbt-cloud).
  - Добавьте и подтвердите новый email у вашего <Constant name="git" />‑провайдера.

<!-- vale off -->

## Часто задаваемые вопросы

<!-- vale on -->

<DetailsToggle alt_header="Что произойдёт, если я удалю свою пару GPG-ключей в dbt?">

Если вы удалите свою пару GPG-ключей в <Constant name="cloud" />, ваши Git-коммиты больше не будут подписываться. Вы можете сгенерировать новую пару GPG-ключей, следуя [описанным ранее шагам](/docs/cloud/studio-ide/git-commit-signing#generate-gpg-keypair-in-dbt-cloud).
</DetailsToggle>

<DetailsToggle alt_header="Какие Git-провайдеры поддерживают GPG-ключи?">

GitHub и GitLab поддерживают подписание коммитов, тогда как Azure DevOps — нет. Подписание коммитов является [функцией git](https://git-scm.com/book/ms/v2/Git-Tools-Signing-Your-Work) и не зависит от конкретного провайдера. Однако не все провайдеры поддерживают загрузку публичных ключей или отображение значков подтверждения на коммитах.

</DetailsToggle>

<DetailsToggle alt_header="Что делать, если мой Git-провайдер не поддерживает GPG-ключи?">

Если ваш Git-провайдер явно не поддерживает загрузку публичных GPG-ключей, коммиты всё равно будут подписываться с использованием приватного ключа, однако провайдер не будет отображать информацию о верификации.

</DetailsToggle>

<DetailsToggle alt_header="Что если мой Git-провайдер требует, чтобы все коммиты были подписаны?">

Если ваш Git-провайдер настроен на обязательную проверку коммитов, неподписанные коммиты будут отклоняться. Чтобы этого избежать, убедитесь, что вы выполнили все предыдущие шаги по генерации пары ключей и загрузили публичный ключ в провайдер.

</DetailsToggle>
