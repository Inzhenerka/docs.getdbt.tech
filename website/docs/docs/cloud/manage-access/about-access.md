---
title: "О доступе пользователей в dbt Cloud"
description: "Узнайте, как администраторы dbt Cloud могут использовать модель разрешений dbt Cloud для управления доступом на уровне пользователей в учетной записи dbt Cloud."
id: "about-user-access"
pagination_next: "docs/cloud/manage-access/seats-and-users"
pagination_prev: null
---

:::info "Доступ пользователей" не равен "Доступу к моделям"

Эта страница посвящена группам пользователей и доступу, который включает в себя:
- Лицензии пользователей, разрешения и членство в группах
- Контроль доступа на основе ролей для проектов и окружений
- Единый вход и безопасную аутентификацию

"Группы моделей и доступ" — это функция, специфичная для моделей и их доступности в различных проектах. Обратитесь к [Доступу к моделям](/docs/collaborate/govern/model-access) для получения дополнительной информации о том, что это означает для ваших проектов dbt.

:::

# О доступе пользователей

Вы можете регулировать доступ к dbt Cloud различными мерами, включая лицензии, группы, разрешения и контроль доступа на основе ролей (RBAC). Чтобы понять возможные подходы к доступу пользователей к функциям и функциональности dbt Cloud, вам следует сначала узнать, как мы подходим к пользователям и группам.

### Пользователи

Отдельные пользователи в dbt Cloud могут быть людьми, которых вы [приглашаете вручную](/docs/cloud/manage-access/invite-users) или предоставляете доступ через внешний поставщик идентификации (IdP), такой как Microsoft Entra ID, Okta или Google Workspace.

В любом случае, когда вы добавляете пользователя в dbt Cloud, ему назначается [лицензия](#licenses). Вы назначаете лицензии на уровне отдельных пользователей или групп. Когда вы приглашаете пользователя вручную, вы назначаете лицензию в окне приглашения.

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/license-dropdown.png" width="60%" title="Пример выпадающего списка лицензий в окне приглашения пользователя." />

Вы можете редактировать лицензию существующего пользователя, перейдя в раздел **Пользователи** в **Настройках учетной записи**, кликнув на пользователя и нажав **Редактировать** в панели пользователя. Удаляйте пользователей из этого же окна, чтобы освободить лицензии для новых пользователей.

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/edit-user.png" width="60%" title="Пример окна информации о пользователе в каталоге пользователей" />


### Группы

Группы в dbt Cloud выполняют ту же функцию, что и в традиционных инструментах каталогов — объединять отдельных пользователей, чтобы упростить массовое назначение разрешений. Администраторы используют группы в dbt Cloud для назначения [лицензий](#licenses) и [разрешений](#permissions). Разрешения более детализированы, чем лицензии, и вы назначаете их только на уровне группы; _вы не можете назначать разрешения на уровне пользователя._ Каждый пользователь в dbt Cloud должен быть назначен хотя бы в одну группу.

Сразу после создания вашей учетной записи dbt Cloud доступны три группы по умолчанию (человек, создавший учетную запись, автоматически добавляется во все три):

- **Владелец:** Эта группа предназначена для лиц, ответственных за всю учетную запись, и предоставляет им повышенные привилегии администратора учетной записи. Вы не можете изменить разрешения. 
- **Участник:** Эта группа предназначена для общих членов вашей организации, которые также будут иметь полный доступ к учетной записи. Вы не можете изменить разрешения. По умолчанию dbt Cloud добавляет новых пользователей в эту группу.
- **Все:** Общая группа для всех членов вашей организации. Настройте разрешения в соответствии с потребностями вашей организации. По умолчанию dbt Cloud добавляет новых пользователей в эту группу.

Мы рекомендуем удалить группы по умолчанию `Owner`, `Member` и `Everyone` перед развертыванием и заменить их на ваши организационные группы. Это предотвращает получение пользователями более высоких привилегий, чем они должны иметь, и помогает администраторам убедиться, что они правильно размещены.

Создайте новые группы в разделе **Группы и лицензии** в **Настройках учетной записи**. Если вы используете внешний IdP для SSO, вы можете синхронизировать эти группы SSO с dbt Cloud из панели **Детали группы** при создании или редактировании существующих групп.

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/new-group.png" width="60%" title="Пример панели новой группы в настройках учетной записи." />

:::important

Если пользователю назначены лицензии и разрешения из нескольких групп, группа, предоставляющая наибольший доступ, будет иметь приоритет. Вы должны назначить набор разрешений для любых групп, созданных помимо трех по умолчанию, иначе пользователи, назначенные в эти группы, не будут иметь доступа к функциям, выходящим за рамки их профиля пользователя.

:::

#### SSO сопоставления

Сопоставления SSO связывают членство группы поставщика идентификации (IdP) с группой dbt Cloud. Когда пользователи входят в dbt Cloud через поддерживаемый поставщик идентификации, их членство в группах IdP синхронизируется с dbt Cloud. После успешного входа членство группы пользователя (и разрешения) автоматически корректируется в dbt Cloud.

:::tip Создание сопоставлений SSO

Хотя dbt Cloud поддерживает сопоставление нескольких групп IdP с одной группой dbt Cloud, мы рекомендуем использовать сопоставление 1:1, чтобы сделать администрирование как можно проще. Используйте одни и те же названия для ваших групп dbt Cloud и групп IdP.

:::

Создайте сопоставление SSO в представлении группы:

1. Откройте существующую группу для редактирования или создайте новую группу.
2. В разделе **SSO** на экране группы введите название группы SSO точно так, как оно указано в IdP. Если название не совпадает, пользователи не будут правильно размещены в группе. 
3. В разделе **Пользователи** убедитесь, что опция **Добавить всех пользователей по умолчанию** отключена.
4. Сохраните конфигурацию группы. Новые пользователи SSO будут добавлены в группу при входе, а существующие пользователи будут добавлены в группу при следующем входе. 

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/sso-mapping.png" width="60%" title="Пример группы SSO, сопоставленной с группой dbt Cloud." />

Обратитесь к [контролю доступа на основе ролей](#role-based-access-control) для получения дополнительной информации о сопоставлении групп SSO для назначения пользователей в группы dbt Cloud.

## Предоставление доступа

Пользователи dbt Cloud имеют как лицензию (назначенную отдельному пользователю или по членству в группе), так и разрешения (только по членству в группе), которые определяют, какие действия они могут выполнять. Лицензии действуют на уровне всей учетной записи, а разрешения предоставляют более детализированный доступ или ограничения к конкретным функциям.

### Лицензии

Каждому пользователю в dbt Cloud будет назначена лицензия. Лицензии потребляют "места", что влияет на то, как ваша учетная запись [биллируется](/docs/cloud/billing), в зависимости от вашего [плана обслуживания](https://www.getdbt.com/pricing).

В dbt Cloud есть три типа лицензий:

- **Разработчик** — пользователю могут быть предоставлены _любые_ разрешения.
- **Только для чтения** — пользователю предоставляются разрешения только для чтения, применяемые ко всем ресурсам dbt Cloud, независимо от разрешений на основе ролей, которые назначены пользователю.
- **IT** — пользователю предоставляются разрешения администратора безопасности и администратора биллинга [разрешения](/docs/cloud/manage-access/enterprise-permissions), независимо от назначенных разрешений группы.

Лицензии разработчиков составляют большинство пользователей в вашей среде и имеют наибольшее влияние на биллинг, поэтому важно следить за тем, сколько их у вас есть в любой момент времени.

Для получения дополнительной информации о этих типах лицензий смотрите [Места и пользователи](/docs/cloud/manage-access/seats-and-users)

### Разрешения

Разрешения определяют, что может делать пользователь с лицензией разработчика в вашей учетной записи dbt Cloud. По умолчанию члены групп `Owner` и `Member` имеют полный доступ ко всем областям и функциям. Когда вы хотите ограничить доступ к функциям, назначайте пользователей в группы с более строгими наборами разрешений. Имейте в виду, что если пользователь принадлежит к нескольким группам, наиболее разрешительная группа будет иметь приоритет.

Доступные разрешения зависят от того, находитесь ли вы на [Enterprise](/docs/cloud/manage-access/enterprise-permissions) или [плане самообслуживания Team](/docs/cloud/manage-access/self-service-permissions). Учетные записи разработчиков имеют только одного пользователя, поэтому разрешения не применимы.

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/assign-group-permissions.png" width="60%" title="Пример выпадающего списка разрешений при редактировании существующей группы." />

Некоторые разрешения (те, которые не предоставляют полный доступ, как администраторы) позволяют группам "назначаться" только для конкретных проектов и окружений. Ознакомьтесь с [разрешениями на уровне окружения](/docs/cloud/manage-access/environment-permissions-setup) для получения дополнительной информации о том, как ограничить доступ к окружению.

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/environment-access-control.png" width="60%" title="Пример контроля доступа к окружению для группы с назначенным администратором Git." />

## Контроль доступа на основе ролей <Lifecycle status='enterprise' />

Контроль доступа на основе ролей (RBAC) позволяет предоставлять пользователям доступ к функциям и функциональности на основе их членства в группах. С помощью этого метода вы можете предоставлять пользователям различные уровни доступа к различным проектам и окружениям. Вы можете поднять уровень доступа и безопасности на новый уровень, интегрировав dbt Cloud с третьим поставщиком идентификации (IdP), чтобы предоставлять пользователям доступ, когда они аутентифицируются с помощью вашего SSO или OAuth-сервиса.

Есть несколько вещей, которые вам нужно знать, прежде чем настраивать RBAC для пользователей SSO:
- Новые пользователи SSO присоединяются к любым группам с включенной опцией **Добавить всех новых пользователей по умолчанию**. По умолчанию группы `Everyone` и `Member` имеют эту опцию включенной. Отключите эту опцию для всех групп для наилучшего опыта RBAC.
- Вы должны иметь соответствующие группы SSO, настроенные в разделе деталей группы SSO. Если название группы SSO не совпадает _точно_, пользователи не будут правильно размещены в группе. 
  <Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/sso-window-details.png" width="60%" title="Раздел деталей группы SSO с настроенной группой." />
- dbt Labs рекомендует, чтобы названия ваших групп dbt Cloud совпадали с названиями групп IdP.

Предположим, у вас новый сотрудник, который проходит обучение в вашей организации, используя [Okta](/docs/cloud/manage-access/set-up-sso-okta) в качестве IdP и группы dbt Cloud с сопоставлениями SSO. В этом сценарии пользователи работают над `The Big Project`, и новый аналитик по имени `Euclid Ean` присоединяется к группе.

Посмотрите следующие примеры конфигураций, чтобы получить представление о том, как вы можете реализовать RBAC для вашей организации (эти примеры предполагают, что вы уже настроили [SSO](/docs/cloud/manage-access/sso-overview)):

<Expandable alt_header="Конфигурация Okta"> 

Вы и ваша команда IdP добавляете `Euclid Ean` в вашу среду Okta и назначаете его в приложение SSO `dbt Cloud` через группу под названием `The Big Project`. 

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/okta-group-config.png" width="60%" title="Пользователь в группе в Okta." />

Настройте атрибуты группы в приложении `dbt Cloud` в Okta. Атрибуты группы в следующем примере установлены на название группы точно (`The Big Project`), но ваша конфигурация, вероятно, будет гораздо шире. Компании часто используют один и тот же префикс для всех групп dbt в своем IdP. Например, `DBT_GROUP_`

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/group-attributes.png" width="60%" title="Атрибуты группы, установленные в приложении dbt Cloud SAML 2.0 в Okta." />

</Expandable>

<Expandable alt_header="Конфигурация dbt Cloud"> 

Вы и ваша команда администраторов dbt Cloud настраиваете группы в настройках вашей учетной записи: 
1. Перейдите в **Настройки учетной записи** и нажмите **Группы и лицензии** в левом меню. 
2. Нажмите **Создать группу** или выберите существующую группу и нажмите **Редактировать**.
3. Введите название группы в поле **SSO**.
4. Настройте поля **Доступ и разрешения** в соответствии с вашими потребностями. Выберите [набор разрешений](/docs/cloud/manage-access/enterprise-permissions), проект, к которому они могут получить доступ, и [доступ на уровне окружения](/docs/cloud/manage-access/environment-permissions).

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/dbt-cloud-group-config.png" width="60%" title="Конфигурация группы с заполненным полем SSO в dbt Cloud." />

Euclid ограничен ролью `Аналитик`, проектом `Jaffle Shop` и окружениями `Development`, `Staging` и `General` этого проекта. Euclid не имеет доступа к окружению `Production` в своей роли. 

</Expandable>

<Expandable alt_header="Путь пользователя">

Euclid выполняет следующие шаги для входа: 

1. Получает доступ к URL SSO или приложению dbt Cloud в своей учетной записи Okta. URL можно найти на странице конфигурации **Единый вход** в **Настройках учетной записи**. 

  <Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/sso-login-url.png" width="60%" title="URL входа SSO в настройках учетной записи." />

2. Входит с помощью своих учетных данных Okta.

  <Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/sso-login.png" width="60%" title="Экран входа SSO при использовании Okta в качестве поставщика идентификации." />

3. Поскольку это его первый вход с помощью SSO, Euclid Ean получает сообщение и не может продолжить, пока не проверит адрес электронной почты, связанный с его учетной записью Okta. 

  <Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/post-login-screen.png" width="60%" title="Экран, который видят пользователи после первого входа SSO." />

4. Теперь он открывает свою электронную почту и нажимает на ссылку, чтобы присоединиться к dbt Labs, что завершает процесс.

  <Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/sample-email.png" width="60%" title="Электронное письмо, которое пользователь получает при первом входе SSO." />

Теперь Euclid вошел в свою учетную запись. У него есть доступ только к проекту `Jaffle Shop`, и опция выбора проекта полностью удалена из его интерфейса. 

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/rbac-account-home.png" width="60%" title="Главный экран с ограниченным доступом." />

Теперь он может настроить учетные данные для разработки. Окружение `Production` видно, но оно `только для чтения`, и у него есть полный доступ в окружении `Staging`. 

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/production-restricted.png" width="60%" title="Страница окружения Production с доступом только для чтения." />

<Lightbox src="/img/docs/dbt-cloud/dbt-cloud-enterprise/access-control/staging-access.png" width="60%" title="Страница окружения Staging с полным доступом." />

</Expandable>

С настроенным RBAC у вас теперь есть детализированный контроль над доступом пользователей к функциям в dbt Cloud.

## Часто задаваемые вопросы

<Expandable alt_header="Когда обновляются членства групп IdP для сопоставленных групп SSO?">

Членства в группах обновляются каждый раз, когда пользователь входит в dbt Cloud через поддерживаемого поставщика SSO. Если вы изменили членства в группах в вашем поставщике идентификации или dbt Cloud, попросите ваших пользователей снова войти в dbt Cloud, чтобы синхронизировать эти членства групп.

</Expandable>

<Expandable alt_header="Могу ли я настроить SSO без RBAC?">

Да, смотрите документацию о [Ручном назначении](#manual-assignment) выше для получения дополнительной информации о использовании SSO без RBAC.

</Expandable>

<Expandable alt_header="Могу ли я настроить тип лицензии пользователя на основе атрибутов IdP?">

Да, смотрите документацию о [управлении типами лицензий](/docs/cloud/manage-access/seats-and-users#managing-license-types) для получения дополнительной информации.

</Expandable>

<Expandable alt_header="Почему я не могу редактировать членство группы пользователя?">

Не пытайтесь редактировать своего пользователя, так как это не разрешено по соображениям безопасности. Вам нужно, чтобы другой пользователь внес изменения в членство вашей группы.

</Expandable>

<Expandable alt_header="Как добавить или удалить пользователей?">

Каждый план dbt Cloud имеет базовое количество лицензий для разработчиков и только для чтения. Вы можете добавлять или удалять лицензии, изменяя количество пользователей в настройках вашей учетной записи. 
  - Если вы находитесь на Enterprise-плане и имеете соответствующие [разрешения](/docs/cloud/manage-access/enterprise-permissions), вы можете добавлять или удалять разработчиков, изменяя количество мест для пользователей-разработчиков в **Настройках учетной записи** -> **Пользователи**.
  - Если вы находитесь на Team-плане и имеете соответствующие [разрешения](/docs/cloud/manage-access/self-service-permissions), вы можете добавлять или удалять разработчиков, внося два изменения: измените количество мест для пользователей-разработчиков И количество мест для биллинга разработчиков в **Настройках учетной записи** -> **Пользователи**, а затем в **Настройках учетной записи** -> **Биллинг**.

Для получения подробных шагов смотрите [Пользователи и лицензии](/docs/cloud/manage-access/seats-and-users#licenses).

</Expandable>