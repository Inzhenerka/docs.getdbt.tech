---
title: "Обзор единого входа (SSO)"
id: "sso-overview"
pagination_next: "docs/cloud/manage-access/set-up-sso-saml-2.0"
pagination_prev: null
---

Этот обзор объясняет, как пользователи создаются в dbt Cloud через единый вход (SSO). dbt Cloud поддерживает JIT (Just-in-Time) создание учетных записей и вход, инициированный поставщиком удостоверений (IdP). Вы можете узнать больше о наших поддерживаемых вариантах [здесь](https://www.getdbt.com/pricing/).

## Предварительные условия

- У вас есть учетная запись dbt Cloud, зарегистрированная в корпоративном плане. [Свяжитесь с нами](mailto:sales@getdbt.com), чтобы узнать больше и зарегистрироваться.

## URIs Auth0

<Snippet path="auth0-uri" />

## Процесс SSO

Диаграмма ниже объясняет основной процесс, по которому пользователи создаются в dbt Cloud при входе с помощью SSO.

<Lightbox src="/img/sso_overview.png" title="Диаграмма SSO" />

#### Объяснение диаграммы

- **Страница входа**: Пользователь получает доступ к странице входа в dbt Cloud, инициируя поток SSO.
- **Вход, инициированный IdP**: Пользователь получает доступ к странице входа в dbt Cloud через поставщика удостоверений, выбрав приложение dbt Cloud. Это начнет поток входа IdP.
- **Страница входа IdP**: Пользователь получает запрос на вход в поставщика удостоверений. Это предоставит приложению dbt Cloud доступ к данным их учетной записи.
- **Вход?**: Пользователь может выбрать продолжить или прервать процесс входа.
  - **Да**: Пользователь входит в систему, предоставляет приложению dbt Cloud доступ и продолжает.
  - **Нет**: Пользователь не входит в систему. Он возвращается на страницу входа IdP.
- **Пользователь существует?**: Этот шаг проверяет, существует ли пользователь уже в базе данных пользователей dbt Cloud.
  - **Да**: Если да, пропустите процесс создания пользователя.
  - **Нет**: Если нет, создайте новую запись в базе данных dbt Cloud для нового пользователя.
- **Создать пользователя dbt Cloud**: Это создаст новую запись в базе данных dbt Cloud для нового пользователя. Эта запись пользователя содержит адрес электронной почты, имя и фамилию пользователя, а также любые атрибуты IdP (например, группы), переданные от поставщика удостоверений.
- **Привязать соответствующие учетные записи**: dbt Cloud находит все учетные записи, настроенные для соответствия конфигурации SSO, используемой этим пользователем для входа, а затем создает запись лицензии пользователя, сопоставляющую пользователя с учетной записью. Этот шаг также удалит любые лицензии, которые пользователь не должен иметь на основе текущей конфигурации SSO.
- **Привязать соответствующие разрешения (группы)**: dbt Cloud проходит через группы на соответствующих учетных записях и находит все, которые соответствуют одной из следующих категорий:
  - Имеют группу сопоставления SSO, назначенную пользователю
  - Имеют установленный параметр "Назначить по умолчанию".
Затем все эти (и только эти) назначаются лицензии пользователя. Этот шаг также удалит любые разрешения, которые пользователь не должен иметь на основе текущих сопоставлений групп SSO.
- **Приложение dbt Cloud**: После этих шагов пользователь перенаправляется в приложение dbt Cloud, и он может начать использовать приложение в обычном режиме.

## Принуждение к SSO

* **Принуждение к SSO:** Если SSO включен в вашей организации, dbt Cloud будет принуждать к входу только через SSO для всех пользователей, не являющихся администраторами. По умолчанию, если у администратора учетной записи или администратора безопасности уже есть пароль, они могут продолжать входить с помощью пароля. Чтобы ограничить администраторам возможность использования паролей, отключите **Разрешить вход с паролем для администраторов учетной записи** в разделе **Единый вход** в настройках вашей организации.
* **Повторная аутентификация SSO:** dbt Cloud будет запрашивать вас повторно аутентифицироваться с помощью вашего поставщика SSO каждые 24 часа для обеспечения высокой безопасности.

### Как должны входить пользователи, не являющиеся администраторами?

Пользователи, не являющиеся администраторами, которые в настоящее время входят с помощью пароля, больше не смогут этого делать. Им необходимо войти с помощью URL-адреса входа dbt Enterprise или поставщика удостоверений (IdP). Например, Okta, Microsoft Entra ID (ранее Azure AD) и т.д.

### Рекомендации по безопасности

Существуют несколько сценариев, которые могут потребовать от вас входа с паролем. Мы рекомендуем следующие лучшие практики безопасности для двух наиболее распространенных сценариев:
* **Введение в должность партнеров и подрядчиков** — Мы настоятельно рекомендуем добавлять партнеров и подрядчиков в ваш поставщик удостоверений. IdP, такие как Okta и Microsoft Entra ID, предлагают возможности, специально предназначенные для временных сотрудников. Мы настоятельно рекомендуем вам обратиться к вашей ИТ-команде для предоставления лицензии SSO для этих ситуаций. Использование IdP обеспечивает высокую безопасность, снижает риск утечки данных и значительно повышает уровень безопасности вашей среды dbt Cloud.
* **Поставщик удостоверений не работает** — Администраторы учетных записей по-прежнему смогут входить с помощью пароля, что позволит им работать с вашим поставщиком удостоверений для устранения проблемы.
* **Выход из должности администраторов** — При выходе из должности администраторов отозвать доступ к dbt Cloud, удалив пользователя из вашей среды; в противном случае они могут продолжать использовать учетные данные для входа с именем пользователя и паролем.

### Следующие шаги для пользователей, не являющихся администраторами, которые в настоящее время входят с паролями

Если у вас есть пользователи, не являющиеся администраторами, которые сегодня входят в dbt Cloud с помощью пароля:

1. Убедитесь, что у всех пользователей есть учетная запись в вашем поставщике удостоверений и они назначены в dbt Cloud, чтобы они не потеряли доступ.
2. Уведомите всех пользователей dbt Cloud о том, что они больше не смогут использовать пароль для входа, если они уже не являются администраторами с паролем.
3. Мы **НЕ РЕКОМЕНДУЕМ** повышать каких-либо пользователей до администраторов только для сохранения входа на основе пароля, так как это снизит безопасность вашей среды dbt Cloud.