---
title: "Подключение к GitLab"
description: "Узнайте, как подключение вашей учетной записи GitLab обеспечивает удобство и дополнительный уровень безопасности для dbt Cloud."
id: "connect-gitlab"
---

Подключение вашей учетной записи GitLab к dbt Cloud обеспечивает удобство и дополнительный уровень безопасности для dbt Cloud:
- Импортируйте новые репозитории GitLab всего за несколько кликов во время настройки проекта dbt Cloud.
- Клонируйте репозитории с использованием HTTPS вместо SSH.
- Переносите разрешения пользователей GitLab в действия git dbt Cloud или dbt Cloud CLI.
- Запускайте сборки [непрерывной интеграции](/docs/deploy/continuous-integration) при открытии запросов на слияние в GitLab.
  - GitLab автоматически регистрирует веб-хук в вашем репозитории GitLab для обеспечения бесшовной интеграции с dbt Cloud.

Шаги для интеграции GitLab в dbt Cloud зависят от вашего тарифного плана. Если вы находитесь на:
- тарифе Developer или Team, прочитайте эти [инструкции](#for-dbt-cloud-developer-and-team-tiers).
- тарифе Enterprise, перейдите к этим [инструкциям](#for-the-dbt-cloud-enterprise-tier).

## Для тарифов dbt Cloud Developer и Team

Чтобы подключить вашу учетную запись GitLab:
1. В dbt Cloud нажмите на ваше имя учетной записи в левом меню и выберите **Настройки учетной записи**.
2. Выберите **Личный профиль** в разделе **Ваш профиль**.
3. Прокрутите вниз до **Связанные учетные записи**.
4. Нажмите **Связать** справа от вашей учетной записи GitLab.

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/connecting-github/github-connect.png" title="Настройки личного профиля с разделом Связанные учетные записи"/>

Когда вы нажмете **Связать**, вы будете перенаправлены на GitLab и предложено войти в свою учетную запись. GitLab затем запросит ваше явное разрешение:

<Lightbox src="/img/docs/dbt-cloud/connecting-gitlab/GitLab-Auth.png" title="Экран авторизации GitLab" />

После того как вы примете, вы должны быть перенаправлены обратно в dbt Cloud, и вы увидите, что ваша учетная запись была связана с вашим профилем.

## Для тарифа dbt Cloud Enterprise

Клиенты dbt Cloud Enterprise имеют дополнительное преимущество использования собственного OAuth-приложения GitLab в dbt Cloud. Этот тариф обеспечивает дополнительную безопасность, так как dbt Cloud будет:
- Принуждать к авторизации пользователей с помощью OAuth.
- Переносить разрешения пользователей репозитория GitLab (доступ на чтение / запись) в действия git dbt Cloud или dbt Cloud CLI.

Чтобы подключить GitLab в dbt Cloud, администратор учетной записи GitLab должен:
1. [Настроить OAuth-приложение GitLab](#setting-up-a-gitlab-oauth-application).
2. [Добавить приложение GitLab в dbt Cloud](#adding-the-gitlab-oauth-application-to-dbt-cloud).

После того как администратор завершит эти шаги, разработчики dbt Cloud должны:
1. [Лично аутентифицироваться в GitLab](#personally-authenticating-with-gitlab) из dbt Cloud.

### Настройка OAuth-приложения GitLab
Рекомендуем, чтобы перед настройкой проекта в dbt Cloud администратор учетной записи GitLab настроил OAuth-приложение в GitLab для использования в dbt Cloud.

Для получения более подробной информации GitLab предлагает [руководство по созданию группового приложения](https://docs.gitlab.com/ee/integration/oauth_provider.html#group-owned-applications).

В GitLab перейдите в настройки вашей группы и выберите **Приложения**. Здесь вы увидите форму для создания нового приложения.

<Lightbox src="/img/docs/dbt-cloud/connecting-gitlab/gitlab nav.gif" title="Навигация по приложениям GitLab"/>

В GitLab, создавая ваше групповое приложение, введите следующее:

| Поле | Значение |
| ------ | ----- |
| **Имя** | dbt Cloud |
| **URI перенаправления** | `https://YOUR_ACCESS_URL/complete/gitlab` |
| **Конфиденциальное** | ✅ |
| **Области** | ✅ api |

Замените `YOUR_ACCESS_URL` на [соответствующий URL-адрес доступа](/docs/cloud/about-cloud/access-regions-ip-addresses) для вашего региона и плана.

Форма приложения в GitLab должна выглядеть следующим образом после заполнения:

<Lightbox src="/img/docs/dbt-cloud/connecting-gitlab/gitlab app.png" title="Форма группового приложения GitLab"/>

Нажмите **Сохранить приложение** в GitLab, и GitLab сгенерирует **ID приложения** и **Секрет**. Эти значения будут доступны даже если вы закроете экран приложения, так что это не единственный шанс их сохранить.

Если вы являетесь клиентом Business Critical, использующим [ограничения IP](/docs/cloud/secure/ip-restrictions), убедитесь, что вы добавили соответствующие CIDR GitLab в ваши правила ограничения IP, иначе соединение с GitLab не будет успешным.

### Добавление OAuth-приложения GitLab в dbt Cloud
После создания вашего приложения GitLab вам нужно предоставить dbt Cloud информацию о приложении. В dbt Cloud администраторы учетных записей должны перейти в **Настройки учетной записи**, нажать на вкладку **Интеграции** и развернуть раздел GitLab.

<Lightbox src="/img/docs/dbt-cloud/connecting-gitlab/GitLab-Navigation.gif" title="Навигация к интеграции GitLab в dbt Cloud"/>

В dbt Cloud введите следующие значения:

| Поле | Значение |
| ------ | ----- |
| **Экземпляр GitLab** | https://gitlab.com |
| **ID приложения** | *скопируйте значение из приложения GitLab* |
| **Секрет** | *скопируйте значение из приложения GitLab* |

Обратите внимание, если у вас есть специальная хостинговая версия GitLab, измените **Экземпляр GitLab**, чтобы использовать предоставленный для вашей организации хостнейм, например `https://gitlab.yourgreatcompany.com/`.

После завершения формы в dbt Cloud нажмите **Сохранить**.

Затем вы будете перенаправлены на GitLab и предложено войти в свою учетную запись. GitLab запросит ваше явное разрешение:

<Lightbox src="/img/docs/dbt-cloud/connecting-gitlab/GitLab-Auth.png" title="Экран авторизации GitLab" />

После того как вы примете, вы должны быть перенаправлены обратно в dbt Cloud, и ваша интеграция готова для разработчиков вашей команды, чтобы [лично аутентифицироваться с](#personally-authenticating-with-gitlab).

### Личная аутентификация в GitLab
Разработчики dbt Cloud на тарифе Enterprise должны каждый подключить свои профили GitLab к dbt Cloud, так как доступ на чтение / запись каждого разработчика к репозиторию dbt проверяется в IDE dbt Cloud или dbt Cloud CLI.

Чтобы подключить личную учетную запись GitLab:

1. В dbt Cloud нажмите на ваше имя учетной записи в левом меню и выберите **Настройки учетной записи**.

2. Выберите **Личный профиль** в разделе **Ваш профиль**.

3. Прокрутите вниз до **Связанные учетные записи**.

Если ваша учетная запись GitLab не подключена, вы увидите "Нет подключенной учетной записи". Выберите **Связать**, чтобы начать процесс настройки. Вы будете перенаправлены на GitLab и предложено авторизовать dbt Cloud на экране разрешений.

<Lightbox src="/img/docs/dbt-cloud/connecting-gitlab/GitLab-Auth.png" title="Авторизация приложения dbt Cloud для разработчиков" />

После того как вы одобрите авторизацию, вы будете перенаправлены в dbt Cloud, и вы должны увидеть свою подключенную учетную запись. Теперь вы готовы начать разработку в IDE dbt Cloud или dbt Cloud CLI.

## Устранение неполадок

<FAQ path="Troubleshooting/gitlab-webhook"/>
<FAQ path="Troubleshooting/error-importing-repo"/>
<FAQ path="Git/gitignore"/>
<FAQ path="Git/gitlab-authentication"/>
<FAQ path="Git/gitlab-selfhosted"/>
<FAQ path="Git/git-migration"/>