---
title: "Уведомления о моделях"
description: "Получайте уведомления по электронной почте в реальном времени о любых проблемах с вашими моделями и тестами во время выполнения задания."
---

Настройте dbt для уведомления соответствующих владельцев моделей по электронной почте о проблемах, как только они возникают, пока задание еще выполняется. Владельцы моделей могут указать, о каких статусах они хотят получать уведомления:

- `Success` и `Fails` для моделей
- `Warning`, `Success` и `Fails` для тестов

С уведомлениями на уровне моделей владельцы моделей могут первыми узнавать о проблемах, прежде чем кто-либо другой (например, заинтересованные стороны).

Чтобы уведомления были своевременными и их количество оставалось в разумных пределах, когда несколько моделей или тестов их вызывают, dbt соблюдает следующие правила при уведомлении владельцев:

- Отправлять уведомление каждому уникальному владельцу/электронной почте во время выполнения задания о любых моделях (со статусом ошибки/успеха) или тестах (со статусом предупреждения/ошибки/успеха). Каждый владелец получает только одно уведомление, первое.
- Не отправлять уведомления о последующих моделях или тестах, пока задание dbt еще выполняется.
- Каждый владелец/пользователь, подписавшийся на уведомления для одного или нескольких статусов (например, ошибка, успех, предупреждение), получит только _одно_ уведомление по электронной почте в конце выполнения задания.
- Электронное письмо включает в себя консолидированный список всех моделей или тестов, соответствующих статусам, на которые подписан пользователь, вместо отправки отдельных писем для каждого статуса.

Создайте конфигурационные YAML-файлы в вашем проекте, чтобы dbt отправлял уведомления о статусе ваших моделей и тестов.

## Предварительные условия
- Ваш администратор dbt Cloud [включил соответствующую настройку учетной записи](#enable-access-to-model-notifications) для вас.
- Ваши окружения должны быть на [релизной версии](/docs/dbt-versions/cloud-release-tracks), а не на устаревшей версии dbt Core.

## Настройка групп

Определите ваши группы в любом `.yml` файле в вашем [каталоге моделей](/reference/project-configs/model-paths). Каждая группа должна иметь указанный один адрес электронной почты &mdash; несколько полей электронной почты или списков не поддерживаются.

Следующий пример показывает, как определить группы в файле `groups.yml`.

<File name='models/groups.yml'>

```yml
version: 2

groups:
  - name: finance
    owner:
      # Электронная почта обязательна для получения уведомлений на уровне моделей, также допускаются дополнительные свойства.
      name: "Finance Team"
      description: "Модели, связанные с финансовым отделом"
      email: finance@dbtlabs.com
      favorite_food: donuts

  - name: marketing
    owner:
      name: "Marketing Team"
      description: "Модели, связанные с маркетинговым отделом"
      email: marketing@dbtlabs.com
      favorite_food: jaffles
```

</File>

## Присоединение групп к моделям

Присоедините группы к моделям так же, как и любую другую конфигурацию, в файлах `dbt_project.yml` или `whatever.yml`. Например:

<File name='models/marts.yml'>

```yml
version: 2

models:
  - name: sales
    description: "Модель данных о продажах"
    config:
      group: finance

  - name: campaigns
    description: "Модель данных о кампаниях"
    config:
      group: marketing

```
</File>

Назначая группы в файле `dbt_project.yml`, вы можете охватить все модели в подкаталоге сразу.

В этом примере уведомления о моделях, связанных с этапами, отправляются группе инженеров данных, модели `marts/sales` — финансовой команде, а модели `marts/campaigns` — маркетинговой команде.

<File name='dbt_project.yml'>

```yml
config-version: 2
name: "jaffle_shop"

[...]

models:
  jaffle_shop:
    staging:
      +group: data_engineering
    marts:
      sales:
        +group: finance
      campaigns:
        +group: marketing
    
```

</File>
Присоединение группы к модели также охватывает ее тесты, поэтому вы также будете получать уведомления о сбоях тестов модели.

## Включение доступа к уведомлениям о моделях

Предоставьте участникам учетной записи dbt Cloud возможность настраивать и получать оповещения о проблемах с моделями или тестами, которые возникают во время выполнения заданий.

Чтобы использовать уведомления на уровне моделей, ваша учетная запись dbt Cloud должна иметь доступ к этой функции. Попросите вашего администратора dbt Cloud включить эту функцию для участников учетной записи, выполнив следующие шаги:

1. Перейдите в **Настройки уведомлений** из вашего профиля в боковой панели (в нижней левой части).
1. В разделе **Уведомления по электронной почте** включите настройку **Включить уведомления для групп/владельцев моделей** в разделе **Уведомления о моделях**. Затем укажите, о каких статусах вы хотите получать уведомления (Success, Warning и/или Fails).

  <Lightbox src="/img/docs/dbt-cloud/example-enable-model-notifications.png" title="Пример настройки Включить уведомления для групп/владельцев моделей" />