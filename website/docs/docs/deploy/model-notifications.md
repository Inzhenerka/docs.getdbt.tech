---
title: "Уведомления о моделях"
description: "Во время выполнения задания получайте уведомления по электронной почте в реальном времени о любых проблемах с вашими моделями и тестами."
---

Настройте dbt для уведомления соответствующих владельцев моделей по электронной почте о проблемах, как только они возникают, пока задание все еще выполняется. Владельцы моделей могут указать, о каких статусах они хотят получать уведомления:

- `Успех` и `Ошибка` для моделей
- `Предупреждение`, `Успех` и `Ошибка` для тестов

С уведомлениями на уровне моделей владельцы могут первыми узнать о проблемах, прежде чем кто-либо другой (например, заинтересованные стороны).

Чтобы быть своевременными и сократить количество уведомлений до разумного уровня, когда несколько моделей или тестов вызывают их, dbt соблюдает следующие рекомендации при уведомлении владельцев:

- Отправляйте уведомление каждому уникальному владельцу/электронной почте во время выполнения задания о любых моделях (со статусом ошибки/успеха) или тестах (со статусом предупреждения/ошибки/успеха). Каждый владелец получает только одно уведомление — первоначальное.
- Уведомления о последующих моделях или тестах не отправляются, пока задание dbt все еще выполняется.
- Каждый владелец/пользователь, подписавшийся на уведомления о одном или нескольких статусах (таких как ошибка, успех, предупреждение), получит только _одно_ уведомление по электронной почте в конце выполнения задания.
- Электронное письмо включает сводный список всех моделей или тестов, соответствующих статусам, на которые подписан пользователь, вместо отправки отдельных писем для каждого статуса.

Создайте конфигурационные YAML файлы в вашем проекте, чтобы dbt мог отправлять уведомления о статусе ваших моделей и тестов.

## Предварительные условия
- Ваш администратор dbt Cloud [включил соответствующую настройку аккаунта](#enable-access-to-model-notifications) для вас.
- Ваши окружения должны находиться на [релизной ветке](/docs/dbt-versions/cloud-release-tracks), а не на устаревшей версии dbt Core.

## Настройка групп

Определите ваши группы в любом `.yml` файле в вашем [каталоге моделей](/reference/project-configs/model-paths). Каждая группа должна иметь указанный единственный адрес электронной почты — несколько полей электронной почты или списков не поддерживаются.

Следующий пример показывает, как определить группы в файле `groups.yml`.

<File name='models/groups.yml'>

```yml
version: 2

groups:
  - name: finance
    owner:
      # Электронная почта обязательна для получения уведомлений на уровне модели, также допускаются дополнительные свойства.
      name: "Финансовая команда"
      description: "Модели, связанные с финансовым отделом"
      email: finance@dbtlabs.com
      favorite_food: donuts

  - name: marketing
    owner:
      name: "Маркетинговая команда"
      description: "Модели, связанные с маркетинговым отделом"
      email: marketing@dbtlabs.com
      favorite_food: jaffles
```

</File>

## Привязка групп к моделям

Привязывайте группы к моделям так же, как и любую другую конфигурацию, в файлах `dbt_project.yml` или `whatever.yml`. Например:

<File name='models/marts.yml'>

```yml
version: 2

models:
  - name: sales
    description: "Модель данных о продажах"
    config:
      group: finance

  - name: campaigns
    description: "Модель данных о кампаниях"
    config:
      group: marketing

```
</File>

Присваивая группы в файле `dbt_project.yml`, вы можете захватить все модели в подкаталоге сразу.

В этом примере уведомления о моделях, связанных с моделями промежуточной обработки, отправляются группе по обработке данных, модели `marts/sales` — финансовой команде, а модели `marts/campaigns` — маркетинговой команде.

<File name='dbt_project.yml'>

```yml
config-version: 2
name: "jaffle_shop"

[...]

models:
  jaffle_shop:
    staging:
      +group: data_engineering
    marts:
      sales:
        +group: finance
      campaigns:
        +group: marketing
    
```

</File>
Привязка группы к модели также охватывает ее тесты, поэтому вы также будете получать уведомления о сбоях тестов модели.

## Включение доступа к уведомлениям о моделях

Предоставьте участникам аккаунта dbt Cloud возможность настраивать и получать уведомления о проблемах с моделями или тестами, которые возникают во время выполнения заданий.

Чтобы использовать уведомления на уровне модели, ваш аккаунт dbt Cloud должен иметь доступ к этой функции. Попросите вашего администратора dbt Cloud включить эту функцию для участников аккаунта, следуя этим шагам:

1. Перейдите в **Настройки уведомлений** из вашего имени профиля в боковой панели (в нижнем левом углу).
1. В разделе **Email уведомления** включите настройку **Включить уведомления для групп/владельцев по моделям** в разделе **Уведомления о моделях**. Затем укажите, о каких статусах вы хотите получать уведомления (Успех, Предупреждение и/или Ошибка).

  <Lightbox src="/img/docs/dbt-cloud/example-enable-model-notifications.png" title="Пример настройки Включить уведомления для групп/владельцев по моделям" />