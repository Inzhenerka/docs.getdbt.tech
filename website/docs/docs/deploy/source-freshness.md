---
title: "Свежесть источников"
id: "source-freshness"
description: "Проверка свежести данных на соответствие ожиданиям и уведомление в случае устаревания."
---

dbt Cloud предоставляет удобный интерфейс для расчетов [свежести данных источников](/docs/build/sources#source-data-freshness) в dbt. Когда задача в dbt Cloud настроена на создание снимков свежести данных источников, dbt Cloud отобразит пользовательский интерфейс, показывающий состояние последнего снимка. Этот интерфейс предназначен для того, чтобы помочь вам определить, соответствует ли свежесть ваших данных источников установленному уровню обслуживания (SLA), который вы определили для вашей организации.

<Lightbox src="/img/docs/dbt-cloud/using-dbt-cloud/data-sources-next.png" title="Источники данных в dbt Cloud"/>

### Включение снимков свежести источников

[`dbt build`](/reference/commands/build) _не_ включает проверки свежести источников при построении и тестировании ресурсов в вашем DAG. Вместо этого вы можете использовать один из следующих распространенных шаблонов для определения задач:
- Добавьте `dbt build` в шаг выполнения, чтобы запустить модели, тесты и так далее.
- Выберите флажок **Генерировать документацию при выполнении**, чтобы автоматически [создавать документацию проекта](/docs/collaborate/build-and-view-your-docs).
- Выберите флажок **Запустить проверку свежести источников**, чтобы включить [проверку свежести источников](#checkbox) в качестве первого шага задачи.

<Lightbox src="/img/docs/dbt-cloud/select-source-freshness.png" title="Выбор проверки свежести источников"/>

Чтобы включить снимки свежести источников, сначала убедитесь, что вы настроили свои источники для [создания снимков информации о свежести](/docs/build/sources#source-data-freshness). Вы можете добавить проверку свежести источников в список команд в шагах выполнения задачи или включить флажок. Однако вы можете ожидать разные результаты, когда настраиваете задачу, выбирая флажок **Запустить проверку свежести источников**, по сравнению с добавлением команды в шаги выполнения.

Просмотрите следующие варианты и результаты:

| Варианты | Результаты |
|--------| ------- |
|  **Выбор флажка <a id="checkbox"></a>** | Флажок **Запустить проверку свежести источников** в ваших **Настройках выполнения** запустит `dbt source freshness` в качестве первого шага в вашей задаче и не прервет последующие шаги, если он не выполнится. Если вы хотите, чтобы ваша задача была посвящена *исключительно* проверкам свежести, вам все равно нужно включить хотя бы один шаг-заглушку, например, `dbt compile`. |
| **Добавить как шаг выполнения** | Добавьте команду `dbt source freshness` в задачу в любом месте вашего списка шагов выполнения. Однако, если ваши данные источников устарели — этот шаг "провалится", и последующие шаги не будут выполнены. dbt Cloud отправит уведомления по электронной почте (если настроено) на основе конечного состояния этого шага. <br /><br /> Вы можете создать новую задачу для создания снимков свежести источников. <br /><br /> Если вы *не хотите*, чтобы ваши модели выполнялись, если ваши данные источников устарели, то разумно запустить `dbt source freshness` в качестве первого шага в вашей задаче. В противном случае мы рекомендуем добавлять `dbt source freshness` в качестве последнего шага в задаче или создать отдельную задачу только для этой задачи.  |

<Lightbox src="/img/docs/dbt-cloud/using-dbt-cloud/job-step-source-freshness.png" title="Добавление шага для создания снимка свежести источников"/>

### Частота снимков свежести источников
Важно, чтобы ваши задачи по проверке свежести выполнялись достаточно часто, чтобы фиксировать задержку данных в соответствии с вашими SLA. Вы можете представить, что если у вас есть SLA в 1 час для определенного набора данных, создание снимка свежести этого <Term id="table" /> раз в день было бы неуместным. В качестве хорошего правила, вы должны запускать ваши задачи по проверке свежести источников как минимум с удвоенной частотой вашего самого низкого SLA. Вот пример таблицы с разумными частотами снимков, учитывая типичные SLA:

| SLA | Частота снимков |
| --- | ------------------ |
| 1 час | 30 минут |
| 1 день | 12 часов |
| 1 неделя | Около ежедневно |

## Дополнительное чтение

- Ознакомьтесь с [Артефактами](/docs/deploy/artifacts) для получения дополнительной информации о том, как создавать артефакты dbt Cloud, делиться ссылками на последнюю документацию и делиться отчетами о свежести источников с вашей командой.
- Свежесть источников для Snowflake рассчитывается с использованием столбца `LAST_ALTERED`. Ознакомьтесь с ограничениями в [конфигурациях Snowflake](/reference/resource-configs/snowflake-configs#source-freshness-known-limitation).