---
title: "Архитектура семантического слоя dbt"
id: sl-architecture
description: "Архитектура продукта семантического слоя dbt и связанные вопросы."
sidebar_label: "Архитектура семантического слоя"
tags: [Semantic Layer]
---

Семантический слой dbt позволяет вам определять метрики и использовать различные интерфейсы для их запроса. Семантический слой выполняет основную работу по поиску данных, запрашиваемых в вашей платформе данных, и генерирует SQL для выполнения запроса (включая выполнение соединений).

<Lightbox src="/img/docs/dbt-cloud/semantic-layer/sl-architecture.jpg" width="85%" title="Диаграмма показывает, как ваши данные проходят через семантический слой dbt и разнообразие поддерживаемых инструментов интеграции."/>

## Компоненты

Семантический слой dbt включает следующие компоненты:

| Компоненты | Информация | Пользователи dbt Core | Планы для разработчиков | Командные планы | Корпоративные планы | Лицензия |
| --- | --- | :---: | :---: | :---: | :---: | :---: |
| **[MetricFlow](/docs/build/about-metricflow)** | MetricFlow в dbt позволяет пользователям централизованно определять свои семантические модели и метрики с помощью спецификаций YAML. | ✅ | ✅ | ✅ |  ✅  | Пакет BSL (исходный код доступен) |
| **Семантические интерфейсы dbt**| Спецификация конфигурации для определения метрик, измерений, их взаимосвязей и способов их запроса. [dbt-semantic-interfaces](https://github.com/dbt-labs/dbt-semantic-interfaces) доступен под лицензией Apache 2.0. | ❌ | ❌ | ✅ | ✅ | Собственная, облачная (Командные и корпоративные)|
| **Сервисный слой** | Координирует запросы и отправляет соответствующий запрос метрики в целевой движок запросов. Это предоставляется через dbt Cloud и доступно всем пользователям на версии dbt 1.6 или позже. Сервисный слой включает шлюзовую службу для выполнения SQL-запросов к платформе данных. | ❌ | ❌ | ✅ | ✅ | Собственная, облачная (Командные и корпоративные) |
| **[API семантического слоя](/docs/dbt-cloud-apis/sl-api-overview)** | Интерфейсы позволяют пользователям отправлять запросы метрик с использованием GraphQL и JDBC API. Они также служат основой для создания первоклассных интеграций с различными инструментами. | ❌ | ❌ | ✅ | ✅ | Собственная, облачная (Командные и корпоративные)|

## Сравнение функций

Следующая таблица сравнивает функции, доступные в dbt Cloud и исходно доступные в dbt Core:

| Функция | Исходно доступный MetricFlow | Семантический слой dbt с dbt Cloud |
| ----- | :------: | :------: |
| Определение метрик и семантических моделей в dbt с использованием спецификации MetricFlow | ✅ | ✅ |
| Генерация SQL из набора конфигурационных файлов | ✅ | ✅ |
| Запрос метрик и измерений через интерфейс командной строки (CLI) | ✅ | ✅ |
| Запрос метаданных измерений, сущностей и метрик через CLI | ✅ | ✅ |
| Запрос метрик и измерений через семантические API (ADBC, GQL) | ❌ | ✅ |
| Подключение к интеграциям с другими системами (Tableau, Hex, Mode, Google Sheets и т.д.) | ❌ | ✅ |
| Создание и выполнение экспортов для сохранения запросов метрик в виде таблиц на вашей платформе данных. | ❌ | ✅ |

## Связанные документы
- [Часто задаваемые вопросы о семантическом слое dbt](/docs/use-dbt-semantic-layer/sl-faqs)