---
title: "Архитектура семантического слоя dbt"
id: sl-architecture
description: "Архитектура продукта семантического слоя dbt и связанные вопросы."
sidebar_label: "Архитектура семантического слоя"
tags: [Семантический слой]
---

Семантический слой dbt позволяет вам определять метрики и использовать различные интерфейсы для их запроса. Семантический слой выполняет основную работу по поиску местоположения запрашиваемых данных в вашей платформе данных и генерирует SQL для выполнения запроса (включая выполнение соединений).

<Lightbox src="/img/docs/dbt-cloud/semantic-layer/sl-architecture.jpg" width="85%" title="Диаграмма показывает, как ваши данные перемещаются с использованием семантического слоя dbt и разнообразие интеграционных инструментов, которые он поддерживает."/>

## Компоненты

Семантический слой dbt включает в себя следующие компоненты:

| Компоненты | Информация | Пользователи dbt Core | Планы для разработчиков | Командные планы | Корпоративные планы | Лицензия |
| --- | --- | :---: | :---: | :---: | :---: | :---: |
| **[MetricFlow](/docs/build/about-metricflow)** | MetricFlow в dbt позволяет пользователям централизованно определять свои семантические модели и метрики с помощью спецификаций YAML. | ✅ | ✅ | ✅ |  ✅  | Пакет BSL (код доступен в исходном виде) |
| **Семантические интерфейсы dbt**| Спецификация конфигурации для определения метрик, измерений, их взаимосвязей и способов их запроса. [dbt-semantic-interfaces](https://github.com/dbt-labs/dbt-semantic-interfaces) доступен под лицензией Apache 2.0. | ❌ | ❌ | ✅ | ✅ | Собственническая, облачная (Команда и Корпорация) |
| **Сервисный слой** | Координирует запросы на выборку и отправляет соответствующий запрос метрики в целевой движок запросов. Это предоставляется через dbt Cloud и доступно всем пользователям на версии dbt 1.6 или более поздней. Сервисный слой включает в себя сервис Gateway для выполнения SQL-запросов к платформе данных. | ❌ | ❌ | ✅ | ✅ | Собственническая, облачная (Команда и Корпорация) |
| **[API семантического слоя](/docs/dbt-cloud-apis/sl-api-overview)** | Интерфейсы позволяют пользователям отправлять запросы метрик с использованием GraphQL и JDBC API. Они также служат основой для создания первоклассных интеграций с различными инструментами. | ❌ | ❌ | ✅ | ✅ | Собственническая, облачная (Команда и Корпорация) |

## Сравнение функций

Следующая таблица сравнивает функции, доступные в dbt Cloud и исходный код, доступный в dbt Core:

| Функция | Доступность исходного кода MetricFlow | Семантический слой dbt с dbt Cloud |
| ----- | :------: | :------: |
| Определение метрик и семантических моделей в dbt с использованием спецификации MetricFlow | ✅ | ✅ |
| Генерация SQL из набора конфигурационных файлов | ✅ | ✅ |
| Запрос метрик и измерений через интерфейс командной строки (CLI) | ✅ | ✅ |
| Запрос метаданных измерений, сущностей и метрик через CLI | ✅ | ✅ |
| Запрос метрик и измерений через семантические API (ADBC, GQL) | ❌ | ✅ |
| Подключение к интеграциям downstream (Tableau, Hex, Mode, Google Sheets и т.д.) | ❌ | ✅ |
| Создание и выполнение экспорта для сохранения запросов метрик в виде таблиц в вашей платформе данных. | ❌ | ✅ |

## Связанные документы
- [Часто задаваемые вопросы о семантическом слое dbt](/docs/use-dbt-semantic-layer/sl-faqs)