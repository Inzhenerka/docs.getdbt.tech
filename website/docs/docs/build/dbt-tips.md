---
title: "Советы и хитрости dbt"
description: "Посмотрите любые советы и хитрости, связанные с dbt, чтобы помочь вам работать быстрее и быть более продуктивным."
sidebar_label: "Советы и хитрости dbt"
pagination_next: null
---

Используйте эту страницу для получения ценных идей и практических советов, которые улучшат ваш опыт работы с dbt. Независимо от того, новичок вы в dbt или опытный пользователь, эти советы помогут вам работать более эффективно и результативно.

Следующие советы организованы по следующим категориям:

- [Советы по пакетам](#package-tips), которые помогут вам оптимизировать ваш рабочий процесс.
- [Расширенные советы и техники](#advanced-tips-and-techniques), которые помогут вам максимально использовать возможности dbt.

Если вы разрабатываете с помощью dbt Cloud IDE, вы можете обратиться к странице [горячих клавиш](/docs/cloud/dbt-cloud-ide/keyboard-shortcuts), чтобы сделать разработку более продуктивной и удобной для всех.

## Советы по пакетам

Используйте эти пакеты dbt для оптимизации вашего рабочего процесса:

| Пакет | Описание |
|-------|----------|
| [`dbt_codegen`](https://hub.getdbt.com/dbt-labs/codegen/latest/) | Используйте пакет для генерации YML файлов для ваших моделей и источников, а также SQL файлов для ваших промежуточных моделей. |
| [`dbt_utils`](https://hub.getdbt.com/dbt-labs/dbt_utils/latest/) | Пакет содержит макросы, полезные для повседневной разработки. Например, `date_spine` генерирует таблицу со всеми датами между указанными параметрами. |
| [`dbt_project_evaluator`](https://hub.getdbt.com/dbt-labs/dbt_project_evaluator/latest) | Пакет сравнивает ваш проект dbt с нашим списком лучших практик и предоставляет рекомендации и указания по обновлению ваших моделей. |
| [`dbt_expectations`](https://hub.getdbt.com/calogica/dbt_expectations/latest) | Пакет содержит множество тестов, помимо тех, что встроены в dbt. |
| [`dbt_audit_helper`](https://hub.getdbt.com/#:~:text=adwords-,audit_helper,-codegen) | Пакет позволяет сравнивать результаты двух запросов. Используйте его при рефакторинге существующей логики, чтобы убедиться, что новые результаты идентичны. |
| [`dbt_artifacts`](https://hub.getdbt.com/brooklyn-data/dbt_artifacts/latest) | Пакет сохраняет информацию о ваших запусках dbt непосредственно на вашей платформе данных, чтобы вы могли отслеживать производительность моделей с течением времени. |
| [`dbt_meta_testing`](https://hub.getdbt.com/tnightengale/dbt_meta_testing/latest) | Этот пакет проверяет, что ваш проект dbt достаточно протестирован и документирован. |

## Расширенные советы и техники

- Используйте структуру папок в качестве основного метода выбора. `dbt build --select marts.marketing` проще и более устойчиво, чем полагаться на тегирование каждой модели.
- Рассматривайте задачи с точки зрения частоты сборки и SLA. Запускайте модели с почасовой, ежедневной или еженедельной частотой сборки вместе.
- Используйте [конфигурацию where](/reference/resource-configs/where) для тестов, чтобы протестировать утверждение на подмножестве записей.
- [store_failures](/reference/resource-configs/store_failures) позволяет вам исследовать записи, которые вызывают сбои тестов, чтобы вы могли либо исправить данные, либо изменить тест по мере необходимости.
- Используйте [пороговые значения severity](/reference/resource-configs/severity), чтобы установить допустимое количество сбоев для теста.
- Используйте [incremental_strategy](/docs/build/incremental-strategy) в конфигурации вашей инкрементной модели, чтобы реализовать наиболее эффективное поведение в зависимости от объема ваших данных и надежности ваших уникальных ключей.
- Установите `vars` в вашем `dbt_project.yml`, чтобы определить глобальные значения по умолчанию для определенных условий, которые вы затем можете переопределить с помощью флага `--vars` в ваших командах.
- Используйте [for loops](/guides/using-jinja?step=3) в Jinja, чтобы <Term id="dry">сократить</Term> повторяющуюся логику, такую как выбор серии столбцов, для которых необходимо применить одни и те же преобразования и шаблоны именования.
- Вместо того чтобы полагаться на post-hooks, используйте [конфигурацию grants](/reference/resource-configs/grants) для применения разрешений в хранилище устойчиво.
- Определите [пороговые значения source-freshness](/docs/build/sources#source-data-freshness) для ваших источников, чтобы избежать выполнения преобразований на данных, которые уже были обработаны.
- Используйте оператор `+` слева от имени модели `dbt build --select +model_name`, чтобы запустить модель и все ее зависимости вверх по потоку. Используйте оператор `+` справа от модели `dbt build --select model_name+`, чтобы запустить модель и все, что зависит от нее вниз по потоку.
- Используйте `dir_name`, чтобы запустить все модели в пакете или директории.
- Используйте оператор `@` слева от модели в настройках CI, не учитывающих состояние, чтобы протестировать ее. Этот оператор запускает всех родителей и детей выбранного элемента, а также запускает родителей его детей, которые в новой схеме CI, вероятно, еще не существуют.
- Используйте [флаг --exclude](/reference/node-selection/exclude), чтобы исключить подмножество моделей из выбора.
- Используйте [флаг --full-refresh](/reference/commands/run#refresh-incremental-models), чтобы заново построить инкрементную модель с нуля.
- Используйте [seeds](/docs/build/seeds) для создания ручных таблиц поиска, таких как почтовые индексы для штатов или маркетинговые UTM для кампаний. `dbt seed` создаст их из CSV в вашем хранилище и сделает их доступными для `ref` в ваших моделях.
- Используйте [target.name](/docs/build/custom-schemas#an-alternative-pattern-for-generating-schema-names), чтобы изменить логику в зависимости от используемой среды. Например, чтобы строить в одну схему разработки во время разработки, но использовать несколько схем в производстве.

## Связанные документы

- [Руководство по быстрому старту](/guides)
- [О dbt Cloud](/docs/cloud/about-cloud/dbt-cloud-features)
- [Разработка в облаке](/docs/cloud/about-develop-dbt)