---
title: Валидации
id: validation
description: "Семантический уровень, поддерживаемый MetricFlow, имеет три типа встроенных валидаций, включая валидацию разбора, семантическую валидацию и валидацию платформы данных, которые выполняются последовательно и блокирующим образом."
sidebar_label: "Валидации"
tags: [Метрики, Семантический уровень]
---

Валидации относятся к процессу проверки того, соответствует ли система или конфигурация ожидаемым требованиям или ограничениям. В случае семантического уровня, поддерживаемого MetricFlow, существуют три встроенные валидации — [валидация разбора](#parsing), [семантическая](#semantic) и [валидация платформы данных](#data-platform).

Эти валидации обеспечивают соответствие файлов конфигурации ожидаемой схеме, семантическая графовая структура не нарушает никаких ограничений, а семантические определения в графе существуют в физической таблице — обеспечивая эффективную поддержку управления данными. Эти три шага валидации происходят последовательно и должны быть успешными, прежде чем перейти к следующему шагу.

Код, который обрабатывает валидацию, [можно найти здесь](https://github.com/dbt-labs/dbt-semantic-interfaces/tree/main/dbt_semantic_interfaces/validations) для тех, кто хочет углубиться в эту тему.

## Команда валидаций

Вы можете запускать валидации из dbt Cloud или командной строки с помощью следующих [команд MetricFlow](/docs/build/metricflow-commands). В dbt Cloud вам нужны учетные данные разработчика для выполнения `dbt sl validate-configs` в IDE или CLI, а также учетные данные развертывания для выполнения этого в CI.

```bash
dbt sl validate # пользователи dbt Cloud
mf validate-configs # пользователи dbt Core
```

## Валидация разбора

На этом этапе валидации мы проверяем, чтобы ваши файлы конфигурации соответствовали определенной схеме для каждого объекта семантического графа и могли быть успешно разобраны. Она проверяет схему для следующих основных объектов:

* Семантические модели
* Идентификаторы
* Меры
* Измерения
* Метрики

## Семантический синтаксис

Этот этап синтаксической валидации происходит после того, как мы построили ваш семантический граф. Семантический уровень, поддерживаемый MetricFlow, запускает набор тестов, чтобы убедиться, что ваш семантический граф не нарушает никаких ограничений. Например, мы проверяем, уникальны ли имена мер или существуют ли метрики, на которые ссылаются в материализации. Текущие семантические правила, которые мы проверяем:

1. Проверка, что семантические модели с мерами имеют действительное временное измерение
2. Проверка, что в каждой семантической модели определен только один основной идентификатор
3. Согласованность измерений
4. Уникальные меры в семантических моделях
5. Меры в метриках действительны
6. Кумулятивные метрики настроены правильно

## Платформа данных

Этот тип валидации проверяет, существуют ли семантические определения в вашем семантическом графе в подлежащей физической таблице. Для этого мы выполняем запросы к вашей платформе данных, чтобы убедиться, что сгенерированный SQL для семантических моделей, измерений и метрик будет выполняться. Мы выполняем следующие проверки:

* Меры и измерения существуют
* Подлежащие таблицы для источников данных существуют
* Сгенерированный SQL для метрик будет выполняться

Вы можете запускать семантические валидации (против вашего семантического уровня) в CI-задаче, чтобы гарантировать, что любые изменения кода, внесенные в модели dbt, не нарушают эти метрики. Для получения дополнительной информации обратитесь к [семантической валидации в CI](/docs/deploy/ci-jobs#semantic-validations-in-ci).