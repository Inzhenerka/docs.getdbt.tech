---
title: "Основы контроля версий"
id: version-control-basics
description: "Используйте Git для контроля версий вашего кода."
sidebar_label: "Основы контроля версий"
---

# Основы контроля версий

Когда вы разрабатываете в интерфейсе командной строки (CLI) или облачной интегрированной среде разработки (IDE), вы можете напрямую использовать Git для контроля версий вашего кода. Чтобы использовать контроль версий, убедитесь, что вы подключены к репозиторию Git в CLI или Cloud IDE.

Вы можете создать отдельную ветку для разработки и внесения изменений. Внесенные вами изменения не будут объединены с основной веткой в вашем подключенном репозитории (обычно называемой веткой `main`), если они успешно не пройдут тесты. Это помогает поддерживать порядок в коде и повышает продуктивность, делая процесс разработки более плавным.

Вы можете узнать больше о терминологии git ниже, а также ознакомиться с [документацией GitHub](https://docs.github.com/en).

## Обзор Git

Посмотрите некоторые распространенные термины git ниже, с которыми вы можете столкнуться в процессе разработки:

| Название | Определение |
| --- | --- |
| Репозиторий или repo | Репозиторий — это каталог, который хранит все файлы, папки и содержимое, необходимые для вашего проекта. Вы можете рассматривать это как объектную базу данных проекта, хранящую все, начиная от самих файлов и заканчивая версиями этих файлов, коммитами и удалениями. Репозитории не ограничены пользователем и могут быть общими и копируемыми. |
| Ветка | Ветка — это параллельная версия репозитория. Она содержится в репозитории, но не влияет на основную или главную ветку, позволяя вам работать свободно, не нарушая работу живой версии. Когда вы внесли необходимые изменения, вы можете объединить свою ветку обратно в основную ветку, чтобы опубликовать свои изменения. |
| Checkout | Команда `checkout` используется для создания новой ветки, изменения вашей текущей рабочей ветки на другую ветку или переключения на другую версию файла из другой ветки. |
| Commit | Коммит — это изменение пользователя в файле (или наборе файлов). Когда вы делаете коммит, чтобы сохранить свою работу, Git создает уникальный идентификатор, который позволяет вам вести учет конкретных изменений, сделанных вместе с тем, кто их сделал и когда. Коммиты обычно содержат сообщение коммита, которое является кратким описанием внесенных изменений. |
| main | Основная, базовая ветка всех репозиториев. Все коммиты и принятые изменения должны находиться в основной ветке.<br /><br /> В Cloud IDE основная ветка защищена. Это означает, что вы не можете напрямую редактировать, форматировать или проверять файлы и выполнять команды dbt в вашей защищенной основной ветке git. Поскольку dbt Cloud IDE предотвращает коммиты в защищенную ветку, вы можете коммитить эти изменения в новую ветку. |
| Merge | Объединение берет изменения из одной ветки и добавляет их в другую (обычно основную) ветку. Эти коммиты обычно сначала запрашиваются через pull request перед тем, как быть объединенными куратором. |
| Pull Request | Если кто-то изменил код в отдельной ветке проекта и хочет, чтобы его проверили для добавления в основную ветку, он может подать pull request. Pull request запрашивает у кураторов репозитория проверку сделанных коммитов, а затем, если они приемлемы, объединение изменений в основную ветку. Объединение происходит, когда изменения добавляются в основную ветку. |
| Push | Команда `push` обновляет удаленную ветку коммитами, сделанными в текущей ветке. Вы буквально _толкаете_ свои изменения в удаленный репозиторий. |
| Remote | Это версия репозитория или ветки, которая размещена на сервере. Удаленные версии могут быть связаны с локальными клонами, чтобы изменения могли синхронизироваться. |

## Кнопка git в Cloud IDE

Вы можете выполнять задачи git с помощью кнопки git в [Cloud IDE](/docs/cloud/dbt-cloud-ide/develop-in-the-cloud). Ниже приведены описания каждой команды кнопки git и их функций:

| Название | Действия |
| --- | --- |
| Отменить объединение | Эта опция позволяет вам отменить объединение, которое имело конфликты. Будьте осторожны с этим действием, так как все изменения будут сброшены, и эту операцию нельзя будет отменить, поэтому убедитесь, что вы закоммитили или сохранили все свои изменения перед началом объединения. |
| Сменить ветку | Эта опция позволяет вам переключаться между ветками (checkout). |
| Commit | Коммит — это индивидуальное изменение в файле (или наборе файлов). Когда вы делаете коммит, чтобы сохранить свою работу, Git создает уникальный идентификатор (также известный как "SHA" или "hash"), который позволяет вам вести учет конкретных изменений, сделанных вместе с тем, кто их сделал и когда. Коммиты обычно содержат сообщение коммита, которое является кратким описанием внесенных изменений. Когда вы в будущем внесете изменения в свой код, вам также нужно будет их закоммитить. |
| Создать новую ветку | Это позволяет вам ответвиться от вашей базовой ветки и редактировать ваш проект. Вы заметите, что после инициализации вашего проекта основная ветка защищена.<br /><br /> Это означает, что вы можете напрямую редактировать, форматировать или проверять файлы и выполнять команды dbt в вашей защищенной основной ветке git. Когда будете готовы, вы можете закоммитить эти изменения в новую ветку. |
| Инициализировать проект | Это делается при первой настройке вашего проекта. Инициализация проекта создает все необходимые каталоги и файлы в пустом репозитории, используя стартовый проект dbt. <br></br> Примечание: Эта опция не будет отображаться, если ваш репозиторий не полностью пуст (т.е. содержит файл README). <br></br> После нажатия **Инициализировать проект** нажмите **Commit**, чтобы завершить настройку вашего проекта. |
| Открыть pull request | Эта опция позволяет вам открыть pull request в Git для того, чтобы коллеги могли проверить изменения перед объединением в базовую ветку. |
| Получить изменения из main | Эта опция доступна, если вы находитесь на любой локальной ветке, которая отстает от удаленной версии базовой ветки или удаленной версии ветки, на которой вы в данный момент находитесь. |
| Получить из удаленного | Эта опция доступна, если вы находитесь на локальной базовой ветке и изменения недавно были отправлены в удаленную версию ветки. Получение изменений из удаленного репозитория позволяет вам получить самую последнюю версию базовой ветки. |
| Откат к удаленному | Сбросьте изменения в вашем репозитории напрямую из Cloud IDE. Вы можете откатить ваш репозиторий к более раннему клону из удаленного. Для этого нажмите на три точки в правом нижнем углу IDE и выберите **Откат к удаленному**. |
| Обновить состояние git | Это позволяет вам получить новые ветки из другой удаленной ветки в вашу локальную ветку всего одной командой. |

## Конфликты при объединении

Конфликты при объединении часто возникают, когда несколько пользователей одновременно вносят изменения в одну и ту же секцию в одном и том же файле. Это затрудняет Git определение того, какое изменение следует сохранить.

Обратитесь к [конфликтам при объединении](/docs/collaborate/git/merge-conflicts), чтобы узнать, как разрешать конфликты при объединении.

## Файл .gitignore

dbt Cloud реализует глобальный [файл `.gitignore`](https://github.com/dbt-labs/dbt-starter-project/blob/main/.gitignore), который автоматически исключает следующие подпапки из вашего репозитория git для обеспечения бесперебойной работы:

```
dbt_packages/
logs/
target/
```

Это включение использует завершающий слэш, что делает эти строки в файле `.gitignore` действующими как 'шаблоны папок', которые предотвращают отслеживание любых файлов или папок внутри них git. Вы также можете указать дополнительные исключения по мере необходимости для вашего проекта.

Однако этот глобальный `.gitignore` _не применяется_ напрямую к пользователям dbt Core и dbt Cloud CLI. Поэтому, если вы работаете с dbt Core или dbt Cloud CLI, вам нужно вручную добавить три упомянутые строки в файл `.gitignore` вашего проекта.

Стоит отметить, что хотя некоторые провайдеры git создают базовый файл `.gitignore` при создании репозитория, эти файлы часто не содержат необходимых исключений для dbt Cloud. Это означает, что важно убедиться, что вы добавили три упомянутые строки в ваш `.gitignore`, чтобы обеспечить бесперебойную работу dbt Cloud.

:::note

- **Проекты dbt Cloud, созданные после 1 декабря 2022 года** &mdash; Если вы используете кнопку **Инициализировать проект dbt** в Cloud IDE для настройки нового и пустого проекта dbt, dbt Cloud автоматически добавит файл `.gitignore` с необходимыми записями. Если файл `.gitignore` уже существует, необходимые папки будут добавлены в существующий файл.

- **Миграция проекта из Core в dbt Cloud** &mdash; Убедитесь, что файл `.gitignore` содержит необходимые записи. dbt Core не взаимодействует с git, поэтому dbt Cloud не добавляет и не проверяет записи в файле `.gitignore` автоматически. Кроме того, если репозиторий уже содержит код dbt и не требует инициализации, dbt Cloud не добавит отсутствующие записи в файл .gitignore.
:::

Для получения дополнительной информации или советов по устранению неполадок, пожалуйста, обратитесь к [подробным FAQ](/faqs/Git/gitignore).