---
title: "О Discovery API"
pagination_next: "docs/dbt-cloud-apis/discovery-use-cases-and-examples"
---

Каждый раз, когда dbt Cloud запускает проект, он генерирует и сохраняет информацию о проекте. Метаданные включают детали о моделях, источниках и других узлах вашего проекта, а также результаты их выполнения. С помощью Discovery API dbt Cloud вы можете запрашивать эту обширную информацию, чтобы лучше понять ваш <Term id="dag">DAG</Term> и данные, которые он производит.

Используя метаданные в dbt Cloud, вы можете создавать системы для мониторинга и оповещения данных, исследования происхождения данных и автоматизированной отчетности. Это может помочь вам улучшить обнаружение данных, качество данных и операции с конвейерами в вашей организации.

Вы можете получить доступ к Discovery API через [ад-хок запросы](/docs/dbt-cloud-apis/discovery-querying), пользовательские приложения, широкий спектр [интеграций с партнерской экосистемой](https://www.getdbt.com/product/integrations/) (таких как BI/аналитика, каталоги и управление, а также качество и наблюдаемость), а также с помощью функций dbt Cloud, таких как [время выполнения моделей](/docs/deploy/run-visibility#model-timing) и [плитки состояния данных](/docs/collaborate/data-tile).

<Lightbox src="/img/docs/dbt-cloud/discovery-api/discovery-api-figure.png" width="80%" title="Богатая экосистема для интеграции"/>

Вы можете запрашивать метаданные dbt Cloud:

- На уровне [окружения](/docs/environments-in-dbt) как для последнего состояния (используйте конечную точку `environment`), так и для исторических результатов выполнения (используйте `modelByEnvironment`) проекта dbt Cloud в производственной среде.
- На уровне задания для получения результатов конкретного выполнения задания dbt Cloud для данного типа ресурса, такого как `models` или `test`.

<Snippet path="metadata-api-prerequisites" />

## Для чего можно использовать Discovery API

Нажмите на следующие вкладки, чтобы узнать больше о случаях использования API, анализе, который вы можете провести, и результатах, которых вы можете достичь, интегрируясь с ним.

Чтобы использовать API напрямую или интегрировать свой инструмент с ним, обратитесь к [Случаям использования и примерам](/docs/dbt-cloud-apis/discovery-use-cases-and-examples) для получения подробной информации.

<Tabs>

<TabItem value="performance" label="Производительность">

Используйте API для просмотра исторической информации, такой как время сборки модели, чтобы определить состояние ваших проектов dbt. Поиск неэффективностей в конфигурациях оркестрации может помочь снизить затраты на инфраструктуру и улучшить своевременность. Чтобы узнать больше об этом, обратитесь к разделу [Производительность](/docs/dbt-cloud-apis/discovery-use-cases-and-examples#performance).

Вы можете использовать, например, вкладку [время выполнения моделей](/docs/deploy/run-visibility#model-timing), чтобы помочь выявить и оптимизировать узкие места в сборке моделей:

<Lightbox src="/img/docs/dbt-cloud/discovery-api/model-timing.png" width="200%" title="Визуализация времени выполнения моделей в dbt Cloud"/>

</TabItem>

<TabItem value="quality" label="Качество">

Используйте API, чтобы определить, являются ли данные точными и актуальными, отслеживая сбои тестов, свежесть источников и статус выполнения. Точная и надежная информация ценна для аналитики, принятия решений и мониторинга, чтобы помочь предотвратить принятие плохих решений вашей организацией. Чтобы узнать больше об этом, обратитесь к разделу [Качество](/docs/dbt-cloud-apis/discovery-use-cases-and-examples#quality).

При использовании с [вебхуками](/docs/deploy/webhooks) это также может помочь в обнаружении, расследовании и оповещении о проблемах.

</TabItem>

<TabItem value="discovery" label="Обнаружение">

Используйте API, чтобы находить и понимать активы dbt в интегрированных инструментах, используя информацию, такую как определения моделей и метрик, а также информацию о столбцах. Для получения более подробной информации обратитесь к разделу [Обнаружение](/docs/dbt-cloud-apis/discovery-use-cases-and-examples#discovery).

Производители данных должны управлять и организовывать данные для заинтересованных сторон, в то время как потребители данных должны быстро и уверенно анализировать данные в большом масштабе, чтобы принимать обоснованные решения, которые улучшают бизнес-результаты и снижают накладные расходы организации. API полезен для создания опыта обнаружения данных в каталогах, аналитике, приложениях и инструментах машинного обучения (ML). Он может помочь вам понять происхождение и значение наборов данных для вашего анализа.

<Lightbox src="/img/docs/collaborate/dbt-explorer/example-model-details.png" width="200%" title="Происхождение данных, созданное dbt"/>

</TabItem>

<TabItem value="governance" label="Управление">

Используйте API, чтобы просмотреть, кто разработал модели и кто их использует, чтобы помочь установить стандартные практики для лучшего управления. Для получения более подробной информации обратитесь к разделу [Управление](/docs/dbt-cloud-apis/discovery-use-cases-and-examples#governance).

</TabItem>

<TabItem value="development" label="Разработка">

Используйте API, чтобы просмотреть изменения и использование наборов данных, исследуя экспозиции, происхождение и зависимости. Из исследования вы можете узнать, как определить и создать более эффективные проекты dbt. Для получения более подробной информации обратитесь к разделу [Разработка](/docs/dbt-cloud-apis/discovery-use-cases-and-examples#development).

<Lightbox src="/img/docs/collaborate/dbt-explorer/data-tile-pass.jpg" width="60%" title="Используйте экспозиции, чтобы встроить плитки состояния данных в ваши панели управления, чтобы выделить сигналы доверия для потребителей данных." />

</TabItem>

</Tabs>

## Типы состояния проекта

Существует два типа [состояния проекта](/docs/dbt-cloud-apis/project-state) на уровне окружения, результаты которых вы можете запрашивать:

- **Определение** &mdash; Логическое состояние [ресурсов](/docs/build/projects) проекта dbt, которое обновляется при изменении проекта.
- **Примененное** &mdash; Результат успешного выполнения DAG dbt, который создает или описывает состояние базы данных (например: `dbt run`, `dbt test`, свежесть источника и т.д.)

Эти состояния позволяют вам легко исследовать разницу между определением модели и ее примененным состоянием, чтобы вы могли получить ответы на вопросы, такие как, была ли выполнена модель? или завершилось ли выполнение с ошибкой? Примененные модели существуют как таблица/представление в платформе данных, учитывая их последнее успешное выполнение.

## Связанные документы

- [Случаи использования и примеры для Discovery API](/docs/dbt-cloud-apis/discovery-use-cases-and-examples)
- [Запрос Discovery API](/docs/dbt-cloud-apis/discovery-querying)
- [Схема](/docs/dbt-cloud-apis/discovery-schema-job)