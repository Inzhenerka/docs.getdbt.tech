---
title: Как использовать настройки 'Custom Branch' в среде dbt Cloud?
description: "Использование пользовательского кода из вашего репозитория"
sidebar_label: 'Настройки пользовательской ветки'
id: custom-branch-settings
---

В средах dbt Cloud вы можете изменить настройки git, чтобы использовать другую ветку в репозиториях вашего dbt проекта, отличную от ветки по умолчанию. Когда вы вносите это изменение, вы запускаете dbt на пользовательской ветке. При указании dbt Cloud выполняет модели, используя настройку пользовательской ветки для этой среды. Среды разработки и развертывания имеют немного разные эффекты.

Чтобы указать пользовательскую ветку:
1. Отредактируйте существующую среду или создайте новую
2. Выберите **Запускать только на пользовательской ветке** в разделе Общие настройки
3. Укажите **имя ветки или тег**

## Разработка

В среде разработки основная ветка (обычно называемая `main`) защищена в ваших подключенных репозиториях. Вы можете напрямую редактировать, форматировать или проверять файлы и выполнять команды dbt в вашей защищенной ветке git по умолчанию. Поскольку IDE dbt Cloud предотвращает коммиты в защищенную ветку, вы можете зафиксировать эти изменения в новой ветке, когда будете готовы.

Указание **Пользовательской ветки** переопределяет поведение по умолчанию. Это делает пользовательскую ветку защищенной и позволяет вам создавать новые ветки разработки из нее. Вы можете напрямую редактировать, форматировать или проверять файлы и выполнять команды dbt в вашей пользовательской ветке, но не можете делать коммиты в нее. dbt Cloud предложит вам зафиксировать эти изменения в новой ветке.

Только одна ветка может быть защищенной. Если вы указываете пользовательскую ветку, основная ветка больше не защищена. Если вы хотите защитить основную ветку и предотвратить любые коммиты в нее, вам нужно настроить правила защиты веток в настройках вашего git-провайдера. Это гарантирует, что ваша основная ветка останется защищенной и в нее не будут вноситься новые коммиты.

Например, если вы хотите использовать ветку `develop` подключенного репозитория:

- Перейдите в среду и выберите **Настройки**, чтобы отредактировать ее
- Выберите **Запускать только на пользовательской ветке** в **Общих настройках**
- Введите **develop** как имя вашей пользовательской ветки
- Нажмите **Сохранить**

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/dev-environment-custom-branch.png" width="100%" title="Настройка пользовательской базовой ветки репозитория"/>

## Развертывание

При запуске заданий в среде развертывания dbt клонирует ваш проект из подключенного репозитория перед выполнением ваших моделей. По умолчанию dbt использует ветку по умолчанию вашего репозитория (обычно это ветка `main`). Чтобы указать другую версию вашего проекта для выполнения dbt во время выполнения заданий в конкретной среде, вы можете отредактировать настройку Custom Branch, как показано в предыдущих шагах.