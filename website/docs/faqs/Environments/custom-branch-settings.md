---
title: Как использовать настройки 'Custom Branch' в окружении dbt Cloud?
description: "Используйте пользовательский код из вашего репозитория"
sidebar_label: 'Настройки пользовательской ветки'
id: custom-branch-settings
---

В окружениях dbt Cloud вы можете изменить настройки git, чтобы использовать другую ветку в ваших репозиториях dbt, помимо ветки по умолчанию. Когда вы вносите это изменение, вы запускаете dbt на пользовательской ветке. При указании dbt Cloud выполняет модели, используя настройки пользовательской ветки для этого окружения. Окружения разработки и развертывания имеют несколько разные эффекты.

Чтобы указать пользовательскую ветку:
1. Отредактируйте существующее окружение или создайте новое
2. Выберите **Только запуск на пользовательской ветке** в Общих настройках
3. Укажите **имя ветки или тег**

## Разработка

В окружении разработки основная ветка (обычно называемая `main`) защищена в ваших подключенных репозиториях. Вы можете напрямую редактировать, форматировать или проверять файлы и выполнять команды dbt в вашей защищенной ветке по умолчанию. Поскольку dbt Cloud IDE предотвращает коммиты в защищенную ветку, вы можете зафиксировать эти изменения в новой ветке, когда будете готовы.

Указание **Пользовательской ветки** переопределяет поведение по умолчанию. Это делает пользовательскую ветку защищенной и позволяет вам создавать новые ветки разработки из нее. Вы можете напрямую редактировать, форматировать или проверять файлы и выполнять команды dbt в вашей пользовательской ветке, но не можете делать коммиты в нее. dbt Cloud предлагает вам зафиксировать эти изменения в новой ветке.

Только одна ветка может быть защищена. Если вы указываете пользовательскую ветку, основная ветка больше не защищена. Если вы хотите защитить основную ветку и предотвратить любые коммиты в нее, вам необходимо настроить правила защиты веток в настройках вашего git-провайдера. Это гарантирует, что ваша основная ветка останется защищенной и в нее не смогут быть внесены новые коммиты.

Например, если вы хотите использовать ветку `develop` подключенного репозитория:

- Перейдите в окружение и выберите **Настройки** для редактирования
- Выберите **Только запуск на пользовательской ветке** в **Общих настройках**
- Введите **develop** в качестве имени вашей пользовательской ветки
- Нажмите **Сохранить**

<Lightbox src="/img/docs/dbt-cloud/cloud-configuring-dbt-cloud/dev-environment-custom-branch.png" width="100%" title="Настройка пользовательской базовой ветки репозитория"/>

## Развертывание

При выполнении задач в окружении развертывания dbt клонирует ваш проект из подключенного репозитория перед выполнением ваших моделей. По умолчанию dbt использует ветку по умолчанию вашего репозитория (обычно ветку `main`). Чтобы указать другую версию вашего проекта для выполнения dbt во время выполнения задач в конкретном окружении, вы можете отредактировать настройку Пользовательской ветки, как показано в предыдущих шагах.