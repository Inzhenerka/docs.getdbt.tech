---
id: dateadd
title: SQL DATEADD
description: Функция DATEADD в SQL добавляет временной/дата интервал к дате и возвращает эту дату. Это позволяет добавлять или вычитать определенный период времени от заданной начальной даты.
slug: /sql-reference/dateadd
---

<head>
    <title>Что такое функция SQL DATEADD?</title>
</head>

Если вы когда-либо использовали функцию DATEADD в SQL в различных диалектах (таких как BigQuery, Postgres и Snowflake), вы, вероятно, каждый раз искали синтаксис этой функции. Почти невозможно запомнить порядок аргументов (или точное название функции) dateadd.

В этой статье мы рассмотрим, как работает функция DATEADD, нюансы ее использования в основных облачных хранилищах и как стандартизировать различия в синтаксисе с помощью макроса dbt.

## Что такое функция DATEADD в SQL?

Функция DATEADD в SQL добавляет временной/дата интервал к дате и возвращает эту дату. Это позволяет добавлять или вычитать определенный период времени от заданной начальной даты.

Звучит достаточно просто, но эта функция позволяет выполнять довольно полезные действия, такие как расчет предполагаемой даты отгрузки на основе даты заказа.

## Различия в синтаксисе DATEADD на различных платформах хранилищ данных

Все они принимают примерно одни и те же параметры, но с немного различным синтаксисом и порядком:

- Начальная / от дата
- Datepart (день, неделя, месяц, год)
- Интервал (целое число для увеличения)

*Сами функции* называются немного по-разному, что является обычным делом для SQL диалектов.

### Например, функция DATEADD в Snowflake…

```
dateadd( {{ datepart }}, {{ interval }}, {{ from_date }} )
```

*Часы, минуты и секунды поддерживаются!*

### Функция DATEADD в Databricks

```sql
date_add( {{ startDate }}, {{ numDays }} )
```

### Функция DATEADD в BigQuery…

```sql
date_add( {{ from_date }}, INTERVAL {{ interval }} {{ datepart }} )
```

*Dateparts менее чем за день (час / минута / секунда) не поддерживаются.*

### Функция DATEADD в Postgres…

Postgres не предоставляет функцию dateadd "из коробки", поэтому вам придется действовать самостоятельно - но синтаксис выглядит очень похоже на функцию BigQuery…

```sql
{{ from_date }} + (interval '{{ interval }} {{ datepart }}')
```

Постоянный переход между этими SQL синтаксисами обычно требует быстрого просмотра документации хранилища, чтобы вернуться в строй.

## Стандартизация вашего синтаксиса SQL DATEADD с помощью макроса dbt

Но разве мы не могли бы делать что-то более полезное с этими нажатиями клавиш, например, писать и затем удалять твит?

dbt помогает сгладить эти шероховатости написания [SQL в различных хранилищах данных](https://docs.getdbt.com/reference/dbt-jinja-functions/cross-database-macros).

Вместо того чтобы каждый раз искать синтаксис, вы можете просто писать его одинаково каждый раз, а макрос компилирует его для выполнения в вашем выбранном хранилище:

```
{{ dateadd(datepart, interval, from_date_or_timestamp) }}
```

Добавление 1 месяца к конкретной дате будет выглядеть так…

```
{{ dateadd(datepart="month", interval=1, from_date_or_timestamp="'2021-08-12'") }}
```