---
id: and
title: SQL AND
description: Оператор AND возвращает результаты, которые соответствуют всем переданным требованиям. Вы часто увидите оператор AND, используемый в предложении WHERE для фильтрации результатов запроса.
slug: /sql-reference/and
---

<head>
    <title>Работа с оператором SQL AND</title>
</head>

Оператор AND возвращает результаты, которые соответствуют всем переданным требованиям; в отличие от [оператора OR](/sql-reference/or), который требует, чтобы было выполнено хотя бы одно условие. Вы часто увидите оператор AND, используемый в [предложении WHERE](/sql-reference/where) для фильтрации результатов запроса или в операторе case для создания нескольких критериев для результата.

Используйте эту страницу, чтобы понять, как использовать оператор AND и почему он может быть полезен в аналитической инженерии.

## Как использовать оператор AND

Использовать оператор AND довольно просто, и вы обычно увидите его в предложении WHERE для соответствующей фильтрации результатов запроса, в операторах case или в соединениях, которые включают несколько полей.

```sql
-- и в предложении where
where <condition_1> and <condition_2> and… 

-- и в операторе case
case when <condition_1> and <condition_2> then <result_1> … 

-- и в соединении
from <table_a>
join <table_b> on
<a_id_1> = <b_id_1> and <a_id_2> = <b_id_2>
```

:::tip Суррогатные ключи > соединения с AND
Использование <Term id="surrogate-key">суррогатных ключей</Term>, хэшированных значений нескольких столбцов, является отличным способом избежать использования операторов AND в соединениях. Обычно наличие операторов AND или [OR](/sql-reference/or) в соединении может сделать запрос или модель потенциально неэффективными, особенно при значительном объеме данных, поэтому создание суррогатных ключей на более ранних этапах в ваших исходных таблицах ([с использованием макроса суррогатного ключа](https://docs.getdbt.com/blog/sql-surrogate-keys)) может потенциально улучшить производительность в последующих моделях.
:::

### Пример оператора SQL AND

```sql
select
	order_id,
	status,
	round(amount) as amount
from {{ ref('orders') }}
where status = 'shipped' and amount > 20
limit 3
```

Этот запрос, использующий образец данных из таблицы `orders` магазина Jaffle Shop, вернет результаты, где статус заказа - "отправлен", а сумма заказа превышает 20 долларов:

| **order_id** | **status** | **amount** |
|:---:|:---:|:---:|
| 74 | shipped | 30 |
| 88 | shipped | 29 |
| 78 | shipped | 26 |

## Синтаксис оператора AND в Snowflake, Databricks, BigQuery и Redshift

Snowflake, Databricks, Google BigQuery и Amazon Redshift все поддерживают оператор AND с одинаковым синтаксисом на каждой платформе.