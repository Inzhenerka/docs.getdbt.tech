---
id: trim
title: SQL TRIM
description: Функция SQL TRIM удаляет начальные и конечные символы строки. По умолчанию она удаляет пробелы в начале и конце строки.
slug: /sql-reference/trim
---

<head>
    <title>Работа с функцией SQL TRIM</title>
</head>

Мы все с этим сталкивались: надоедливые пробелы, странные, непоследовательные форматы или незаслуженные звездочки, прячущиеся в конце значения вашего столбца — [строки](/sql-reference/strings) являются одним из самых изменчивых типов данных в ваших наборах данных. Они, вероятно, не имеют единого регистра, варьируются по длине и, безусловно, содержат символы, которые вам нужно удалить.

Представляем: функция SQL TRIM, которая удаляет начальные и конечные символы строки. По умолчанию она удаляет пробелы в начале и конце строки.

## Как использовать функцию SQL TRIM

Синтаксис для использования функции TRIM выглядит следующим образом:

```sql
trim(<field_name> [, <characters_to_remove>])
```

Как мы уже говорили, по умолчанию `<characters_to_remove>` — это пробел, так что если вы выполните `trim(' строка с лишним начальным пробелом')`, это вернет `'строка с лишним начальным пробелом'`. Вы можете явно указать отдельные символы или шаблон для удаления из ваших строк.

### Пример функции SQL TRIM

```sql
select
    first_name,
    concat('*', first_name, '**') as test_string,
    trim(test_string, '*') as back_to_first_name
from {{ ref('customers') }}
limit 3
```

После выполнения этого запроса результирующая таблица `orders` будет выглядеть следующим образом:

| first_name | test_string | back_to_first_name |
|---|---|---|
| Julia | *Julia** | Julia |
| Max | *Max** | Max |
| Laura | *Laura** | Laura |

В этом запросе вы добавляете избыточные звездочки к строке с помощью [функции CONCAT](/sql-reference/concat) и очищаете ее с помощью функции TRIM. Хотя я указал одну звездочку в самой функции TRIM, она распознает это как шаблон для удаления в начале и конце строки, поэтому двойные звездочки (**) были удалены из конца столбца `test_string`.

## Синтаксис функции SQL TRIM в Snowflake, Databricks, BigQuery и Redshift

[Google BigQuery](https://cloud.google.com/bigquery/docs/reference/standard-sql/string_functions#trim), [Amazon Redshift](https://docs.aws.amazon.com/redshift/latest/dg/r_TRIM.html), [Snowflake](https://docs.snowflake.com/en/sql-reference/functions/trim.html) и [Databricks](https://docs.databricks.com/sql/language-manual/functions/trim.html) все поддерживают возможность использования функции TRIM. Кроме того, синтаксис для обрезки строк одинаков во всех этих системах с использованием функции TRIM. Эти хранилища данных также поддерживают функции RTRIM и LTRIM, которые позволяют удалять символы только с правой и левой стороны строки соответственно.

## Сценарии использования функции TRIM

Если строковые значения в ваших сырых данных содержат лишние пробелы или различные символы, вы будете использовать функции TRIM (а также подмножества RTRIM и LTRIM), чтобы быстро их удалить. Вы, вероятно, будете выполнять эту очистку в [стадийных моделях](https://docs.getdbt.com/best-practices/how-we-structure/2-staging), где вы, вероятно, стандартизируете регистр и вносите другие незначительные изменения в формат строковых значений, чтобы использовать чистый и последовательный формат в ваших последующих моделях.