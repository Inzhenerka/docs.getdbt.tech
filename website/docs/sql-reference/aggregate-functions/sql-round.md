---
id: round 
title: SQL ROUND 
description: Функция агрегирования ROUND позволяет округлять числовые поля или значения в SQL до желаемого количества десятичных знаков.
slug: /sql-reference/round
---

<head>
    <title>Работа с SQL ROUND</title>
</head>

Если вы читаете это, вероятно, вы работаете с данными. И как человек, работающий с данными, который, вероятно, моделирует данные для аналитических задач, вам время от времени потребуется округлять данные. Для незнакомых с этим понятием "округление" — это упрощение числа, чтобы его было легче понять, при этом сохраняя его близким к исходному значению. В данных распространенным случаем использования округления является уменьшение количества десятичных знаков у числовой записи.

Чтобы округлить числовые поля или значения в SQL, вам нужно использовать удобную функцию ROUND.

## Как использовать функцию SQL ROUND

Синтаксис для использования функции ROUND выглядит следующим образом:

```sql
round(<числовой столбец или данные>, [необязательный] <количество десятичных знаков>)
```
В этой функции вам нужно ввести *числовое* поле или данные, которые вы хотите округлить, и передать необязательное число, на которое вы хотите округлить ваше поле. Для большинства хранилищ данных количество десятичных знаков по умолчанию равно 0 или 1, что означает, что если вы округлите 20.00 с помощью `round(20.00)`, это вернет 20 или 20.0 (в зависимости от вашего хранилища данных).

### Пример функции SQL ROUND

Вы можете округлить некоторые числовые поля модели `orders` [Jaffle Shop](https://github.com/dbt-labs/jaffle_shop) с помощью следующего кода:

```sql
select 
	cast(order_id as string) as order_id,
	order_date,
	amount,
	round(amount, 1) as rounded_amount
from {{ ref('orders') }}
```

После выполнения этого запроса результирующая таблица `orders` будет выглядеть примерно так:

| order_id | order_date | amount | rounded_amount |
|---|---|---|---|
| 1 | 2018-01-01 | 10.000000 | 10.0 |
| 2 | 2018-01-02 | 20.000000 | 20.0 |
| 3 | 2018-01-04 | 1.000000 | 1.0 |

Новый столбец `rounded_amount` — это поле `amount`, округленное до 1 десятичного знака.

Для большинства хранилищ данных возвращаемые данные из функции ROUND должны быть такими же, как и входные данные. Если вы передаете число с плавающей запятой в функцию ROUND, возвращаемое округленное число также должно быть числом с плавающей запятой.

## Синтаксис функции SQL ROUND в Snowflake, Databricks, BigQuery и Redshift

Google BigQuery, Amazon Redshift, Snowflake и Databricks все поддерживают возможность округления числовых столбцов и данных. Кроме того, синтаксис для округления одинаков во всех этих системах с использованием функции ROUND.

## Сценарии использования функции ROUND

Если вы часто округляете числовые данные, как в моделях данных, так и в разовых анализах, вы, вероятно, округляете для улучшения читаемости и удобства использования ваших данных с использованием промежуточных [моделей](/best-practices/how-we-structure/3-intermediate) или [мартовских моделей](/best-practices/how-we-structure/4-marts). В частности, вы, вероятно, будете использовать функцию ROUND для:

- Упрощения числовых расчетов с использованием деления или средних значений, чтобы их было легче понять
- Создания четких групп данных для более чистого распределения значений во время разового анализа

Кроме того, вы, вероятно, увидите использование функции ROUND в вашем BI-инструменте, так как она генерирует округленные чистые числа для взаимодействия бизнес-пользователей.