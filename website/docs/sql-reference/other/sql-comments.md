---
id: comments
title: SQL Комментарии
description: Встроенные SQL комментарии начинаются с двух дефисов (--) перед ними в запросе или модели dbt; любой текст, следующий за этими дефисами, считается "закомментированным". Для более длинных многострочных комментариев обычно используется следующий синтаксис `/* ваш многострочный комментарий здесь */`.
slug: /sql-reference/comments
---

<head>
    <title>Работа с SQL комментариями</title>
</head>

SQL комментарии… это двусторонняя вещь: говорим ли мы о комментариях *встроенных* в SQL? Или о комментариях к таблице или представлению в базе данных?

Почему бы не о том и о другом!?

На этой странице мы разберем, как создавать как встроенные, так и комментарии на уровне объектов базы данных, общие лучшие практики по SQL комментариям и как dbt может помочь вам улучшить (и контролировать версии) ваши комментарии.

## Как создать SQL комментарии

Встроенные SQL комментарии начинаются с двух дефисов (--) перед ними в запросе или модели dbt; любой текст, следующий за этими дефисами, считается "закомментированным". Для более длинных многострочных комментариев обычно используется следующий синтаксис `/* ваш многострочный комментарий здесь */`.

### Пример SQL комментария

```sql
/* эти строки формируют многострочный SQL комментарий; если он не закомментирован, 
это приведет к ошибке в запросе */
select
	customer_id,
	-- order_id, эта строка закомментирована
	order_date
from {{ ref ('orders') }}
```

На практике вы, вероятно, увидите SQL комментарии в начале сложной логики кода, чтобы помочь будущим разработчикам или даже продвинутым бизнес-пользователям понять, что конкретные блоки кода делают. В других случаях вы увидите комментарии, подобные приведенному выше коду, которые закомментировали строки, больше не нужные (или не существующие) для этого запроса или модели. Мы подробнее рассмотрим лучшие практики по встроенным комментариям позже на этой странице.

Для комментариев *к* объектам базы данных, таким как представления и таблицы, существует другой синтаксис для добавления этих явных комментариев:

```sql
comment on [тип объекта базы данных] <имя объекта базы данных> is 'текст комментария здесь';
```

Эти комментарии на уровне объектов базы данных более полезны для добавления дополнительного контекста или метаданных к этим объектам, в отличие от встроенных комментариев, которые полезны для объяснения функциональности кода. В качестве альтернативы, эти комментарии на уровне таблиц и представлений могут быть легко абстрагированы и контролироваться версиями с помощью [описаний моделей в dbt](https://docs.getdbt.com/reference/resource-properties/description) и сохраняться в объектах с использованием [конфигурации persist_docs](/reference/resource-configs/persist_docs) в dbt.

## SQL комментарии в Snowflake, Databricks, BigQuery и Redshift

Google BigQuery, Amazon Redshift, Snowflake и Databricks все поддерживают возможность добавления встроенных SQL комментариев. За исключением BigQuery, эти хранилища данных также поддерживают нативные комментарии на уровне объектов базы данных; однако BigQuery поддерживает нативные описания на уровне полей.

## Лучшие практики комментирования SQL

В общем, встроенные SQL комментарии следует использовать обдуманно; другой аналитический инженер должен быть в состоянии сопоставить ваши комментарии с вашим кодом, чтобы четко понять функциональность модели.

Мы рекомендуем использовать встроенные комментарии в следующих ситуациях:

- Объяснить сложную логику кода, которая, если вам придется задуматься, кому-то другому тоже придется задуматься
- Объяснить нишевую, уникальную для вашего бизнеса логику
- Разделить типы полей (например, идентификаторы, булевы значения, строки, даты, числовые значения и временные метки) в [стадийных моделях](https://docs.getdbt.com/best-practices/how-we-structure/2-staging), чтобы создать более читаемые, организованные и формализованные модели
- Ясно обозначить технический долг (`-- [TODO]: TECH DEBT`) в запросах или моделях

Если вы заметили, что ваши встроенные SQL комментарии становятся неуправляемыми, менее удобочитаемыми и сканируемыми, это знак, что стоит больше полагаться на dbt Docs и markdown файлы в вашем проекте dbt. dbt поддерживает [описания](https://docs.getdbt.com/reference/resource-properties/description), которые позволяют добавлять подробные описания моделей (или макросов, источников, снимков, семян и источников) и столбцов, которые будут отображаться в размещенных dbt Docs. Для моделей или столбцов, которым требуется более тщательная или настраиваемая документация, используйте [блоки документации в markdown и YAML файлах](https://docs.getdbt.com/reference/resource-properties/description#use-a-docs-block-in-a-description), чтобы создать более детальные объяснения и комментарии.