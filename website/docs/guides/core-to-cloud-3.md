---
title: 'Переход с dbt Core на dbt Cloud: советы по оптимизации'
id: core-to-cloud-3
description: "Используйте это руководство, чтобы узнать, как оптимизировать ваш опыт работы с dbt Cloud и получить ответы на распространенные вопросы."
hoverSnippet: "Используйте это руководство, чтобы узнать, как оптимизировать ваш опыт работы с dbt Cloud и получить ответы на распространенные вопросы."
icon: 'guides'
hide_table_of_contents: true
tags: ['Миграция','dbt Core','dbt Cloud']
keywords: ['dbt Core','dbt Cloud','Миграция', 'Перемещение dbt', 'Миграция dbt']
level: 'Средний'
recently_updated: true
---

## Введение

Переход с dbt Core на dbt Cloud упрощает рабочие процессы аналитического инжиниринга, позволяя командам разрабатывать, тестировать, развертывать и исследовать данные с помощью единого полностью управляемого программного сервиса.

Изучите нашу серию из трех частей о переходе с dbt Core на dbt Cloud. Эта серия идеально подходит для пользователей, стремящихся к упрощению рабочих процессов и улучшению аналитики:

import CoretoCloudTable from '/snippets/_core-to-cloud-guide-table.md';

<CoretoCloudTable/>

## Что вы узнаете
Возможно, вы уже начали переход на dbt Cloud и ищете советы, которые помогут вам оптимизировать ваш опыт работы с dbt Cloud. Это руководство включает советы и предостережения по следующим областям:

- [Адаптеры и подключения](https://docs.getdbt.com/guides/core-to-cloud-3?step=3) 
- [Инструменты разработки](https://docs.getdbt.com/guides/core-to-cloud-3?step=4) 
- [Оркестрация](https://docs.getdbt.com/guides/core-to-cloud-3?step=5)
- [dbt Mesh](https://docs.getdbt.com/guides/core-to-cloud-3?step=6)
- [Семантический слой dbt](https://docs.getdbt.com/guides/core-to-cloud-3?step=7)
- [dbt Explorer](https://docs.getdbt.com/guides/core-to-cloud-3?step=8)

## Адаптеры и подключения

В dbt Cloud вы можете нативно подключаться к вашей платформе данных и тестировать ее [подключение](/docs/connect-adapters) одним нажатием кнопки. Это особенно полезно для пользователей, которые новички в dbt Cloud или стремятся упростить настройку подключения. Вот несколько советов и предостережений, которые стоит учитывать:

### Советы
- Управляйте [версиями dbt](/docs/dbt-versions/upgrade-dbt-version-in-cloud) и обеспечивайте совместную работу команды с помощью функции одного клика в dbt Cloud, устраняя необходимость в ручных обновлениях и несоответствиях версий. Выберите [релизный трек](/docs/dbt-versions/cloud-release-tracks) для получения постоянных обновлений, чтобы всегда быть в курсе исправлений и (по желанию) получить ранний доступ к новым функциям для вашего проекта dbt.
- dbt Cloud поддерживает множество [облачных провайдеров](/docs/cloud/connect-data-platform/about-connections), включая Snowflake, Databricks, BigQuery, Fabric и Redshift (и не только).
- Используйте [Расширенные атрибуты](/docs/deploy/deploy-environments#extended-attributes) для настройки гибкого фрагмента [profiles.yml](/docs/core/connect-data-platform/profiles.yml) в настройках окружения dbt Cloud. Это дает вам больше контроля над окружениями (как развертывания, так и разработки) и расширяет способ, которым dbt Cloud подключается к платформе данных в рамках данного окружения.
  - Например, если у вас есть поле в вашем `profiles.yml`, которое вы хотите добавить в интерфейс адаптера dbt Cloud, вы можете использовать Расширенные атрибуты для его настройки.

### Предостережения
- Не все параметры доступны для адаптеров.
- Проект может использовать только один тип склада.

## Инструменты разработки

dbt Cloud предоставляет возможность разработчикам данных работать с инструментом по их выбору. Он поставляется с [dbt Cloud CLI](/docs/cloud/cloud-cli-installation) (локальный) или [dbt Cloud IDE](/docs/cloud/dbt-cloud-ide/develop-in-the-cloud) (веб-интерфейс) для создания, тестирования, выполнения и контроля версий ваших проектов dbt.

Оба инструмента разработки адаптированы для различных аудиторий и предпочтений в вашей команде. Чтобы упростить рабочий процесс вашей команды, важно знать, кто предпочтет dbt Cloud IDE, а кто может склониться к dbt Cloud CLI. Этот раздел направлен на разъяснение этих предпочтений.

### dbt Cloud IDE
Веб-интерфейс для создания, тестирования, выполнения и контроля версий проектов dbt. Он компилирует код dbt в SQL и выполняет его непосредственно в вашей базе данных. dbt Cloud IDE делает разработку быстрой и простой для новых и опытных специалистов по данным, позволяя им вносить и тестировать изменения.

**Кто может предпочесть dbt Cloud IDE?**

- Новые пользователи dbt или те, кто переходит с других инструментов и ценят более направленный опыт через веб-интерфейс.
- Члены команды, сосредоточенные на скорости и удобстве при начале работы с новым или существующим проектом.
- Люди, которые придают значение прямой обратной связи от IDE, например, видя несохраненные изменения.

**Ключевые функции**

- dbt Cloud IDE имеет упрощенную функциональность Git:
  - Создавайте ветки функций из ветки, настроенной в среде разработки.
  - Просматривайте сохраненные, но не зафиксированные изменения кода непосредственно в IDE.
- [Форматируйте или проверяйте](/docs/cloud/dbt-cloud-ide/lint-format) ваш код с помощью `sqlfluff` или `sqlfmt`. Это включает поддержку добавления ваших собственных правил проверки.
- Позволяет пользователям нативно [откладывать в продакшн](/docs/cloud/about-cloud-develop-defer#defer-in-dbt-cloud-cli) метаданные непосредственно в их рабочих процессах разработки, уменьшая количество объектов.
- Поддерживает выполнение нескольких команд dbt одновременно через [безопасное параллельное выполнение](/reference/dbt-commands#parallel-execution), функция, доступная в инфраструктуре dbt Cloud. В отличие от этого, `dbt-core` *не поддерживает* безопасное параллельное выполнение для нескольких вызовов в одном процессе.

dbt Cloud IDE предоставляет упрощенный интерфейс, доступный для всех пользователей, независимо от их технического фона. Однако есть некоторые возможности, которые намеренно недоступны в dbt Cloud IDE из-за его акцента на простоту и удобство использования:

- Предварительная проверка для автоматических проверок перед *коммитом* кода пока недоступна.
- Массовая генерация файлов / взаимодействие с файловой системой недоступны.
- Объединение/передача команд, таких как `dbt run -s (bash command)`, недоступно.

### dbt Cloud CLI
dbt Cloud CLI позволяет вам выполнять команды dbt [команды](/reference/dbt-commands#available-commands) против вашей среды разработки dbt Cloud из командной строки локально. Это идеально подходит для пользователей, которые ищут полный контроль над своей средой разработки и комфортно работают с командной строкой.

При переходе с dbt Core на dbt Cloud убедитесь, что файл `.gitignore` содержит [необходимые папки](/docs/collaborate/git/version-control-basics#the-gitignore-file). dbt Core не взаимодействует с git, поэтому dbt Cloud не добавляет и не проверяет записи в файле `.gitignore` автоматически. Кроме того, если репозиторий уже содержит код dbt и не требует инициализации, dbt Cloud не добавит отсутствующие записи в файл `.gitignore`.

**Кто может предпочесть dbt Cloud CLI?**

- Специалисты по данным, привыкшие работать с определенным набором инструментов разработки.
- Пользователи, ищущие детальный контроль над своими рабочими процессами Git (например, предварительные коммиты для автоматических проверок перед коммитом кода).
- Специалисты по данным, которым необходимо выполнять сложные операции, такие как массовая генерация файлов или специфические комбинации команд.

**Ключевые функции**

- Позволяет пользователям выполнять команды dbt против своей среды разработки dbt Cloud из командной строки с минимальной конфигурацией.
- Позволяет пользователям нативно [откладывать в продакшн](/docs/cloud/about-cloud-develop-defer#defer-in-dbt-cloud-cli) метаданные непосредственно в их рабочих процессах разработки, уменьшая количество объектов.
- Поддерживает выполнение нескольких команд dbt одновременно через [безопасное параллельное выполнение](/reference/dbt-commands#parallel-execution), функция, доступная в инфраструктуре dbt Cloud. В отличие от этого, `dbt-core` *не поддерживает* безопасное параллельное выполнение для нескольких вызовов в одном процессе.
- Возможность использовать расширения Visual Studio (VS) Code (такие как [dbt-power-user](https://marketplace.visualstudio.com/items?itemName=innoverio.vscode-dbt-power-user) для улучшения опыта разработки, добавляя дополнительные функции.

## Оркестрация

dbt Cloud предоставляет надежную оркестрацию, которая позволяет вам планировать, запускать и контролировать задания dbt с легкостью. Вот несколько советов и предостережений, которые стоит учитывать при использовании функций оркестрации dbt Cloud:

### Советы

- Включите [частичное парсинг](/docs/cloud/account-settings#partial-parsing) между заданиями в dbt Cloud, чтобы значительно ускорить парсинг проекта, обрабатывая только измененные файлы, оптимизируя производительность для крупных проектов.
- [Запускайте несколько CI/CD](/docs/deploy/continuous-integration) заданий одновременно, которые не будут блокировать производственные запуски. Планировщик заданий автоматически отменяет устаревшие запуски, когда новая коммита загружается. Это связано с тем, что каждый PR будет выполняться в своей схеме.
- dbt Cloud автоматически [отменяет](/docs/deploy/job-scheduler#run-cancellation-for-over-scheduled-jobs) запланированный запуск, если существующий запуск все еще выполняется. Это предотвращает ненужные, дублирующие выполнения.
- Защитите себя и свежесть ваших данных от сбоев третьих сторон, включив кэширование [Git-репозитория](/docs/cloud/account-settings#git-repository-caching) в dbt Cloud, которое сохраняет кэш репозитория Git проекта. <Lifecycle status="enterprise"/>
- [Связывайте задания развертывания](/docs/deploy/deploy-jobs#trigger-on-job-completion) между проектами dbt Cloud, настроив ваше задание или используя [API создания задания](/dbt-cloud/api-v2#/operations/Create%20Job) для этого. <Lifecycle status="team,enterprise"/>
- [Повторно запускайте ваши задания](/docs/deploy/retry-jobs) с самого начала или с точки сбоя, если выполнение вашего задания dbt завершилось со статусом **`Ошибка.`**

### Предостережения
- Чтобы автоматизировать настройку и конфигурацию вашей платформы dbt Cloud, вы можете хранить конфигурации ваших заданий как код в репозитории:
  - Ознакомьтесь с нашим [поставщиком Terraform.](https://registry.terraform.io/providers/dbt-labs/dbtcloud/latest/docs/resources/job)
  - В качестве альтернативы, ознакомьтесь с нашим репозиторием [jobs-as-code](https://github.com/dbt-labs/dbt-jobs-as-code), который является инструментом, созданным для обработки заданий dbt Cloud как хорошо определенного YAML файла.
- Пользователи dbt Cloud и внешние электронные почты могут получать уведомления, если задание завершилось с ошибкой, успешно или было отменено. Чтобы получать уведомления о предупреждениях, вы можете создать [подписку на вебхуки](/guides/zapier-slack) и отправлять сообщения в Slack.

## dbt Mesh

[dbt Mesh](/best-practices/how-we-mesh/mesh-1-intro) помогает организациям с зрелыми, сложными рабочими процессами трансформации в dbt увеличить гибкость и производительность своих проектов dbt. Он позволяет использовать несколько взаимосвязанных проектов dbt вместо одного большого, монолитного проекта.

Это позволяет вам взаимодействовать и перемещаться между различными проектами и моделями с помощью [кросс-проектных зависимостей](/docs/collaborate/govern/project-dependencies#how-to-write-cross-project-ref), улучшая сотрудничество и управление данными.

Вот несколько советов и предостережений, которые стоит учитывать при использовании dbt Mesh:

### Советы
- Чтобы динамически разрешать [кросс-проектные ссылки](/docs/collaborate/govern/project-dependencies#how-to-write-cross-project-ref), всем разработчикам необходимо разрабатывать с dbt Cloud (либо с dbt Cloud CLI, либо с dbt Cloud IDE). Кросс-проектные ссылки не поддерживаются нативно в dbt Core, кроме как установкой исходного кода из upstream проектов [в качестве пакетов](/docs/build/packages#how-do-i-add-a-package-to-my-project)
- Связывайте модели между проектами для модульного и масштабируемого подхода к вашему проекту и командам.
- Управляйте доступом к вашим моделям dbt как внутри, так и между проектами, используя:
  - **[Группы](/docs/collaborate/govern/model-access#groups)** &mdash; Организуйте узлы в вашем DAG dbt, которые имеют логическую связь, и назначьте владельца всей группе.
  - **[Доступ к моделям](/docs/collaborate/govern/model-access#access-modifiers)** &mdash; Контролируйте, какие другие модели или проекты могут ссылаться на эту модель.
  - **[Версии моделей](/docs/collaborate/govern/model-versions)** &mdash; Позволяйте принятие и устаревание моделей по мере их эволюции.
  - **[Контракты моделей](/docs/collaborate/govern/model-contracts)** &mdash; Установите четкие ожидания относительно формы данных, чтобы гарантировать, что изменения данных выше по потоку dbt или в логике проекта не сломают продукты данных downstream.
- Используйте [dbt-meshify](https://github.com/dbt-labs/dbt-meshify), чтобы ускорить разделение вашего монолита на несколько проектов.

### Предостережения
- Чтобы использовать кросс-проектные ссылки в dbt, каждый проект dbt должен соответствовать только одному проекту dbt Cloud. Мы настоятельно не рекомендуем определять несколько проектов для одной кодовой базы, даже если вы пытаетесь управлять разрешениями доступа, подключаться к различным хранилищам данных или разделять производственные и непроизводственные данные. Хотя это было необходимо исторически, такие функции, как [Стадии окружений](/docs/dbt-cloud-environments#types-of-environments), RBAC на уровне окружения (_скоро_), и [Расширенные атрибуты](/docs/dbt-cloud-environments#extended-attributes) сделают это ненужным.
- Зависимости проектов являются унинаправленными, что означает, что они идут в одном направлении. Это означает, что dbt проверяет циклы между проектами (круговые зависимости) и выдает ошибки, если они обнаружены. Однако мы рассматриваем возможность поддержки, позволяющей проектам зависеть друг от друга в обоих направлениях в будущем, при этом dbt все равно будет проверять циклы на уровне узлов, позволяя циклы на уровне проектов.
- Каждый в аккаунте может просматривать общую метаданные моделей, что помогает пользователям легче находить продукты данных. Это отдельно от того, кто может получить доступ к фактическим данным, что контролируется разрешениями в хранилище данных. Для случаев, когда даже метаданные о повторно используемом активе данных являются конфиденциальными, мы [рассматриваем](https://github.com/dbt-labs/dbt-core/issues/9340) возможность расширения защищенных моделей.

Обратитесь к [Часто задаваемым вопросам по dbt Mesh](/best-practices/how-we-mesh/mesh-5-faqs) для получения дополнительных вопросов.

## Семантический слой dbt

Используйте [семантический слой dbt](/docs/use-dbt-semantic-layer/dbt-sl), работающий на базе MetricFlow, чтобы создать единый взгляд на ваши бизнес-метрики, обеспечивая согласованность во всех аналитических инструментах. Вот несколько советов и предостережений, которые стоит учитывать при использовании семантического слоя dbt:

### Советы
- Определяйте семантические модели и метрики один раз в dbt Cloud с помощью [семантического слоя dbt](/docs/use-dbt-semantic-layer/dbt-sl) (работающего на базе MetricFlow). Повторно используйте их в различных аналитических платформах, уменьшая избыточность и ошибки.
- Используйте [API семантического слоя dbt](/docs/dbt-cloud-apis/sl-api-overview) для запроса метрик в downstream инструментах для получения согласованных, надежных данных.
- Подключайтесь к нескольким приложениям данных, от инструментов бизнес-аналитики до блокнотов, таблиц, каталогов данных и многого другого, чтобы запрашивать ваши метрики. [Доступные интеграции](/docs/cloud-integrations/avail-sl-integrations) включают Tableau, Google Sheets, Hex и другие.
- Используйте [экспорт](/docs/use-dbt-semantic-layer/exports), чтобы записывать часто используемые запросы непосредственно в вашей платформе данных по расписанию.

### Предостережения
- Семантический слой dbt в настоящее время поддерживает среду развертывания для выполнения запросов. Опыт выполнения запросов в разработке скоро появится.
- Выполняйте запросы/команды семантического слоя в dbt Cloud CLI, однако выполнение запросов/команд семантического слоя в dbt Cloud IDE пока не поддерживается.
- Семантический слой dbt пока не поддерживает SSH-туннелирование для [Postgres или Redshift](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb) подключений. Он также не поддерживает использование [Единого входа (SSO)](/docs/cloud/manage-access/sso-overview) для [производственных учетных данных](/docs/dbt-cloud-apis/service-tokens#permissions-for-service-account-tokens) семантического слоя, однако SSO поддерживается для учетных записей пользователей разработки.

Обратитесь к [Часто задаваемым вопросам по семантическому слою dbt](/docs/use-dbt-semantic-layer/sl-faqs) для получения дополнительной информации.

## dbt Explorer

[dbt Explorer](/docs/collaborate/explore-projects) улучшает вашу способность открывать, понимать и устранять неполадки в ваших данных через богатую метаданные и визуализацию связей. Вот несколько советов и предостережений, которые стоит учитывать при использовании dbt Explorer:

### Советы
- Используйте возможности поиска и фильтрации в dbt Explorer, чтобы быстро находить модели, источники и тесты, упрощая ваш рабочий процесс.
- Просматривайте все [разные проекты](/docs/collaborate/explore-multiple-projects) и общие модели в аккаунте, где определены общие модели и как они используются, чтобы лучше понять ваши ресурсы между проектами.
- Используйте функцию [Линзы](/docs/collaborate/explore-projects#lenses), которая представляет собой слои, подобные картам, для вашего DAG, доступные из графа связей вашего проекта. Линзы помогают вам лучше понять контекстные метаданные вашего проекта в масштабе, особенно для различения конкретной модели или подмножества моделей.
- Получите доступ к связям на уровне столбцов (CLL) для ресурсов в вашем проекте dbt. <Lifecycle status="enterprise"/>

### Предостережения
- Должен быть хотя бы один успешный запуск задания в среде развертывания, чтобы Explorer заполнил информацию.

Ознакомьтесь с функциями dbt Explorer, чтобы полностью использовать его возможности и избежать упущенных возможностей для повышения эффективности.

Обратитесь к [Часто задаваемым вопросам по dbt Explorer](/docs/collaborate/dbt-explorer-faqs) для получения дополнительной информации.

## Что дальше?

<ConfettiTrigger>

Поздравляем с завершением руководства 🎉!

Мы надеемся, что вы получили полезные идеи и советы, которые помогут вам в вашем переходе. Обратите внимание, что переход с dbt Core на dbt Cloud — это не только эволюция ваших данных проектов, но и исследование новых уровней сотрудничества, управления, эффективности и инноваций в вашей команде.

На следующих этапах продолжайте изучать нашу серию из трех частей о переходе с dbt Core на dbt Cloud:

<CoretoCloudTable/>

</ConfettiTrigger>

### Ресурсы

Если вам нужна дополнительная помощь или у вас есть вопросы, используйте следующие ресурсы:

- [Курсы dbt Learn](https://learn.getdbt.com) для обучения по запросу.
- Наша [служба поддержки](https://docs.getdbt.com/docs/dbt-support) всегда готова помочь вам решить проблемы с dbt Cloud.
- Присоединяйтесь к [сообществу dbt](https://community.getdbt.com/), чтобы связаться с другими пользователями dbt, задать вопросы и поделиться лучшими практиками.
- Подпишитесь на [RSS-уведомления dbt Cloud](https://status.getdbt.com/)
- Учетные записи для предприятий имеют команду управления аккаунтами, доступную для помощи в решении проблем и управлении аккаунтом. [Запланируйте демонстрацию](https://www.getdbt.com/contact), чтобы узнать больше.
- [Как dbt Cloud сравнивается с dbt Core](https://www.getdbt.com/product/dbt-core-vs-dbt-cloud) для подробного сравнения dbt Core и dbt Cloud.

Для индивидуальной помощи вы можете использовать следующие ресурсы:

- Запланируйте [демонстрации с экспертами](https://www.getdbt.com/resources/dbt-cloud-demos-with-experts) и получите инсайты
- Работайте с командой [Профессиональных услуг dbt Labs](https://www.getdbt.com/dbt-labs/services), чтобы поддержать вашу организацию данных и переход.