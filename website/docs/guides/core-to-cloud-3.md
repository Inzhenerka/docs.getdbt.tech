---
title: 'Переход с dbt Core на dbt Cloud: Советы по оптимизации'
id: core-to-cloud-3
description: "Используйте это руководство, чтобы узнать, как оптимизировать ваш опыт работы с dbt Cloud и получить ответы на часто задаваемые вопросы."
hoverSnippet: "Используйте это руководство, чтобы узнать, как оптимизировать ваш опыт работы с dbt Cloud и получить ответы на часто задаваемые вопросы."
icon: 'guides'
hide_table_of_contents: true
tags: ['Migration','dbt Core','dbt Cloud']
keywords: ['dbt Core','dbt Cloud','Migration', 'Move dbt', 'Migrate dbt']
level: 'Intermediate'
recently_updated: true
---

## Введение

Переход с dbt Core на dbt Cloud упрощает рабочие процессы аналитической инженерии, позволяя командам разрабатывать, тестировать, развертывать и исследовать продукты данных, используя единый полностью управляемый программный сервис.

Изучите нашу серию из трех частей о переходе с dbt Core на dbt Cloud. Эта серия идеально подходит для пользователей, стремящихся к упрощенным рабочим процессам и улучшенной аналитике:

import CoretoCloudTable from '/snippets/_core-to-cloud-guide-table.md';

<CoretoCloudTable/>

## Чему вы научитесь
Вы, возможно, уже начали переход на dbt Cloud и ищете советы, которые помогут вам оптимизировать ваш опыт работы с dbt Cloud. Это руководство включает советы и предостережения для следующих областей:

- [Адаптеры и подключения](https://docs.getdbt.com/guides/core-to-cloud-3?step=3) 
- [Инструменты разработки](https://docs.getdbt.com/guides/core-to-cloud-3?step=4) 
- [Оркестрация](https://docs.getdbt.com/guides/core-to-cloud-3?step=5)
- [dbt Mesh](https://docs.getdbt.com/guides/core-to-cloud-3?step=6)
- [Семантический слой dbt](https://docs.getdbt.com/guides/core-to-cloud-3?step=7)
- [dbt Explorer](https://docs.getdbt.com/guides/core-to-cloud-3?step=8)

## Адаптеры и подключения

В dbt Cloud вы можете нативно подключиться к вашей платформе данных и протестировать ее [подключение](/docs/connect-adapters) нажатием одной кнопки. Это особенно полезно для пользователей, которые новички в dbt Cloud или стремятся упростить настройку подключения. Вот некоторые советы и предостережения, которые стоит учитывать:

### Советы
- Управляйте [версиями dbt](/docs/dbt-versions/upgrade-dbt-version-in-cloud) и обеспечивайте командное сотрудничество с помощью функции dbt Cloud в один клик, устраняя необходимость в ручных обновлениях и несоответствиях версий. Выберите [трассу выпуска](/docs/dbt-versions/cloud-release-tracks) для постоянных обновлений, чтобы всегда быть в курсе исправлений и (по желанию) получить ранний доступ к новой функциональности для вашего проекта dbt.
- dbt Cloud поддерживает множество [облачных провайдеров](/docs/cloud/connect-data-platform/about-connections), включая Snowflake, Databricks, BigQuery, Fabric и Redshift (и это лишь некоторые из них).
- Используйте [расширенные атрибуты](/docs/deploy/deploy-environments#extended-attributes) для установки гибкого фрагмента [profiles.yml](/docs/core/connect-data-platform/profiles.yml) в настройках среды dbt Cloud. Это дает вам больше контроля над средами (как развертывания, так и разработки) и расширяет возможности подключения dbt Cloud к платформе данных в данной среде.
  - Например, если у вас есть поле в вашем `profiles.yml`, которое вы хотите добавить в пользовательский интерфейс адаптера dbt Cloud, вы можете использовать расширенные атрибуты для его настройки.

### Предостережения
- Не все параметры доступны для адаптеров.
- Проект может использовать только один тип хранилища.

## Инструменты разработки

dbt Cloud предоставляет возможность специалистам по данным разрабатывать в инструменте по их выбору. Он поставляется с [dbt Cloud CLI](/docs/cloud/cloud-cli-installation) (локальным) или [dbt Cloud IDE](/docs/cloud/dbt-cloud-ide/develop-in-the-cloud) (на основе браузера) для создания, тестирования, запуска и контроля версий ваших проектов dbt.

Оба инструмента разработки адаптированы для различных аудиторий и предпочтений в вашей команде. Чтобы упростить рабочий процесс вашей команды, важно знать, кто предпочтет dbt Cloud IDE, а кто может склониться к dbt Cloud CLI. Этот раздел направлен на разъяснение этих предпочтений.

### dbt Cloud IDE
Веб-интерфейс для создания, тестирования, запуска и контроля версий проектов dbt. Он компилирует код dbt в SQL и выполняет его непосредственно в вашей базе данных. dbt Cloud IDE делает разработку быстрой и легкой как для новых, так и для опытных специалистов по данным, чтобы строить и тестировать изменения.

**Кто может предпочесть dbt Cloud IDE?**

- Новые пользователи dbt или те, кто переходит с других инструментов и ценит более управляемый опыт через интерфейс на основе браузера.
- Члены команды, сосредоточенные на скорости и удобстве для начала работы с новым или существующим проектом.
- Лица, которые придают приоритет прямой обратной связи от IDE, например, видя несохраненные изменения.

**Ключевые особенности**

- dbt Cloud IDE имеет упрощенную функциональность Git:
  - Создавайте ветки функций из ветки, настроенной в среде разработки.
  - Просматривайте сохраненные, но не зафиксированные изменения кода непосредственно в IDE.
- [Форматируйте или проверяйте](/docs/cloud/dbt-cloud-ide/lint-format) ваш код с помощью `sqlfluff` или `sqlfmt`. Это включает поддержку добавления ваших собственных правил проверки.
- Позволяет пользователям нативно [откладывать на производство](/docs/cloud/about-cloud-develop-defer#defer-in-dbt-cloud-cli) метаданные непосредственно в их рабочих процессах разработки, уменьшая количество объектов.
- Поддерживает выполнение нескольких команд dbt одновременно через [безопасное параллельное выполнение](/reference/dbt-commands#parallel-execution), [функция](/docs/cloud/about-cloud/dbt-cloud-features), доступная в инфраструктуре dbt Cloud. В отличие от этого, `dbt-core` *не поддерживает* безопасное параллельное выполнение для нескольких вызовов в одном процессе.

dbt Cloud IDE предоставляет упрощенный интерфейс, доступный для всех пользователей, независимо от их технического уровня. Однако есть некоторые возможности, которые намеренно недоступны в dbt Cloud IDE из-за его акцента на простоте и удобстве использования:

- Предварительная проверка для автоматических проверок перед *фиксацией* кода пока недоступна.
- Массовое создание файлов / взаимодействие с файловой системой недоступно.
- Комбинирование/передача команд, таких как `dbt run -s (bash command)`, недоступно.

### dbt Cloud CLI
dbt Cloud CLI позволяет вам выполнять [команды](/reference/dbt-commands#available-commands) dbt в вашей среде разработки dbt Cloud из вашей локальной командной строки. Для пользователей, которые ищут полный контроль над своей средой разработки и идеально подходят для тех, кто комфортно работает с командной строкой.

При переходе с dbt Core на dbt Cloud убедитесь, что файл `.gitignore` содержит [необходимые папки](/docs/collaborate/git/version-control-basics#the-gitignore-file). dbt Core не взаимодействует с git, поэтому dbt Cloud не добавляет и не проверяет автоматически записи в файл `.gitignore`. Кроме того, если репозиторий уже содержит код dbt и не требует инициализации, dbt Cloud не добавит недостающие записи в файл `.gitignore`.

**Кто может предпочесть dbt Cloud CLI?**

- Специалисты по данным, привыкшие работать с определенным набором инструментов разработки.
- Пользователи, ищущие детальный контроль над своими рабочими процессами Git (например, предварительные проверки для автоматических проверок перед фиксацией кода).
- Специалисты по данным, которым необходимо выполнять сложные операции, такие как массовое создание файлов или специфические комбинации команд.

**Ключевые особенности**

- Позволяет пользователям выполнять команды dbt в их среде разработки dbt Cloud из их локальной командной строки с минимальной настройкой.
- Позволяет пользователям нативно [откладывать на производство](/docs/cloud/about-cloud-develop-defer#defer-in-dbt-cloud-cli) метаданные непосредственно в их рабочих процессах разработки, уменьшая количество объектов.
- Поддерживает выполнение нескольких команд dbt одновременно через [безопасное параллельное выполнение](/reference/dbt-commands#parallel-execution), [функция](/docs/cloud/about-cloud/dbt-cloud-features), доступная в инфраструктуре dbt Cloud. В отличие от этого, `dbt-core` *не поддерживает* безопасное параллельное выполнение для нескольких вызовов в одном процессе.
- Возможность использования расширений Visual Studio (VS) Code (таких как [dbt-power-user](https://marketplace.visualstudio.com/items?itemName=innoverio.vscode-dbt-power-user) для улучшения опыта разработки, добавляя дополнительные функции.

## Оркестрация

dbt Cloud предоставляет надежную оркестрацию, которая позволяет вам легко планировать, запускать и отслеживать задания dbt. Вот некоторые советы и предостережения, которые стоит учитывать при использовании функций оркестрации dbt Cloud:

### Советы

- Включите [частичное разбор](/docs/cloud/account-settings#partial-parsing) между заданиями в dbt Cloud, чтобы значительно ускорить разбор проекта, обрабатывая только измененные файлы, оптимизируя производительность для больших проектов.
- [Запускайте несколько CI/CD](/docs/deploy/continuous-integration) заданий одновременно, которые не будут блокировать производственные запуски. Планировщик заданий автоматически отменяет устаревшие запуски, когда поступает более новый коммит. Это происходит потому, что каждый PR будет запускаться в своей собственной схеме.
- dbt Cloud автоматически [отменяет](/docs/deploy/job-scheduler#run-cancellation-for-over-scheduled-jobs) запланированный запуск, если существующий запуск все еще выполняется. Это предотвращает ненужные, дублирующие выполнения.
- Защитите вас и вашу свежесть данных от сбоев сторонних сервисов, включив [кэширование Git-репозитория](/docs/cloud/account-settings#git-repository-caching) в dbt Cloud, которое сохраняет кэш Git-репозитория проекта. <Lifecycle status="enterprise"/>
- [Связывайте задания развертывания](/docs/deploy/deploy-jobs#trigger-on-job-completion) между проектами dbt Cloud, настраивая ваше задание или используя [API создания задания](/dbt-cloud/api-v2#/operations/Create%20Job) для этого. <Lifecycle status="team,enterprise"/>
- [Перезапускайте ваши задания](/docs/deploy/retry-jobs) с начала или с точки сбоя, если выполнение вашего задания dbt завершилось со статусом **`Ошибка.`**

### Предостережения
- Чтобы автоматизировать настройку и конфигурацию вашей платформы dbt Cloud, вы можете хранить конфигурации ваших заданий как код в репозитории:
  - Ознакомьтесь с нашим [провайдером Terraform.](https://registry.terraform.io/providers/dbt-labs/dbtcloud/latest/docs/resources/job)
  - Кроме того, ознакомьтесь с нашим репозиторием [jobs-as-code](https://github.com/dbt-labs/dbt-jobs-as-code), который является инструментом, созданным для обработки заданий dbt Cloud как хорошо определенного YAML-файла.
- Пользователи dbt Cloud и внешние электронные письма могут получать уведомления, если задание завершилось сбоем, успешно или было отменено. Чтобы получать уведомления о предупреждениях, вы можете создать [подписку на вебхуки](/guides/zapier-slack) и отправлять сообщения в Slack.

## dbt Mesh

[dbt Mesh](/best-practices/how-we-mesh/mesh-1-intro) помогает организациям с зрелыми, сложными рабочими процессами трансформации в dbt повысить гибкость и производительность их проектов dbt. Он позволяет использовать несколько взаимосвязанных проектов dbt вместо одного большого монолитного проекта.

Это позволяет вам взаимодействовать и перемещаться между различными проектами и моделями с [межпроектными зависимостями](/docs/collaborate/govern/project-dependencies#how-to-write-cross-project-ref), улучшая сотрудничество и управление данными.

Вот некоторые советы и предостережения, которые стоит учитывать при использовании dbt Mesh:

### Советы
- Чтобы динамически разрешать [межпроектные ссылки](/docs/collaborate/govern/project-dependencies#how-to-write-cross-project-ref), все разработчики должны разрабатывать с dbt Cloud (либо с dbt Cloud CLI, либо с dbt Cloud IDE). Межпроектные ссылки не поддерживаются нативно в dbt Core, за исключением установки исходного кода из вышестоящих проектов [в виде пакетов](/docs/build/packages#how-do-i-add-a-package-to-my-project)
- Связывайте модели между проектами для модульного и масштабируемого подхода к вашему проекту и командам.
- Управляйте доступом к вашим моделям dbt как внутри, так и между проектами, используя:
  - **[Группы](/docs/collaborate/govern/model-access#groups)** &mdash; Организуйте узлы в вашем dbt DAG, которые имеют логическую связь, и назначьте владельца всей группы.
  - **[Доступ к моделям](/docs/collaborate/govern/model-access#access-modifiers)** &mdash; Контролируйте, какие другие модели или проекты могут ссылаться на эту модель.
  - **[Версии моделей](/docs/collaborate/govern/model-versions)** &mdash; Позволяют принимать и устаревать модели по мере их развития.
  - **[Контракты моделей](/docs/collaborate/govern/model-contracts)** &mdash; Устанавливайте четкие ожидания относительно формы данных, чтобы гарантировать, что изменения данных выше по потоку dbt или в логике проекта не нарушают данные продуктов потребителей ниже по потоку.
- Используйте [dbt-meshify](https://github.com/dbt-labs/dbt-meshify) для ускорения разделения вашего монолита на несколько проектов.

### Предостережения
- Чтобы использовать межпроектные ссылки в dbt, каждый проект dbt должен соответствовать только одному проекту dbt Cloud. Мы настоятельно не рекомендуем определять несколько проектов для одной и той же кодовой базы, даже если вы пытаетесь управлять разрешениями доступа, подключаться к различным хранилищам данных или разделять производственные и непроизводственные данные. Хотя это было необходимо исторически, такие функции, как [Стадии среды](/docs/dbt-cloud-environments#types-of-environments), RBAC на уровне среды (_скоро будет_) и [Расширенные атрибуты](/docs/dbt-cloud-environments#extended-attributes) сделают это ненужным.
- Зависимости проектов однонаправленные, что означает, что они идут в одном направлении. Это означает, что dbt проверяет наличие циклов между проектами (циклические зависимости) и выдает ошибки, если они обнаружены. Однако мы рассматриваем возможность поддержки, позволяющей проектам зависеть друг от друга в обоих направлениях в будущем, при этом dbt все еще будет проверять наличие циклов на уровне узлов, позволяя циклы на уровне проектов.
- Все в аккаунте могут просматривать общедоступные метаданные моделей, что помогает пользователям легче находить продукты данных. Это отдельно от того, кто может получить доступ к фактическим данным, что контролируется разрешениями в хранилище данных. Для случаев использования, когда даже метаданные о повторно используемом активе данных являются конфиденциальными, мы [рассматриваем](https://github.com/dbt-labs/dbt-core/issues/9340) возможность расширения защищенных моделей.

Обратитесь к [Часто задаваемым вопросам о dbt Mesh](/best-practices/how-we-mesh/mesh-5-faqs) для получения дополнительных вопросов.

## Семантический слой dbt

Используйте [Семантический слой dbt](/docs/use-dbt-semantic-layer/dbt-sl), поддерживаемый MetricFlow, чтобы создать единое представление ваших бизнес-метрик, обеспечивая согласованность во всех аналитических инструментах. Вот некоторые советы и предостережения, которые стоит учитывать при использовании Семантического слоя dbt:

### Советы
- Определяйте семантические модели и метрики один раз в dbt Cloud с помощью [Семантического слоя dbt](/docs/use-dbt-semantic-layer/dbt-sl) (поддерживаемого MetricFlow). Повторно используйте их на различных аналитических платформах, уменьшая избыточность и ошибки.
- Используйте [API Семантического слоя dbt](/docs/dbt-cloud-apis/sl-api-overview) для запроса метрик в инструментах ниже по потоку для получения согласованных, надежных метрик данных.
- Подключайтесь к нескольким приложениям данных, от инструментов бизнес-аналитики до блокнотов, электронных таблиц, каталогов данных и многого другого, чтобы запрашивать ваши метрики. [Доступные интеграции](/docs/cloud-integrations/avail-sl-integrations) включают Tableau, Google Sheets, Hex и другие.
- Используйте [экспорты](/docs/use-dbt-semantic-layer/exports) для записи часто используемых запросов непосредственно в вашу платформу данных по расписанию.

### Предостережения
- Семантический слой dbt в настоящее время поддерживает среду развертывания для выполнения запросов. Опыт выполнения запросов в среде разработки скоро появится.
- Запускайте команды запросов/семантического слоя в dbt Cloud CLI, однако выполнение команд запросов/семантического слоя в dbt Cloud IDE пока не поддерживается.
- Семантический слой dbt пока не поддерживает SSH-туннелирование для подключений [Postgres или Redshift](/docs/cloud/connect-data-platform/connect-redshift-postgresql-alloydb). Он также не поддерживает использование [Единого входа (SSO)](/docs/cloud/manage-access/sso-overview) для [производственных учетных данных](/docs/dbt-cloud-apis/service-tokens#permissions-for-service-account-tokens) Семантического слоя, однако SSO поддерживается для учетных записей пользователей разработки.

Обратитесь к [Часто задаваемым вопросам о Семантическом слое dbt](/docs/use-dbt-semantic-layer/sl-faqs) для получения дополнительной информации.

## dbt Explorer

[dbt Explorer](/docs/collaborate/explore-projects) улучшает вашу способность обнаруживать, понимать и устранять неполадки ваших активов данных через богатые метаданные и визуализацию родословной. Вот некоторые советы и предостережения, которые стоит учитывать при использовании dbt Explorer:

### Советы
- Используйте возможности поиска и фильтрации в dbt Explorer, чтобы быстро находить модели, источники и тесты, упрощая ваш рабочий процесс.
- Просматривайте все [различные проекты](/docs/collaborate/explore-multiple-projects) и общедоступные модели в аккаунте, где определены общедоступные модели, и как они используются, чтобы лучше понять ваши ресурсы между проектами.
- Используйте функцию [Линзы](/docs/collaborate/explore-projects#lenses), которая представляет собой слои, похожие на карты, для вашего DAG, доступные из графа родословной вашего проекта. Линзы помогают вам лучше понять контекстные метаданные вашего проекта в масштабе, особенно для различения конкретной модели или подмножества моделей.
- Получите доступ к родословной на уровне столбцов (CLL) для ресурсов в вашем проекте dbt. <Lifecycle status="enterprise"/>

### Предостережения
- Должен быть хотя бы один успешный запуск задания в производственной среде развертывания, чтобы Explorer мог заполнить информацию.

Ознакомьтесь с функциями dbt Explorer, чтобы полностью использовать его возможности и избежать упущенных возможностей для повышения эффективности.

Обратитесь к [Часто задаваемым вопросам о dbt Explorer](/docs/collaborate/dbt-explorer-faqs) для получения дополнительной информации.

## Что дальше?

<ConfettiTrigger>

Поздравляем с завершением руководства 🎉!

Мы надеемся, что вы получили полезные инсайты и советы, которые помогут вам в вашем переходе. Важно отметить, что переход с dbt Core на dbt Cloud — это не просто эволюция ваших проектов данных, это исследование новых уровней сотрудничества, управления, эффективности и инноваций в вашей команде.

Для следующих шагов продолжайте изучать нашу серию из трех частей о переходе с dbt Core на dbt Cloud:

<CoretoCloudTable/>

</ConfettiTrigger>

### Ресурсы

Если вам нужна дополнительная помощь или у вас есть вопросы, используйте следующие ресурсы:

- [Курсы dbt Learn](https://learn.getdbt.com) для обучения по запросу в формате видео.
- Наша [команда поддержки](https://docs.getdbt.com/docs/dbt-support) всегда готова помочь вам с решением проблем dbt Cloud.
- Присоединяйтесь к [сообществу dbt](https://community.getdbt.com/), чтобы общаться с другими пользователями dbt, задавать вопросы и делиться лучшими практиками.
- Подпишитесь на [RSS-уведомления dbt Cloud](https://status.getdbt.com/)
- У корпоративных аккаунтов есть команда управления аккаунтами, готовая помочь с решением проблем и управлением аккаунтом. [Запишитесь на демонстрацию](https://www.getdbt.com/contact), чтобы узнать больше.
- [Как dbt Cloud сравнивается с dbt Core](https://www.getdbt.com/product/dbt-core-vs-dbt-cloud) для детального сравнения dbt Core и dbt Cloud.

Для индивидуальной помощи вы можете использовать следующие ресурсы:

- Запишитесь на [демонстрации с экспертами](https://www.getdbt.com/resources/dbt-cloud-demos-with-experts) и получите инсайты
- Работайте с командой [Профессиональных услуг dbt Labs](https://www.getdbt.com/dbt-labs/services), чтобы поддержать вашу организацию данных и переход.