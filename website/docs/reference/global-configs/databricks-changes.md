---
title: "Изменения в поведении адаптера Databricks"
id: "databricks-changes"
sidebar: "Databricks"
---

Ниже приведены текущие [флаги изменения поведения](/docs/reference/global-configs/behavior-changes.md#behavior-change-flags), специфичные для `dbt-databricks`:

| Флаг                          | `dbt-databricks`: Введение | `dbt-databricks`: Зрелость |
| ----------------------------- | -------------------------- | --------------------------- |
| `use_info_schema_for_columns` | 1.9.0                      | TBD                         |
| `use_user_folder_for_python`  | 1.9.0                      | TBD                         |

### Использование схемы информации для столбцов

Флаг `use_info_schema_for_columns` по умолчанию установлен в `False`.

Установка этого флага в `True` позволит использовать `information_schema` вместо `describe extended` для получения метаданных столбцов таблиц Unity Catalog. Эта настройка помогает избежать проблем, когда `describe extended` обрезает информацию, если тип является сложной структурой. Однако эта настройка пока не является поведением по умолчанию, так как существуют проблемы с производительностью из-за ограничения метаданных Databricks, связанного с необходимостью выполнения `REPAIR TABLE {{relation}} SYNC METADATA` перед запросом, чтобы гарантировать, что `information_schema` полон.

Этот флаг станет поведением по умолчанию, когда этот дополнительный запрос больше не будет необходим.

### Использование папки пользователя для ноутбуков моделей Python

Флаг `use_user_folder_for_python` по умолчанию установлен в `False` и приводит к записи загруженных ноутбуков моделей Python в `/Shared/dbt_python_models/{{schema}}/`. Установка этого флага в `True` позволит записывать ноутбуки в `/Users/{{current user}}/{{catalog}}/{{schema}}/`. Запись в папку `Shared` устарела в Databricks, так как не соответствует лучшим практикам управления.

Мы планируем повысить зрелость этого флага в версии v1.10.0.