---
title: "Настройка кавычек в проектах"
sidebar_label: "кавычки"
datatype: boolean # -ish, это на самом деле словарь булевых значений
description: "Прочитайте это руководство, чтобы понять конфигурацию кавычек в dbt."
default: true
---
<File name='dbt_project.yml'>

```yml
quoting:
  database: true | false
  schema: true | false
  identifier: true | false

```

</File>

## Определение
Опционально настройте, следует ли dbt использовать кавычки для баз данных, схем и идентификаторов при:
* создании отношений (таблиц/представлений)
* разрешении функции `ref` в прямую ссылку на отношение

:::info Терминология BigQuery

Обратите внимание, что для конфигурации кавычек в BigQuery следует использовать `database` и `schema`, хотя эти настройки будут применяться к именам `project` и `dataset` соответственно.

:::

## Значение по умолчанию

Значения по умолчанию различаются в зависимости от базы данных.
<Tabs
  defaultValue="default"
  values={[
    { label: 'По умолчанию', value: 'default', },
    { label: 'Snowflake', value: 'snowflake', },
  ]
}>
<TabItem value="default">

Для большинства адаптеров кавычки по умолчанию установлены в `true`.

Почему? Выбор из отношений с кавычками или без них одинаково прост. Использование кавычек позволяет использовать зарезервированные слова и специальные символы в этих идентификаторах, хотя мы рекомендуем избегать этого, когда это возможно.

  <File name='dbt_project.yml'>

```yml
quoting:
  database: true
  schema: true
  identifier: true

```

</File>
</TabItem>
<TabItem value="snowflake">

В Snowflake кавычки по умолчанию установлены в `false`.

Создание отношений с идентификаторами в кавычках также делает эти идентификаторы чувствительными к регистру. Выбор из них становится гораздо более сложным. Вы можете повторно включить кавычки для идентификаторов отношений, которые чувствительны к регистру, являются зарезервированными словами или содержат специальные символы, но мы рекомендуем избегать этого, насколько это возможно.

<File name='dbt_project.yml'>

```yml
quoting:
  database: false
  schema: false
  identifier: false

```

</File>

</TabItem>

</Tabs>

## Примеры
Установите кавычки в `false` для проекта:
<File name='dbt_project.yml'>

```yml
quoting:
  database: false
  schema: false
  identifier: false

```

dbt затем создаст отношения без кавычек:

```sql
create table analytics.dbt_alice.dim_customers
```

</File>

## Рекомендация

### Snowflake
Установите все настройки кавычек в `False`. Это означает, что вы не можете использовать зарезервированные слова в качестве идентификаторов, однако обычно это хорошая идея — избегать этих зарезервированных слов.

Если таблица источника Snowflake использует идентификатор базы данных, схемы или таблицы в кавычках, вы можете настроить это в файле source.yml. [Смотрите настройку кавычек для получения дополнительной информации](/reference/resource-properties/quoting).

#### Объяснение:

В то время как большинство баз данных будут _приводить к нижнему регистру_ идентификаторы без кавычек, Snowflake будет _приводить к верхнему регистру_ идентификаторы без кавычек. Если имя модели приведено к нижнему регистру _и заключено в кавычки_, то к нему нельзя будет обратиться без кавычек! Ознакомьтесь с примером ниже для получения дополнительной информации.

<File name='snowflake_casing.sql'>

```sql
/*
    Вы можете выполнить следующие запросы к вашей базе данных
    чтобы понять, как работают кавычки в Snowflake.
*/

-- Это вывод примера модели `orders.sql` с включенными кавычками
create table "analytics"."orders" as (

  select 1 as id

);

/*
    Эти запросы НЕ будут работать! Поскольку таблица выше была создана с кавычками,
    Snowflake создал таблицу orders с именем схемы и идентификатора в нижнем регистре.

    Поскольку идентификаторы без кавычек автоматически приводятся к верхнему регистру, оба
    следующих запроса эквивалентны, и ни один из них не будет работать правильно.
*/

select * from analytics.orders;
select * from ANALYTICS.ORDERS;

/*
    Чтобы выполнить запрос к этой таблице, вам нужно будет заключить в кавычки схему и таблицу. Этот
    запрос должен завершиться без ошибок.
*/

select * from "analytics"."orders";


/*
    Чтобы избежать этой путаницы с кавычками, вы можете отключить кавычки для схем
    и идентификаторов в вашем файле dbt_project.yml. Это означает, что вы
    не сможете использовать зарезервированные слова в качестве имен моделей, но, вероятно,
    вам не следует этого делать! Предполагая, что кавычки для схемы и идентификатора
    отключены, следующий запрос действительно будет работать:
*/

select * from analytics.orders;
```

</File>

### Другие хранилища
Оставьте значения по умолчанию для вашего хранилища.