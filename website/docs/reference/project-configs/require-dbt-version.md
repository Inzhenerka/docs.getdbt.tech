---
datatype: version-range | [version-range]
description: "Прочитайте это руководство, чтобы понять конфигурацию require-dbt-version в dbt."
default_value: None
---



<File name='dbt_project.yml'>

```yml
require-dbt-version: version-range | [version-range]
```

</File>

## Определение

Вы можете использовать `require-dbt-version`, чтобы ограничить ваш проект работой только с определенным диапазоном версий dbt.

Когда вы устанавливаете эту конфигурацию, dbt отправляет полезное сообщение об ошибке любому пользователю, который пытается запустить проект с неподдерживаемой версией dbt. Это может быть полезно для поддерживающих пакеты (таких как [dbt-utils](https://github.com/dbt-labs/dbt-utils)), чтобы гарантировать, что версия dbt у пользователей совместима с пакетом. Установка этой конфигурации также может помочь вашей команде оставаться синхронизированной на одной версии dbt для локальной разработки, чтобы избежать проблем совместимости из-за измененного поведения.

Если эта конфигурация не указана, проверка версии не будет производиться.

:::info Выпуски dbt Cloud 

<Snippet path="_config-dbt-version-check" />

:::

### Кавычки в YAML

Эта конфигурация должна быть интерполирована парсером YAML как строка. Поэтому вы должны заключить значение конфигурации в кавычки, избегая пробелов. Например:
```yml
# ✅ Эти варианты будут работать
require-dbt-version: ">=1.0.0" # Двойные кавычки допустимы
require-dbt-version: '>=1.0.0' # Так же допустимы одинарные кавычки

# ❌ Эти варианты не будут работать
require-dbt-version: >=1.0.0 # Без кавычек? Не годится
require-dbt-version: ">= 1.0.0" # Не ставьте пробелы после знаков равенства
```


## Примеры

### Указать минимальную версию dbt
Используйте оператор `>=` для минимальной границы. В следующем примере этот проект будет работать с любой версией dbt, большей или равной 1.0.0.

<File name='dbt_project.yml'>

```yml
require-dbt-version: ">=1.0.0"
```

</File>


### Зафиксировать диапазон
Используйте список, разделенный запятыми, для верхней и нижней границы. В следующем примере этот проект будет работать с dbt 1.x.x.

<File name='dbt_project.yml'>

```yml
require-dbt-version: [">=1.0.0", "<2.0.0"]
```

</File>

ИЛИ

<File name='dbt_project.yml'>

```yml
require-dbt-version: ">=1.0.0,<2.0.0"
```

</File>

  
### Требовать конкретную версию dbt

:::info Не рекомендуется
Фиксация на конкретной версии dbt не рекомендуется, так как это ограничивает гибкость проекта и может вызвать проблемы совместимости, особенно с пакетами dbt. Рекомендуется [зафиксировать на мажорном релизе](#pin-to-a-range), используя диапазон версий (например, `">=1.0.0", "<2.0.0"`) для более широкой совместимости и получения обновлений.

Хотя вы можете ограничить ваш проект работой только с точной версией dbt Core, мы не рекомендуем это для dbt Core v1.0.0 и выше.

:::

В следующем примере проект будет работать только с dbt v1.5: 

<File name='dbt_project.yml'>

```yml
require-dbt-version: "1.5.0"
```

</File>

## Неверные версии dbt

Если версия dbt, используемая для вызова проекта, не совпадает с указанной `require-dbt-version` в проекте или _любой_ из включенных пакетов, dbt немедленно завершит работу с следующей ошибкой:
```
$ dbt compile
Запуск с dbt=0.21.0
Произошла ошибка при чтении проекта:
Ошибка времени выполнения
  Эта версия dbt не поддерживается пакетом 'my_project'.
    Установленная версия dbt: =0.21.0
    Требуемая версия dbt для 'my_project': ['>=1.0.0', '<2.0.0']
  Проверьте требования для пакета 'my_project' или запустите dbt снова с --no-version-check
```

## Отключение проверок версий

Чтобы подавить ошибки из-за несовместимых версий dbt, укажите флаг `--no-version-check` для `dbt run`.
```
$ dbt run --no-version-check
Запуск с dbt=0.21.0
Найдено 13 моделей, 2 теста, 1 архив, 0 анализов, 204 макроса, 2 операции....
```

Смотрите [глобальные конфигурации](/reference/global-configs/version-compatibility) для получения подробной информации о использовании.

## Рекомендация
* Это рекомендуемая конфигурация
* Перед версией 1 вы должны зафиксировать вашу требуемую версию dbt на минорном релизе. После версии 1 вы должны зафиксировать на мажорном релизе (см. выше [пример](#pin-to-a-range))