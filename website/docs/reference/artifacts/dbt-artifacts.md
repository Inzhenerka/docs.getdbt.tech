---
title: "О артефактах dbt"
sidebar_label: "О артефактах dbt"
---

При каждом вызове dbt генерирует и сохраняет один или несколько *артефактов*. Некоторые из них представляют собой <Term id="json" /> файлы (`semantic_manifest.json`, `manifest.json`, `catalog.json`, `run_results.json` и `sources.json`), которые используются для:

- [документации](/docs/collaborate/build-and-view-your-docs)
- [состояния](/reference/node-selection/syntax#about-node-selection)
- [визуализации свежести источников](/docs/build/sources#source-data-freshness)

Они также могут быть использованы для:

- получения информации о вашем [dbt Semantic Layer](/docs/use-dbt-semantic-layer/dbt-sl)
- расчета уровня тестового покрытия на уровне проекта
- проведения долгосрочного анализа времени выполнения
- выявления исторических изменений в <Term id="table" /> структуре
- и многого другого

dbt производит артефакты с момента выпуска dbt-docs в версии v0.11.0. Начиная с версии dbt v0.19.0, мы стремимся к стабильному и устойчивому способу версионирования, документирования и валидации артефактов dbt.

### Когда производятся артефакты? <Lifecycle status="team,enterprise"/>

Большинство команд dbt (и соответствующих методов RPC) производят артефакты:
- [семантический манифест](/reference/artifacts/sl-manifest): создается каждый раз, когда ваш проект dbt анализируется
- [манифест](/reference/artifacts/manifest-json): создается командами, которые читают и понимают ваш проект
- [результаты выполнения](/reference/artifacts/run-results-json): создаются командами, которые выполняют, компилируют или каталогизируют узлы в вашем DAG
- [каталог](catalog-json): создается командой `docs generate`
- [источники](/reference/artifacts/sources-json): создаются командой `source freshness`

При выполнении команд из [dbt Cloud CLI](/docs/cloud/cloud-cli-installation) все артефакты по умолчанию загружаются. Если вы хотите изменить это поведение, обратитесь к разделу [Как пропустить загрузку артефактов](/docs/cloud/configure-cloud-cli#how-to-skip-artifacts-from-being-downloaded).

## Где производятся артефакты?

По умолчанию артефакты записываются в директорию `/target` вашего проекта dbt. Вы можете настроить расположение, используя флаг [`target-path`](/reference/global-configs/json-artifacts).

## Общие метаданные

Все артефакты, производимые dbt, включают словарь `metadata` с этими свойствами:

- `dbt_version`: Версия dbt, которая произвела этот артефакт. Для получения информации о версионировании релизов обратитесь к разделу [Версионирование](/reference/commands/version#versioning). 
- `dbt_schema_version`: URL схемы этого артефакта. См. примечания ниже.
- `generated_at`: Временная метка в UTC, когда был произведен этот артефакт.
- `adapter_type`: Адаптер (база данных), например, `postgres`, `spark` и т.д.
- `env`: Любые переменные окружения, начинающиеся с `DBT_ENV_CUSTOM_ENV_`, будут включены в словарь, где имя переменной без префикса будет ключом.
- [`invocation_id`](/reference/dbt-jinja-functions/invocation_id): Уникальный идентификатор для этого вызова dbt

В манифесте `metadata` также может включать:
- `send_anonymous_usage_stats`: Отправил ли этот вызов [анонимные статистические данные использования](/reference/global-configs/usage-stats) во время выполнения.
- `project_name`: `name`, определенное в `dbt_project.yml` корневого проекта. (Добавлено в манифест v10 / dbt Core v1.6)
- `project_id`: Идентификатор проекта, хэшированный из `project_name`, отправленный с анонимными статистическими данными использования, если это включено.
- `user_id`: Идентификатор пользователя, по умолчанию хранящийся в `~/dbt/.user.yml`, отправленный с анонимными статистическими данными использования, если это включено.

#### Примечания:

- Структура артефактов dbt канонизирована с помощью [JSON схем](https://json-schema.org/), которые размещены на [schemas.getdbt.com](https://schemas.getdbt.com/).
- Версии артефактов могут изменяться в любой минорной версии dbt (`v1.x.0`). Каждый артефакт версионируется независимо.

## Связанные документы
- [Другие артефакты](/reference/artifacts/other-artifacts), такие как `index.html` или `graph_summary.json`.