---
title: Определение конфигураций
sidebar_label: Определение конфигураций
intro_text: "Узнайте, как определять конфигурации для ваших ресурсов в dbt‑проекте"
description: "Узнайте, как определять конфигурации для ваших ресурсов в dbt‑проекте"
pagination_previous: "reference/configs-and-properties"
pagination_next: "reference/define-properties"
---

В зависимости от типа ресурса вы можете задавать конфигурации в dbt‑проекте, а также в установленном пакете, следующими способами:

<VersionBlock firstVersion="1.9">

1. Используя свойство [`config`](/reference/resource-properties/config) в файле `.yml` для поддерживаемых директорий ресурсов, таких как `models/`, `snapshots/`, `seeds/`, `analyses`, `tests/` и других.
2. Через файл [`dbt_project.yml`](dbt_project.yml), в соответствующем ключе ресурса (`models:`, `snapshots:`, `data_tests:` и так далее).
</VersionBlock>

## Наследование конфигураций

Наиболее специфичная конфигурация всегда имеет приоритет. В общем случае это следует порядку, указанному выше: блок `config()` внутри файла → свойства, определённые в `.yml` файле → конфигурация, заданная в проектном файле.

Примечание: обобщённые data tests работают немного иначе с точки зрения специфичности. Подробнее см. [test configs](/reference/data-test-configs).

Внутри проектного файла конфигурации также применяются иерархически. Наиболее специфичная конфигурация всегда имеет приоритет. Например, конфигурации, применённые к поддиректории `marketing`, будут иметь приоритет над конфигурациями, применёнными ко всему проекту `jaffle_shop`. Чтобы применить конфигурацию к модели или директории моделей, определите [resource path](/reference/resource-configs/resource-path) в виде вложенных ключей словаря.

Конфигурации в корневом dbt‑проекте имеют _более высокий_ приоритет, чем конфигурации в установленных пакетах. Это позволяет переопределять настройки установленных пакетов и даёт больше контроля над выполнением dbt.

## Комбинирование конфигураций

Большинство конфигураций при иерархическом применении «перезаписываются» (clobbered). Если доступно более специфичное значение, оно полностью заменяет менее специфичное. Однако некоторые конфигурации имеют иное поведение при объединении:
- [`tags`](/reference/resource-configs/tags) являются аддитивными. Если для модели заданы теги в `dbt_project.yml`, а дополнительные теги указаны в её `.sql` файле, итоговый набор тегов будет включать их все.
- Словари [`meta`](/reference/resource-configs/meta) объединяются (более специфичная пара ключ‑значение заменяет менее специфичное значение с тем же ключом).
- При использовании конфигурации [`freshness`](/reference/resource-configs/freshness) более специфичная пара ключ‑значение заменяет менее специфичное значение с тем же ключом.
- [`pre-hook` и `post-hook`](/reference/resource-configs/pre-hook-post-hook) также являются аддитивными.
- Для перезаписываемых и объединяемых конфигураций, наследуемых с нескольких уровней, действуют общие правила:
    - Конфигурации на уровне ноды (более специфичные) перезаписывают конфигурации на уровне проекта (менее специфичные).
    - Для sources конфигурации на уровне таблицы (более специфичные) перезаписывают конфигурации на уровне source (менее специфичные).
    - Конфигурация корневого проекта в `dbt_project.yml` перезаписывает конфигурации в файлах пакетов. Это сделано для того, чтобы пользователи могли управлять поведением пакетов, устанавливаемых через `dbt deps`, без необходимости напрямую редактировать код этих пакетов.

## Префикс `+`

import PlusPrefix from '/snippets/_plus-prefix.md';

<PlusPrefix />

import Example from '/snippets/_configs-properties.md'  ;

<Example />
