---
title: "Операторы графа"
---

### Оператор «плюс»

Оператор `+` расширяет выборку, включая предков (upstream‑зависимости) или потомков (downstream‑зависимости) ресурса. Этот оператор работает для отдельных моделей, тегов и других ресурсов.

- Размещён **после** модели/ресурса — включает сам ресурс и всех его потомков (downstream‑зависимости).
- Размещён **перед** моделью/ресурсом — включает сам ресурс и всех его предков (upstream‑зависимости).
- Размещён **с обеих сторон** модели/ресурса — включает сам ресурс, всех его предков и всех его потомков.

```bash
dbt run --select "my_model+"         # выбрать my_model и всех потомков
dbt run --select "+my_model"         # выбрать my_model и всех предков
dbt run --select "+my_model+"        # выбрать my_model, всех его предков и потомков
```

Вы можете использовать этот оператор вместе с селекторами, чтобы более точно ограничить область действия команд. Также его можно комбинировать с флагом [`--exclude`](/reference/node-selection/exclude) для ещё более тонкого контроля над тем, что будет включено в выполнение команды.

### Оператор «n‑plus»

Поведение оператора `+` можно настроить, указав количество рёбер (шагов), по которым нужно пройти.

```bash
dbt run --select "my_model+1"        # выбрать my_model и его потомков первой степени
dbt run --select "2+my_model"        # выбрать my_model, его предков первой степени («родителей») и предков второй степени («дедушек и бабушек»)
dbt run --select "3+my_model+4"      # выбрать my_model, его предков до 3-й степени и его потомков до 4-й степени
```

### Оператор «at»

Оператор `@` похож на `+`, но дополнительно включает _всех предков всех потомков выбранной модели_. Это полезно в средах непрерывной интеграции, где нужно собрать модель и всех её потомков, но при этом _предки_ этих потомков могут ещё не существовать в схеме. Оператор `@` (который можно размещать только в начале имени модели) выбирает столько уровней предков («родителей», «дедушек» и т. д.), сколько необходимо для успешной сборки всех потомков указанной модели.

Селектор `@snowplow_web_page_context` соберёт все три модели, показанные на диаграмме ниже.

<Lightbox src="/img/docs/running-a-dbt-project/command-line-interface/1643e30-Screen_Shot_2019-03-11_at_7.18.20_PM.png" title="@snowplow_web_page_context will select all of the models shown here"/>

```bash
dbt run --select "my_model+"         # выбрать my_model и всех потомков
dbt run --select "+my_model"         # выбрать my_model и всех предков
dbt run --select "+my_model+"        # выбрать my_model, всех его предков и потомков
```

### Оператор "n-плюс"

Вы можете настроить поведение оператора `+`, указав количество шагов, через которые нужно пройти.

```bash
dbt run --select "my_model+1"        # выбрать my_model и его потомков первой степени
dbt run --select "2+my_model"        # выбрать my_model, его предков первой степени ("родителей") и предков второй степени ("бабушек и дедушек")
dbt run --select "3+my_model+4"      # выбрать my_model, его предков до 3-й степени и потомков до 4-й степени
```

### Оператор "собака"
Оператор `@` похож на `+`, но также включает _всех предков всех потомков выбранной модели_. Это полезно в средах непрерывной интеграции, где вы хотите построить модель и всех ее потомков, но _предки_ этих потомков могут еще не существовать в схеме. Оператор `@` (который может быть размещен только в начале имени модели) выберет столько степеней предков ("родителей", "бабушек и дедушек" и так далее), сколько необходимо для успешного построения всех потомков указанной модели.

Селектор `@snowplow_web_page_context` построит все три модели, показанные на диаграмме ниже.

<Lightbox src="/img/docs/running-a-dbt-project/command-line-interface/1643e30-Screen_Shot_2019-03-11_at_7.18.20_PM.png" title="@snowplow_web_page_context выберет все показанные здесь модели"/>

```bash
dbt run --select "@my_model"         # выбрать my_model, его потомков и предков его потомков
```